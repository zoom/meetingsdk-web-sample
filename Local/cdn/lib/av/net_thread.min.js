(()=>{var t={7201:(t,e,s)=>{t.exports=s(3042)},1829:(t,e,s)=>{"use strict";var r=s(2222);t.exports=r},6040:(t,e,s)=>{"use strict";var r=s(8251);t.exports=r},7264:(t,e,s)=>{"use strict";var r=s(4139);s(768),s(8549),s(7152),s(1372),t.exports=r},9692:(t,e,s)=>{"use strict";var r=s(7045);t.exports=r},5663:(t,e,s)=>{"use strict";var r=s(70);t.exports=r},6823:(t,e,s)=>{"use strict";var r=s(8280),n=s(2017),i=String.prototype;t.exports=function(t){var e=t.replaceAll;return"string"==typeof t||t===i||r(i,t)&&e===i.replaceAll?n:e}},1926:(t,e,s)=>{"use strict";s(6750);var r=s(2046).Object,n=t.exports=function(t,e,s){return r.defineProperty(t,e,s)};r.defineProperty.sham&&(n.sham=!0)},2017:(t,e,s)=>{"use strict";s(1398),s(1995),s(929);var r=s(1747);t.exports=r("String","replaceAll")},3842:(t,e,s)=>{"use strict";s(8545),s(3643),s(4452),s(3997),s(5084),s(2596),s(5721),s(4954),s(4123),s(3377),s(2230),s(5344),s(1660),s(4610),s(3669),s(4810),s(3325),s(7024),s(8172),s(5205);var r=s(2046);t.exports=r.Symbol},1730:(t,e,s)=>{"use strict";s(9363),s(3643),s(7057),s(4954);var r=s(560);t.exports=r.f("iterator")},1661:(t,e,s)=>{"use strict";s(8537),s(3669);var r=s(560);t.exports=r.f("toPrimitive")},3042:(t,e,s)=>{"use strict";t.exports=s(9604)},9604:(t,e,s)=>{"use strict";s(6038);var r=s(1829);t.exports=r},4997:(t,e,s)=>{"use strict";var r=s(6040);t.exports=r},2321:(t,e,s)=>{"use strict";var r=s(7264);s(3939),s(1785),s(1697),s(4664),s(3422),s(36),s(8703),s(6878),s(9671),s(359),t.exports=r},2231:(t,e,s)=>{"use strict";var r=s(9692);t.exports=r},9280:(t,e,s)=>{"use strict";var r=s(5663);t.exports=r},2159:(t,e,s)=>{"use strict";var r=s(2250),n=s(4640),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(n(t)+" is not a function")}},43:(t,e,s)=>{"use strict";var r=s(4018),n=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw new i("Can't set "+n(t)+" as a prototype")}},2156:t=>{"use strict";t.exports=function(){}},6624:(t,e,s)=>{"use strict";var r=s(6285),n=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(n(t)+" is not an object")}},4436:(t,e,s)=>{"use strict";var r=s(7374),n=s(4849),i=s(575),o=function(t){return function(e,s,o){var a=r(e),c=i(a);if(0===c)return!t&&-1;var u,l=n(o,c);if(t&&s!=s){for(;c>l;)if((u=a[l++])!=u)return!0}else for(;c>l;l++)if((t||l in a)&&a[l]===s)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},726:(t,e,s)=>{"use strict";var r=s(8311),n=s(1907),i=s(6946),o=s(9298),a=s(575),c=s(6968),u=n([].push),l=function(t){var e=1===t,s=2===t,n=3===t,l=4===t,h=6===t,d=7===t,_=5===t||h;return function(m,p,f,g){for(var y,v,b=o(m),w=i(b),M=a(w),S=r(p,f),A=0,E=g||c,T=e?E(m,M):s||d?E(m,0):void 0;M>A;A++)if((_||A in w)&&(v=S(y=w[A],A,b),t))if(e)T[A]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return A;case 2:u(T,y)}else switch(t){case 4:return!1;case 7:u(T,y)}return h?-1:n||l?l:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},7171:(t,e,s)=>{"use strict";var r=s(8828),n=s(6264),i=s(798),o=n("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},3427:(t,e,s)=>{"use strict";var r=s(1907);t.exports=r([].slice)},4010:(t,e,s)=>{"use strict";var r=s(1793),n=s(5468),i=s(6285),o=s(6264)("species"),a=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(n(e)&&(e===a||r(e.prototype))||i(e)&&null===(e=e[o]))&&(e=void 0)),void 0===e?a:e}},6968:(t,e,s)=>{"use strict";var r=s(4010);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},5807:(t,e,s)=>{"use strict";var r=s(1907),n=r({}.toString),i=r("".slice);t.exports=function(t){return i(n(t),8,-1)}},3948:(t,e,s)=>{"use strict";var r=s(2623),n=s(2250),i=s(5807),o=s(6264)("toStringTag"),a=Object,c="Arguments"===i(function(){return arguments}());t.exports=r?i:function(t){var e,s,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=function(t,e){try{return t[e]}catch(t){}}(e=a(t),o))?s:c?i(e):"Object"===(r=i(e))&&n(e.callee)?"Arguments":r}},7382:(t,e,s)=>{"use strict";var r=s(8828);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9550:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},1626:(t,e,s)=>{"use strict";var r=s(9447),n=s(4284),i=s(5817);t.exports=r?function(t,e,s){return n.f(t,e,i(1,s))}:function(t,e,s){return t[e]=s,t}},5817:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},5543:(t,e,s)=>{"use strict";var r=s(9447),n=s(4284),i=s(5817);t.exports=function(t,e,s){r?n.f(t,e,i(0,s)):t[e]=s}},9251:(t,e,s)=>{"use strict";var r=s(4284);t.exports=function(t,e,s){return r.f(t,e,s)}},8055:(t,e,s)=>{"use strict";var r=s(1626);t.exports=function(t,e,s,n){return n&&n.enumerable?t[e]=s:r(t,e,s),t}},2532:(t,e,s)=>{"use strict";var r=s(5951),n=Object.defineProperty;t.exports=function(t,e){try{n(r,t,{value:e,configurable:!0,writable:!0})}catch(s){r[t]=e}return e}},9447:(t,e,s)=>{"use strict";var r=s(8828);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},9552:(t,e,s)=>{"use strict";var r=s(5951),n=s(6285),i=r.document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},8024:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},9287:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},376:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6794:(t,e,s)=>{"use strict";var r=s(5951).navigator,n=r&&r.userAgent;t.exports=n?String(n):""},798:(t,e,s)=>{"use strict";var r,n,i=s(5951),o=s(6794),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(n=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!n&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(n=+r[1]),t.exports=n},1091:(t,e,s)=>{"use strict";var r=s(5951),n=s(6024),i=s(2361),o=s(2250),a=s(3846).f,c=s(7463),u=s(2046),l=s(8311),h=s(1626),d=s(9724);s(6128);var _=function(t){var e=function(s,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(s);case 2:return new t(s,r)}return new t(s,r,i)}return n(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var s,n,m,p,f,g,y,v,b,w=t.target,M=t.global,S=t.stat,A=t.proto,E=M?r:S?r[w]:r[w]&&r[w].prototype,T=M?u:u[w]||h(u,w,{})[w],k=T.prototype;for(p in e)n=!(s=c(M?p:w+(S?".":"#")+p,t.forced))&&E&&d(E,p),g=T[p],n&&(y=t.dontCallGetSet?(b=a(E,p))&&b.value:E[p]),f=n&&y?y:e[p],(s||A||typeof g!=typeof f)&&(v=t.bind&&n?l(f,r):t.wrap&&n?_(f):A&&o(f)?i(f):f,(t.sham||f&&f.sham||g&&g.sham)&&h(v,"sham",!0),h(T,p,v),A&&(d(u,m=w+"Prototype")||h(u,m,{}),h(u[m],p,f),t.real&&k&&(s||!k[p])&&h(k,p,f)))}},8828:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},6024:(t,e,s)=>{"use strict";var r=s(1505),n=Function.prototype,i=n.apply,o=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(i):function(){return o.apply(i,arguments)})},8311:(t,e,s)=>{"use strict";var r=s(2361),n=s(2159),i=s(1505),o=r(r.bind);t.exports=function(t,e){return n(t),void 0===e?t:i?o(t,e):function(){return t.apply(e,arguments)}}},1505:(t,e,s)=>{"use strict";var r=s(8828);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},3930:(t,e,s)=>{"use strict";var r=s(1505),n=Function.prototype.call;t.exports=r?n.bind(n):function(){return n.apply(n,arguments)}},6833:(t,e,s)=>{"use strict";var r=s(9447),n=s(9724),i=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=n(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&o(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},1871:(t,e,s)=>{"use strict";var r=s(1907),n=s(2159);t.exports=function(t,e,s){try{return r(n(Object.getOwnPropertyDescriptor(t,e)[s]))}catch(t){}}},2361:(t,e,s)=>{"use strict";var r=s(5807),n=s(1907);t.exports=function(t){if("Function"===r(t))return n(t)}},1907:(t,e,s)=>{"use strict";var r=s(1505),n=Function.prototype,i=n.call,o=r&&n.bind.bind(i,i);t.exports=r?o:function(t){return function(){return i.apply(t,arguments)}}},1747:(t,e,s)=>{"use strict";var r=s(5951),n=s(2046);t.exports=function(t,e){var s=n[t+"Prototype"],i=s&&s[e];if(i)return i;var o=r[t],a=o&&o.prototype;return a&&a[e]}},5582:(t,e,s)=>{"use strict";var r=s(2046),n=s(5951),i=s(2250),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(n[t]):r[t]&&r[t][e]||n[t]&&n[t][e]}},6656:(t,e,s)=>{"use strict";var r=s(1907),n=s(1793),i=s(2250),o=s(5807),a=s(160),c=r([].push);t.exports=function(t){if(i(t))return t;if(n(t)){for(var e=t.length,s=[],r=0;r<e;r++){var u=t[r];"string"==typeof u?c(s,u):"number"!=typeof u&&"Number"!==o(u)&&"String"!==o(u)||c(s,a(u))}var l=s.length,h=!0;return function(t,e){if(h)return h=!1,e;if(n(this))return e;for(var r=0;r<l;r++)if(s[r]===t)return e}}}},9367:(t,e,s)=>{"use strict";var r=s(2159),n=s(7136);t.exports=function(t,e){var s=t[e];return n(s)?void 0:r(s)}},7703:(t,e,s)=>{"use strict";var r=s(1907),n=s(9298),i=Math.floor,o=r("".charAt),a=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,s,r,h,d){var _=s+t.length,m=r.length,p=l;return void 0!==h&&(h=n(h),p=u),a(d,p,(function(n,a){var u;switch(o(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,s);case"'":return c(e,_);case"<":u=h[c(a,1,-1)];break;default:var l=+a;if(0===l)return n;if(l>m){var d=i(l/10);return 0===d?n:d<=m?void 0===r[d-1]?o(a,1):r[d-1]+o(a,1):n}u=r[l-1]}return void 0===u?"":u}))}},5951:function(t,e,s){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof s.g&&s.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9724:(t,e,s)=>{"use strict";var r=s(1907),n=s(9298),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(n(t),e)}},8530:t=>{"use strict";t.exports={}},2416:(t,e,s)=>{"use strict";var r=s(5582);t.exports=r("document","documentElement")},3648:(t,e,s)=>{"use strict";var r=s(9447),n=s(8828),i=s(9552);t.exports=!r&&!n((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},6946:(t,e,s)=>{"use strict";var r=s(1907),n=s(8828),i=s(5807),o=Object,a=r("".split);t.exports=n((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?a(t,""):o(t)}:o},2647:(t,e,s)=>{"use strict";var r=s(1907),n=s(2250),i=s(6128),o=r(Function.toString);n(i.inspectSource)||(i.inspectSource=function(t){return o(t)}),t.exports=i.inspectSource},4932:(t,e,s)=>{"use strict";var r,n,i,o=s(551),a=s(5951),c=s(6285),u=s(1626),l=s(9724),h=s(6128),d=s(2522),_=s(8530),m="Object already initialized",p=a.TypeError,f=a.WeakMap;if(o||h.state){var g=h.state||(h.state=new f);g.get=g.get,g.has=g.has,g.set=g.set,r=function(t,e){if(g.has(t))throw new p(m);return e.facade=t,g.set(t,e),e},n=function(t){return g.get(t)||{}},i=function(t){return g.has(t)}}else{var y=d("state");_[y]=!0,r=function(t,e){if(l(t,y))throw new p(m);return e.facade=t,u(t,y,e),e},n=function(t){return l(t,y)?t[y]:{}},i=function(t){return l(t,y)}}t.exports={set:r,get:n,has:i,enforce:function(t){return i(t)?n(t):r(t,{})},getterFor:function(t){return function(e){var s;if(!c(e)||(s=n(e)).type!==t)throw new p("Incompatible receiver, "+t+" required");return s}}}},1793:(t,e,s)=>{"use strict";var r=s(5807);t.exports=Array.isArray||function(t){return"Array"===r(t)}},2250:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},5468:(t,e,s)=>{"use strict";var r=s(1907),n=s(8828),i=s(2250),o=s(3948),a=s(5582),c=s(2647),u=function(){},l=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),_=!h.test(u),m=function(t){if(!i(t))return!1;try{return l(u,[],t),!0}catch(t){return!1}},p=function(t){if(!i(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return _||!!d(h,c(t))}catch(t){return!0}};p.sham=!0,t.exports=!l||n((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?p:m},7463:(t,e,s)=>{"use strict";var r=s(8828),n=s(2250),i=/#|\.prototype\./,o=function(t,e){var s=c[a(t)];return s===l||s!==u&&(n(e)?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},7136:t=>{"use strict";t.exports=function(t){return null==t}},6285:(t,e,s)=>{"use strict";var r=s(2250);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},4018:(t,e,s)=>{"use strict";var r=s(6285);t.exports=function(t){return r(t)||null===t}},7376:t=>{"use strict";t.exports=!0},2087:(t,e,s)=>{"use strict";var r=s(6285),n=s(5807),i=s(6264)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"===n(t))}},5594:(t,e,s)=>{"use strict";var r=s(5582),n=s(2250),i=s(8280),o=s(1175),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return n(e)&&i(e.prototype,a(t))}},7181:(t,e,s)=>{"use strict";var r=s(5116).IteratorPrototype,n=s(8075),i=s(5817),o=s(4840),a=s(3742),c=function(){return this};t.exports=function(t,e,s,u){var l=e+" Iterator";return t.prototype=n(r,{next:i(+!u,s)}),o(t,l,!1,!0),a[l]=c,t}},183:(t,e,s)=>{"use strict";var r=s(1091),n=s(3930),i=s(7376),o=s(6833),a=s(2250),c=s(7181),u=s(5972),l=s(9192),h=s(4840),d=s(1626),_=s(8055),m=s(6264),p=s(3742),f=s(5116),g=o.PROPER,y=o.CONFIGURABLE,v=f.IteratorPrototype,b=f.BUGGY_SAFARI_ITERATORS,w=m("iterator"),M="keys",S="values",A="entries",E=function(){return this};t.exports=function(t,e,s,o,m,f,T){c(s,e,o);var k,C,R,P=function(t){if(t===m&&L)return L;if(!b&&t&&t in O)return O[t];switch(t){case M:case S:case A:return function(){return new s(this,t)}}return function(){return new s(this)}},x=e+" Iterator",I=!1,O=t.prototype,D=O[w]||O["@@iterator"]||m&&O[m],L=!b&&D||P(m),F="Array"===e&&O.entries||D;if(F&&(k=u(F.call(new t)))!==Object.prototype&&k.next&&(i||u(k)===v||(l?l(k,v):a(k[w])||_(k,w,E)),h(k,x,!0,!0),i&&(p[x]=E)),g&&m===S&&D&&D.name!==S&&(!i&&y?d(O,"name",S):(I=!0,L=function(){return n(D,this)})),m)if(C={values:P(S),keys:f?L:P(M),entries:P(A)},T)for(R in C)(b||I||!(R in O))&&_(O,R,C[R]);else r({target:e,proto:!0,forced:b||I},C);return i&&!T||O[w]===L||_(O,w,L,{name:m}),p[e]=L,C}},5116:(t,e,s)=>{"use strict";var r,n,i,o=s(8828),a=s(2250),c=s(6285),u=s(8075),l=s(5972),h=s(8055),d=s(6264),_=s(7376),m=d("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(n=l(l(i)))!==Object.prototype&&(r=n):p=!0),!c(r)||o((function(){var t={};return r[m].call(t)!==t}))?r={}:_&&(r=u(r)),a(r[m])||h(r,m,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},3742:t=>{"use strict";t.exports={}},575:(t,e,s)=>{"use strict";var r=s(3121);t.exports=function(t){return r(t.length)}},1176:t=>{"use strict";var e=Math.ceil,s=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?s:e)(r)}},8075:(t,e,s)=>{"use strict";var r,n=s(6624),i=s(2220),o=s(376),a=s(8530),c=s(2416),u=s(9552),l=s(2522),h="prototype",d="script",_=l("IE_PROTO"),m=function(){},p=function(t){return"<"+d+">"+t+"</"+d+">"},f=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,s;g="undefined"!=typeof document?document.domain&&r?f(r):(e=u("iframe"),s="java"+d+":",e.style.display="none",c.appendChild(e),e.src=String(s),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):f(r);for(var n=o.length;n--;)delete g[h][o[n]];return g()};a[_]=!0,t.exports=Object.create||function(t,e){var s;return null!==t?(m[h]=n(t),s=new m,m[h]=null,s[_]=t):s=g(),void 0===e?s:i.f(s,e)}},2220:(t,e,s)=>{"use strict";var r=s(9447),n=s(8661),i=s(4284),o=s(6624),a=s(7374),c=s(2875);e.f=r&&!n?Object.defineProperties:function(t,e){o(t);for(var s,r=a(e),n=c(e),u=n.length,l=0;u>l;)i.f(t,s=n[l++],r[s]);return t}},4284:(t,e,s)=>{"use strict";var r=s(9447),n=s(3648),i=s(8661),o=s(6624),a=s(470),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",_="writable";e.f=r?i?function(t,e,s){if(o(t),e=a(e),o(s),"function"==typeof t&&"prototype"===e&&"value"in s&&_ in s&&!s[_]){var r=l(t,e);r&&r[_]&&(t[e]=s.value,s={configurable:d in s?s[d]:r[d],enumerable:h in s?s[h]:r[h],writable:!1})}return u(t,e,s)}:u:function(t,e,s){if(o(t),e=a(e),o(s),n)try{return u(t,e,s)}catch(t){}if("get"in s||"set"in s)throw new c("Accessors not supported");return"value"in s&&(t[e]=s.value),t}},3846:(t,e,s)=>{"use strict";var r=s(9447),n=s(3930),i=s(2574),o=s(5817),a=s(7374),c=s(470),u=s(9724),l=s(3648),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=c(e),l)try{return h(t,e)}catch(t){}if(u(t,e))return o(!n(i.f,t,e),t[e])}},5407:(t,e,s)=>{"use strict";var r=s(5807),n=s(7374),i=s(4443).f,o=s(3427),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"===r(t)?function(t){try{return i(t)}catch(t){return o(a)}}(t):i(n(t))}},4443:(t,e,s)=>{"use strict";var r=s(3045),n=s(376).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},7170:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},5972:(t,e,s)=>{"use strict";var r=s(9724),n=s(2250),i=s(9298),o=s(2522),a=s(7382),c=o("IE_PROTO"),u=Object,l=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=i(t);if(r(e,c))return e[c];var s=e.constructor;return n(s)&&e instanceof s?s.prototype:e instanceof u?l:null}},8280:(t,e,s)=>{"use strict";var r=s(1907);t.exports=r({}.isPrototypeOf)},3045:(t,e,s)=>{"use strict";var r=s(1907),n=s(9724),i=s(7374),o=s(4436).indexOf,a=s(8530),c=r([].push);t.exports=function(t,e){var s,r=i(t),u=0,l=[];for(s in r)!n(a,s)&&n(r,s)&&c(l,s);for(;e.length>u;)n(r,s=e[u++])&&(~o(l,s)||c(l,s));return l}},2875:(t,e,s)=>{"use strict";var r=s(3045),n=s(376);t.exports=Object.keys||function(t){return r(t,n)}},2574:(t,e)=>{"use strict";var s={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!s.call({1:2},1);e.f=n?function(t){var e=r(this,t);return!!e&&e.enumerable}:s},9192:(t,e,s)=>{"use strict";var r=s(1871),n=s(6285),i=s(4239),o=s(43);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,s={};try{(t=r(Object.prototype,"__proto__","set"))(s,[]),e=s instanceof Array}catch(t){}return function(s,r){return i(s),o(r),n(s)?(e?t(s,r):s.__proto__=r,s):s}}():void 0)},4878:(t,e,s)=>{"use strict";var r=s(2623),n=s(3948);t.exports=r?{}.toString:function(){return"[object "+n(this)+"]"}},581:(t,e,s)=>{"use strict";var r=s(3930),n=s(2250),i=s(6285),o=TypeError;t.exports=function(t,e){var s,a;if("string"===e&&n(s=t.toString)&&!i(a=r(s,t)))return a;if(n(s=t.valueOf)&&!i(a=r(s,t)))return a;if("string"!==e&&n(s=t.toString)&&!i(a=r(s,t)))return a;throw new o("Can't convert object to primitive value")}},2046:t=>{"use strict";t.exports={}},5606:(t,e,s)=>{"use strict";var r=s(6624);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},663:(t,e,s)=>{"use strict";var r=s(3930),n=s(9724),i=s(8280),o=s(5606),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||n(t,"flags")||!i(a,t)?e:r(o,t)}},4239:(t,e,s)=>{"use strict";var r=s(7136),n=TypeError;t.exports=function(t){if(r(t))throw new n("Can't call method on "+t);return t}},4840:(t,e,s)=>{"use strict";var r=s(2623),n=s(4284).f,i=s(1626),o=s(9724),a=s(4878),c=s(6264)("toStringTag");t.exports=function(t,e,s,u){var l=s?t:t&&t.prototype;l&&(o(l,c)||n(l,c,{configurable:!0,value:e}),u&&!r&&i(l,"toString",a))}},2522:(t,e,s)=>{"use strict";var r=s(5816),n=s(6499),i=r("keys");t.exports=function(t){return i[t]||(i[t]=n(t))}},6128:(t,e,s)=>{"use strict";var r=s(7376),n=s(5951),i=s(2532),o="__core-js_shared__",a=t.exports=n[o]||i(o,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:r?"pure":"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5816:(t,e,s)=>{"use strict";var r=s(6128);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},1470:(t,e,s)=>{"use strict";var r=s(1907),n=s(5482),i=s(160),o=s(4239),a=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(t){return function(e,s){var r,l,h=i(o(e)),d=n(s),_=h.length;return d<0||d>=_?t?"":void 0:(r=c(h,d))<55296||r>56319||d+1===_||(l=c(h,d+1))<56320||l>57343?t?a(h,d):r:t?u(h,d,d+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},9846:(t,e,s)=>{"use strict";var r=s(798),n=s(8828),i=s(5951).String;t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},3467:(t,e,s)=>{"use strict";var r=s(3930),n=s(5582),i=s(6264),o=s(8055);t.exports=function(){var t=n("Symbol"),e=t&&t.prototype,s=e&&e.valueOf,a=i("toPrimitive");e&&!e[a]&&o(e,a,(function(t){return r(s,this)}),{arity:1})}},2595:(t,e,s)=>{"use strict";var r=s(5582),n=s(1907),i=r("Symbol"),o=i.keyFor,a=n(i.prototype.valueOf);t.exports=i.isRegisteredSymbol||function(t){try{return void 0!==o(a(t))}catch(t){return!1}}},9197:(t,e,s)=>{"use strict";for(var r=s(5816),n=s(5582),i=s(1907),o=s(5594),a=s(6264),c=n("Symbol"),u=c.isWellKnownSymbol,l=n("Object","getOwnPropertyNames"),h=i(c.prototype.valueOf),d=r("wks"),_=0,m=l(c),p=m.length;_<p;_++)try{var f=m[_];o(c[f])&&a(f)}catch(t){}t.exports=function(t){if(u&&u(t))return!0;try{for(var e=h(t),s=0,r=l(d),n=r.length;s<n;s++)if(d[r[s]]==e)return!0}catch(t){}return!1}},4411:(t,e,s)=>{"use strict";var r=s(9846);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},4849:(t,e,s)=>{"use strict";var r=s(5482),n=Math.max,i=Math.min;t.exports=function(t,e){var s=r(t);return s<0?n(s+e,0):i(s,e)}},7374:(t,e,s)=>{"use strict";var r=s(6946),n=s(4239);t.exports=function(t){return r(n(t))}},5482:(t,e,s)=>{"use strict";var r=s(1176);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},3121:(t,e,s)=>{"use strict";var r=s(5482),n=Math.min;t.exports=function(t){var e=r(t);return e>0?n(e,9007199254740991):0}},9298:(t,e,s)=>{"use strict";var r=s(4239),n=Object;t.exports=function(t){return n(r(t))}},6028:(t,e,s)=>{"use strict";var r=s(3930),n=s(6285),i=s(5594),o=s(9367),a=s(581),c=s(6264),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!n(t)||i(t))return t;var s,c=o(t,l);if(c){if(void 0===e&&(e="default"),s=r(c,t,e),!n(s)||i(s))return s;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},470:(t,e,s)=>{"use strict";var r=s(6028),n=s(5594);t.exports=function(t){var e=r(t,"string");return n(e)?e:e+""}},2623:(t,e,s)=>{"use strict";var r={};r[s(6264)("toStringTag")]="z",t.exports="[object z]"===String(r)},160:(t,e,s)=>{"use strict";var r=s(3948),n=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return n(t)}},4640:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6499:(t,e,s)=>{"use strict";var r=s(1907),n=0,i=Math.random(),o=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++n+i,36)}},1175:(t,e,s)=>{"use strict";var r=s(9846);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8661:(t,e,s)=>{"use strict";var r=s(9447),n=s(8828);t.exports=r&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},551:(t,e,s)=>{"use strict";var r=s(5951),n=s(2250),i=r.WeakMap;t.exports=n(i)&&/native code/.test(String(i))},366:(t,e,s)=>{"use strict";var r=s(2046),n=s(9724),i=s(560),o=s(4284).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});n(e,t)||o(e,t,{value:i.f(t)})}},560:(t,e,s)=>{"use strict";var r=s(6264);e.f=r},6264:(t,e,s)=>{"use strict";var r=s(5951),n=s(5816),i=s(9724),o=s(6499),a=s(9846),c=s(1175),u=r.Symbol,l=n("wks"),h=c?u.for||u:u&&u.withoutSetter||o;t.exports=function(t){return i(l,t)||(l[t]=a&&i(u,t)?u[t]:h("Symbol."+t)),l[t]}},8545:(t,e,s)=>{"use strict";var r=s(1091),n=s(8828),i=s(1793),o=s(6285),a=s(9298),c=s(575),u=s(8024),l=s(5543),h=s(6968),d=s(7171),_=s(6264),m=s(798),p=_("isConcatSpreadable"),f=m>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,arity:1,forced:!f||!d("concat")},{concat:function(t){var e,s,r,n,i,o=a(this),d=h(o,0),_=0;for(e=-1,r=arguments.length;e<r;e++)if(g(i=-1===e?o:arguments[e]))for(n=c(i),u(_+n),s=0;s<n;s++,_++)s in i&&l(d,_,i[s]);else u(_+1),l(d,_++,i);return d.length=_,d}})},9363:(t,e,s)=>{"use strict";var r=s(7374),n=s(2156),i=s(3742),o=s(4932),a=s(4284).f,c=s(183),u=s(9550),l=s(7376),h=s(9447),d="Array Iterator",_=o.set,m=o.getterFor(d);t.exports=c(Array,"Array",(function(t,e){_(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=m(this),e=t.target,s=t.index++;if(!e||s>=e.length)return t.target=null,u(void 0,!0);switch(t.kind){case"keys":return u(s,!1);case"values":return u(e[s],!1)}return u([s,e[s]],!1)}),"values");var p=i.Arguments=i.Array;if(n("keys"),n("values"),n("entries"),!l&&h&&"values"!==p.name)try{a(p,"name",{value:"values"})}catch(t){}},8537:()=>{},9721:(t,e,s)=>{"use strict";var r=s(1091),n=s(5582),i=s(6024),o=s(3930),a=s(1907),c=s(8828),u=s(2250),l=s(5594),h=s(3427),d=s(6656),_=s(9846),m=String,p=n("JSON","stringify"),f=a(/./.exec),g=a("".charAt),y=a("".charCodeAt),v=a("".replace),b=a(1..toString),w=/[\uD800-\uDFFF]/g,M=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,A=!_||c((function(){var t=n("Symbol")("stringify detection");return"[null]"!==p([t])||"{}"!==p({a:t})||"{}"!==p(Object(t))})),E=c((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),T=function(t,e){var s=h(arguments),r=d(e);if(u(r)||void 0!==t&&!l(t))return s[1]=function(t,e){if(u(r)&&(e=o(r,this,m(t),e)),!l(e))return e},i(p,null,s)},k=function(t,e,s){var r=g(s,e-1),n=g(s,e+1);return f(M,t)&&!f(S,n)||f(S,t)&&!f(M,r)?"\\u"+b(y(t,0),16):t};p&&r({target:"JSON",stat:!0,arity:3,forced:A||E},{stringify:function(t,e,s){var r=h(arguments),n=i(A?T:p,null,r);return E&&"string"==typeof n?v(n,w,k):n}})},7024:(t,e,s)=>{"use strict";var r=s(5951);s(4840)(r.JSON,"JSON",!0)},8172:()=>{},6750:(t,e,s)=>{"use strict";var r=s(1091),n=s(9447),i=s(4284).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!n},{defineProperty:i})},5264:(t,e,s)=>{"use strict";var r=s(1091),n=s(9846),i=s(8828),o=s(7170),a=s(9298);r({target:"Object",stat:!0,forced:!n||i((function(){o.f(1)}))},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(a(t)):[]}})},3643:()=>{},5205:()=>{},1398:()=>{},7057:(t,e,s)=>{"use strict";var r=s(1470).charAt,n=s(160),i=s(4932),o=s(183),a=s(9550),c="String Iterator",u=i.set,l=i.getterFor(c);o(String,"String",(function(t){u(this,{type:c,string:n(t),index:0})}),(function(){var t,e=l(this),s=e.string,n=e.index;return n>=s.length?a(void 0,!0):(t=r(s,n),e.index+=t.length,a(t,!1))}))},929:(t,e,s)=>{"use strict";var r=s(1091),n=s(3930),i=s(1907),o=s(4239),a=s(2250),c=s(7136),u=s(2087),l=s(160),h=s(9367),d=s(663),_=s(7703),m=s(6264),p=s(7376),f=m("replace"),g=TypeError,y=i("".indexOf),v=i("".replace),b=i("".slice),w=Math.max;r({target:"String",proto:!0},{replaceAll:function(t,e){var s,r,i,m,M,S,A,E,T,k,C=o(this),R=0,P="";if(!c(t)){if((s=u(t))&&(r=l(o(d(t))),!~y(r,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(i=h(t,f))return n(i,t,C,e);if(p&&s)return v(l(C),t,e)}for(m=l(C),M=l(t),(S=a(e))||(e=l(e)),A=M.length,E=w(1,A),T=y(m,M);-1!==T;)k=S?l(e(M,T,m)):_(M,m,T,[],void 0,e),P+=b(m,R,T)+k,R=T+A,T=T+E>m.length?-1:y(m,M,T+E);return R<m.length&&(P+=b(m,R)),P}})},1995:()=>{},3997:(t,e,s)=>{"use strict";s(366)("asyncIterator")},3674:(t,e,s)=>{"use strict";var r=s(1091),n=s(5951),i=s(3930),o=s(1907),a=s(7376),c=s(9447),u=s(9846),l=s(8828),h=s(9724),d=s(8280),_=s(6624),m=s(7374),p=s(470),f=s(160),g=s(5817),y=s(8075),v=s(2875),b=s(4443),w=s(5407),M=s(7170),S=s(3846),A=s(4284),E=s(2220),T=s(2574),k=s(8055),C=s(9251),R=s(5816),P=s(2522),x=s(8530),I=s(6499),O=s(6264),D=s(560),L=s(366),F=s(3467),U=s(4840),N=s(4932),H=s(726).forEach,q=P("hidden"),B="Symbol",Q="prototype",j=N.set,W=N.getterFor(B),V=Object[Q],Y=n.Symbol,z=Y&&Y[Q],G=n.RangeError,$=n.TypeError,K=n.QObject,X=S.f,J=A.f,Z=w.f,tt=T.f,et=o([].push),st=R("symbols"),rt=R("op-symbols"),nt=R("wks"),it=!K||!K[Q]||!K[Q].findChild,ot=function(t,e,s){var r=X(V,e);r&&delete V[e],J(t,e,s),r&&t!==V&&J(V,e,r)},at=c&&l((function(){return 7!==y(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?ot:J,ct=function(t,e){var s=st[t]=y(z);return j(s,{type:B,tag:t,description:e}),c||(s.description=e),s},ut=function(t,e,s){t===V&&ut(rt,e,s),_(t);var r=p(e);return _(s),h(st,r)?(s.enumerable?(h(t,q)&&t[q][r]&&(t[q][r]=!1),s=y(s,{enumerable:g(0,!1)})):(h(t,q)||J(t,q,g(1,y(null))),t[q][r]=!0),at(t,r,s)):J(t,r,s)},lt=function(t,e){_(t);var s=m(e),r=v(s).concat(mt(s));return H(r,(function(e){c&&!i(ht,s,e)||ut(t,e,s[e])})),t},ht=function(t){var e=p(t),s=i(tt,this,e);return!(this===V&&h(st,e)&&!h(rt,e))&&(!(s||!h(this,e)||!h(st,e)||h(this,q)&&this[q][e])||s)},dt=function(t,e){var s=m(t),r=p(e);if(s!==V||!h(st,r)||h(rt,r)){var n=X(s,r);return!n||!h(st,r)||h(s,q)&&s[q][r]||(n.enumerable=!0),n}},_t=function(t){var e=Z(m(t)),s=[];return H(e,(function(t){h(st,t)||h(x,t)||et(s,t)})),s},mt=function(t){var e=t===V,s=Z(e?rt:m(t)),r=[];return H(s,(function(t){!h(st,t)||e&&!h(V,t)||et(r,st[t])})),r};u||(k(z=(Y=function(){if(d(z,this))throw new $("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?f(arguments[0]):void 0,e=I(t),s=function(t){var r=void 0===this?n:this;r===V&&i(s,rt,t),h(r,q)&&h(r[q],e)&&(r[q][e]=!1);var o=g(1,t);try{at(r,e,o)}catch(t){if(!(t instanceof G))throw t;ot(r,e,o)}};return c&&it&&at(V,e,{configurable:!0,set:s}),ct(e,t)})[Q],"toString",(function(){return W(this).tag})),k(Y,"withoutSetter",(function(t){return ct(I(t),t)})),T.f=ht,A.f=ut,E.f=lt,S.f=dt,b.f=w.f=_t,M.f=mt,D.f=function(t){return ct(O(t),t)},c&&(C(z,"description",{configurable:!0,get:function(){return W(this).description}}),a||k(V,"propertyIsEnumerable",ht,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Y}),H(v(nt),(function(t){L(t)})),r({target:B,stat:!0,forced:!u},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?y(t):lt(y(t),e)},defineProperty:ut,defineProperties:lt,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:_t}),F(),U(Y,B),x[q]=!0},5084:()=>{},3313:(t,e,s)=>{"use strict";var r=s(1091),n=s(5582),i=s(9724),o=s(160),a=s(5816),c=s(4411),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=o(t);if(i(u,e))return u[e];var s=n("Symbol")(e);return u[e]=s,l[s]=e,s}})},2596:(t,e,s)=>{"use strict";s(366)("hasInstance")},5721:(t,e,s)=>{"use strict";s(366)("isConcatSpreadable")},4954:(t,e,s)=>{"use strict";s(366)("iterator")},4452:(t,e,s)=>{"use strict";s(3674),s(3313),s(751),s(9721),s(5264)},751:(t,e,s)=>{"use strict";var r=s(1091),n=s(9724),i=s(5594),o=s(4640),a=s(5816),c=s(4411),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!i(t))throw new TypeError(o(t)+" is not a symbol");if(n(u,t))return u[t]}})},3377:(t,e,s)=>{"use strict";s(366)("matchAll")},4123:(t,e,s)=>{"use strict";s(366)("match")},2230:(t,e,s)=>{"use strict";s(366)("replace")},5344:(t,e,s)=>{"use strict";s(366)("search")},1660:(t,e,s)=>{"use strict";s(366)("species")},4610:(t,e,s)=>{"use strict";s(366)("split")},3669:(t,e,s)=>{"use strict";var r=s(366),n=s(3467);r("toPrimitive"),n()},4810:(t,e,s)=>{"use strict";var r=s(5582),n=s(366),i=s(4840);n("toStringTag"),i(r("Symbol"),"Symbol")},3325:(t,e,s)=>{"use strict";s(366)("unscopables")},768:(t,e,s)=>{"use strict";var r=s(6264),n=s(4284).f,i=r("metadata"),o=Function.prototype;void 0===o[i]&&n(o,i,{value:null})},6038:(t,e,s)=>{"use strict";s(929)},8549:(t,e,s)=>{"use strict";s(366)("asyncDispose")},1697:(t,e,s)=>{"use strict";s(366)("customMatcher")},7152:(t,e,s)=>{"use strict";s(366)("dispose")},3939:(t,e,s)=>{"use strict";s(1091)({target:"Symbol",stat:!0},{isRegisteredSymbol:s(2595)})},3422:(t,e,s)=>{"use strict";s(1091)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:s(2595)})},1785:(t,e,s)=>{"use strict";s(1091)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:s(9197)})},36:(t,e,s)=>{"use strict";s(1091)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:s(9197)})},8703:(t,e,s)=>{"use strict";s(366)("matcher")},6878:(t,e,s)=>{"use strict";s(366)("metadataKey")},1372:(t,e,s)=>{"use strict";s(366)("metadata")},4664:(t,e,s)=>{"use strict";s(366)("observable")},9671:(t,e,s)=>{"use strict";s(366)("patternMatch")},359:(t,e,s)=>{"use strict";s(366)("replaceAll")},2560:(t,e,s)=>{"use strict";s(9363);var r=s(9287),n=s(5951),i=s(4840),o=s(3742);for(var a in r)i(n[a],a),o[a]=o.Array},2222:(t,e,s)=>{"use strict";var r=s(6823);t.exports=r},8251:(t,e,s)=>{"use strict";var r=s(1926);t.exports=r},4139:(t,e,s)=>{"use strict";var r=s(3842);s(2560),t.exports=r},7045:(t,e,s)=>{"use strict";var r=s(1730);s(2560),t.exports=r},70:(t,e,s)=>{"use strict";var r=s(1661);t.exports=r}},e={};function s(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,s),i.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};s.r(t),s.d(t,{LOG_OUT:()=>Qs,as_encode_bandwidth_alloc:()=>vs,as_encode_fec_info:()=>ys,as_encode_fec_retran_switch:()=>bs,as_network_info_indication:()=>Ms,as_out_filter_data:()=>Is,mesh_as_network_info_indication:()=>ks,mesh_audio_data_from_qos:()=>ms,mesh_audio_network_info_indication:()=>Rs,mesh_on_monitor_log:()=>Os,mesh_qos_on_monitor_log:()=>Ps,mesh_recv_as_data:()=>ds,mesh_recv_audio_data:()=>ps,mesh_recv_video_data:()=>us,mesh_video_as_data_from_qos:()=>hs,mesh_video_data_from_qos:()=>cs,mesh_video_network_info_indication:()=>Cs,network_quality_callback:()=>as,recv_share_rtp_data:()=>_s,recv_video_rtp_data:()=>ls,video_as_data_from_qos:()=>fs,video_data_from_qos:()=>gs,video_encode_bandwidth_alloc:()=>As,video_encode_fec_info:()=>Ss,video_encode_fec_retran_switch:()=>Es,video_network_info_indication:()=>Ts,video_out_filter_data:()=>xs,wcl_trace_log:()=>js});var e=s(4997),r=s(2321),n=s(2231);function i(t){return i="function"==typeof r&&"symbol"==typeof n?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t},i(t)}var o=s(9280);function a(t,s,r){return(s=function(t){var e=function(t){if("object"!=i(t)||!t)return t;var e=t[o];if(void 0!==e){var s=e.call(t,"string");if("object"!=i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}(s))in t?e(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}var c=s(7201),u=s.n(c);function l(t){return t[0]<<24|t[1]<<16|t[2]<<8|t[3]}const h=function(t){return 21==t[4]&&0==t[13]},d=function(t){return 104==t[0]||16!=t[4]&&1!=t[5]?l(t.slice(19,23)):l(t.slice(15,19))},_=function(t){return 103==t[0]};class m{constructor(t){let e=t||{};this.last_report_time=0,this.timeout_count=0,this.interval_report_time=e.interval||3e3,this.tag=e.tag||"monitor",this.max_timeout=0,this.min_timeout=2147483647,this.reportcallback=e.reportcallback,this._timeoutid=0}_report(){this.reportcallback&&this.reportcallback(this.tag,Math.ceil(this.max_timeout),Math.ceil(this.min_timeout),this.timeout_count),this.timeout_count=0,this.max_timeout=0,this.min_timeout=2147483647}timeoutReport(t,e){if(this.timeout_count++,t>this.max_timeout&&(this.max_timeout=t),t<this.min_timeout&&(this.min_timeout=t),this._timeoutid)return;let s=this;this._timeoutid=setTimeout((()=>{s._report(),s._timeoutid=0}),this.interval_report_time)}}function p(t){let e=t||{};this._samples=[],this._interval_id=0,this._lasted_update_time=0,this._lasted_group_time=0,this._enable=!1,this._interval_time=e.interval||3e4,this._customer_callback=e.report_call,this._tag=e.tag||"netreport",this._group_interval=e.group_interval||1e3,this._enable_advanced=e.advanced||!1,this._current_count=0,this._qos_report=new m({tag:"jitter",interval:3e4,reportcallback:this._qos_report_timeout.bind(this)}),this._qos_report_samples=[],this._cureen_qos_report=0}p.prototype._qos_report_timeout=function(t,e,s,r){if(this._customer_callback){let n="".concat(t,",").concat(e,",").concat(s,",").concat(r);this._customer_callback(this._tag+"TimeOut",n)}},p.prototype._report=function(){let t=(new Date).getTime(),e="".concat(t,"-").concat(this._samples.length,"-").concat(this._samples),s="".concat(t,"-").concat(this._qos_report_samples.length,"-").concat(this._qos_report_samples);e=u()(e).call(e,",","|"),s=u()(s).call(s,",","|"),this._customer_callback?(this._customer_callback(this._tag,e),this._enable_advanced&&this._customer_callback(this._tag+"QOS",s)):console.error("tag:".concat(this._tag,",").concat(e))},p.prototype._group=function(){let t=performance.now();if(t>=this._lasted_group_time+1700){let e=Math.round((t-this._lasted_group_time)/1e3)-1;for(let t=0;t<e;t++)this._samples.push(-1)}this._lasted_group_time=t,this._samples.push(this._current_count),this._qos_report_samples.push(this._cureen_qos_report),this._cureen_qos_report=0,this._current_count=0,t>=this._lasted_update_time+this._interval_time&&(this._lasted_update_time=t,this._report(),this._samples=[],this._qos_report_samples=[])},p.prototype.start=function(){this._enable||(this._lasted_update_time=performance.now(),this._lasted_group_time=this._lasted_update_time,this._samples=[],this._current_count=0,this._qos_report_samples=[],this._cureen_qos_report=0,this._interval_id=setInterval(this._group.bind(this),this._group_interval),this._enable=!0)},p.prototype.stop=function(){this._enable&&(clearInterval(this._interval_id),this._interval_id=0,this._enable=!1)},p.prototype.sample=function(t){if(this._enable&&(this._current_count++,this._enable_advanced)){if(h(t))return void this._cureen_qos_report++;if(_(t)){let e=d(t),s=performance.now();if(this._lasted_qos_ts){let t=s-this._lasted_sys_ts-(e-this._lasted_qos_ts);t>30&&this._qos_report.timeoutReport(t,s)}this._lasted_qos_ts=e,this._lasted_sys_ts=s,this._lasted_data=t}}};const f={VIDEO_ENCODE:"0",VIDEO_DECODE:"1",AUDIO_ENCODE:"2",AUDIO_DECODE:"3",SHARING_ENCODE:"4",SHARING_DECODE:"5",WORKER_SERVICE:"6",COMMON:"7",NET:"net",MESH:"mesh"},g=((()=>{const t={};for(const e in f)t[f[e]]="WCL_"+e})(),35),y=127,v=128,b=133,w=184,M=185,S=186,A=187,E=196,T=49;class k{constructor(t,e){this.sendsize=0,this.dropsize=0,this.presamples={sendsize:0,drop:0,time:0,size:0,nosendcount:0,dckbps:0,updatetime:0,smoothsend:0},this.channel=e,this.id=0,this.wraper=t,this.overusetime=0}send(t){this.sendsize+=t}drop(t){this.dropsize+=t}setbuffer(t){const e=performance.now(),{sendsize:s,drop:r,size:n,time:i}=this.presamples,o=e-i,a=this.sendsize-s,c=this.dropsize-r,u=t-n;if(o>150&&a>5e3){const s=100*c/a,r=8e3*(a-c-u)/(o*(this.presamples.nosendcount+1)),n=8e3*a/o,i=8e3*(t+c+Math.max(u/2,0)),l=0==r?5e3:i/r;if(0==r?this.presamples.nosendcount++:(this.presamples.nosendcount=0,this.presamples.dckbps=r),0==this.presamples.smoothsend)this.presamples.smoothsend=n;else{const t=.5;this.presamples.smoothsend=t*this.presamples.smoothsend+n*(1-t)}s>10&&t>16384||o<500&&l>500?0==this.overusetime?this.overusetime=Math.min(250,o)/2:this.overusetime+=Math.min(250,o):t<16384&&l<100&&(this.overusetime=0);const h=r||this.presamples.dckbps/(this.presamples.nosendcount+1),d=h/this.presamples.smoothsend;if(this.overusetime>700&&d<.75&&e>this.presamples.updatetime+3e3){const t={status:1,dckbps:h,sendkbps:this.presamples.smoothsend,overusetime:this.overusetime,nosendcount:this.presamples.nosendcount};this.wraper._onbadnet(t),this.presamples.updatetime=e}this.presamples.sendsize=this.sendsize,this.presamples.drop=this.dropsize,this.presamples.size=t,this.presamples.time=e}}start(){this.id||(this.presamples.time=performance.now(),this.id=setInterval((()=>{let t=this.channel.bufferedAmount;this.setbuffer(t)}),100))}stop(){this.id&&(clearInterval(this.id),this.id=0)}}class C{constructor(t,e,s,r,n,i){this.id=t,this.tag=n||"",this.type=e,this.datachannel=s,this._recv_statistic=null,this.onmessageFn=()=>{},this.disconnectedFn=null,this.connectedFn=null,this._status=C.UNINIT,this.target_thread=r,this.transfered=!1,this._listener=null,this.transportlists=[],this._send_statistic=null,this.report_monitor_func=()=>{},this.bsuppend=!1,this.mgr=i,this.bufferIncreaseCount=0,this.lastBufferedAmount=0,this.highWaterMarkCount=0,this.sendcount=0,this.sendStatic=null,this.enableSendStatic=!1,this.onnetbadFn=t=>{}}isReady(){return this._status===C.CONNECTED}isTransfered(){return!!this.transfered}send(t){if(this.enableSendStatic){if(this.sendcount++,this.sendStatic.send(t.length),this.datachannel.bufferedAmount>65536)return void this.sendStatic.drop(t.length);if(this.datachannel.bufferedAmount>32768&&(this.sendcount%5==0||21==t[4]&&1==t[1]&&51==t[13]))return void this.sendStatic.drop(t.length)}this.datachannel.send(t),this._send_statistic.sample(!1)}open(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.target_thread)try{var e;return this.target_thread.postMessage({command:134,id:this.id,type:this.type,channel:this.datachannel,transportlists:this.transportlists,tag:this.tag},[this.datachannel]),this.transfered=!0,this.datachannel=null,void(null===(e=this.mgr)||void 0===e||e.addRTCChannel(this))}catch(t){this.target_thread=null}this._addEventListener(t)}close(){var t;null===(t=this.mgr)||void 0===t||t.removeRTCChannel(this);let e=this.disconnectedFn;this.transfered&&this.target_thread&&this.target_thread.postMessage({command:135,id:this.id,type:this.type}),this._status!=C.DISCONNECT&&this._clear(),this._status=C.DISCONNECT,null==e||e()}onmessage(t){this.onmessageFn=t}onopen(t){this.connectedFn=t}onclose(t){this.disconnectedFn=t}onerror(t){this.errorFn=t}onbadnet(t){this.onnetbadFn=t||(t=>{})}_onbadnet(t){this.onnetbadFn(t)}_addEventListener(t){this.datachannel.onmessage=t?this._onmessage2.bind(this):this._onmessage.bind(this),this.datachannel.onopen=this._onopen.bind(this),this.datachannel.onclose=this._onclose.bind(this),this.datachannel.onclosing=this._onclose.bind(this),this.datachannel.onerror=this._onerror.bind(this),"open"==this.datachannel.readyState&&this._status==C.UNINIT&&this._onopen()}_onmessage2(t){this._status==C.UNINIT&&this._onopen(),this._recv_statistic.sample(!1),this.onmessageFn(t)}_onmessage(t){this._recv_statistic.sample(!1),this.onmessageFn(t)}_onopen(t){let e=this._status;if(this._status=C.CONNECTED,!this.transfered){const t=this.report_monitor_func;if(!this._send_statistic){const e=this.tag?this.tag+"_SEND":3==this.type?"VDCS":"ADCS";this._send_statistic=new p({tag:e,report_call:t})}if(!this._recv_statistic){const e=this.tag?this.tag+"_RECV":3==this.type?"VDCR":"ADCR";this._recv_statistic=new p({tag:e,report_call:t})}this._send_statistic.start(),this._recv_statistic.start(),this.enableSendStatic=3==this.type,this.sendStatic=new k(this,this.datachannel),this.enableSendStatic&&this.sendStatic.start()}var s;e!=C.CONNECTED&&(null===(s=this.connectedFn)||void 0===s||s.call(this))}_onerror(t){var e;null===(e=this.errorFn)||void 0===e||e.call(this,t),this._onclose(t)}_onclose(t){let e=this._status;this._status=C.DISCONNECT;let s=this.disconnectedFn;this._clear(),e!=C.DISCONNECT&&(null==s||s())}_clear(){var t,e,s;!this.transfered&&this.datachannel&&(this.datachannel.onmessage=null,this.datachannel.onopen=null,this.datachannel.onclose=null,this.datachannel.onclosing=null,this.datachannel.onerror=null),this.onmessageFn=null,this.connectedFn=null,this.disconnectedFn=null,this.errorFn=null;let r=this.datachannel;this.datachannel=null,null===(t=this._send_statistic)||void 0===t||t.stop(),null===(e=this._recv_statistic)||void 0===e||e.stop(),null===(s=this.sendStatic)||void 0===s||s.stop(),null==r||r.close()}mesagelistener(t){let e=t.data;if(e&&e.id==this.id)switch(e.cmd){case 126:this._onclose();break;case 124:this._onopen();break;case 125:this._onerror(e.ev);break;case 21:this.report_monitor_func(e.tag,e.data)}}}function R(){this.a=[],this.b=0,this.residue=null}a(C,"UNINIT",0),a(C,"CONNECTED",1),a(C,"DISCONNECT",2),R.prototype.getLength=function(){return this.a.length-this.b},R.prototype.isEmpty=function(){return 0==this.a.length},R.prototype.enqueue=function(t){this.a.push(t)},R.prototype.dequeue=function(){if(0!=this.a.length){var t=this.a[this.b];return 2*++this.b>=this.a.length&&(this.a=this.a.slice(this.b),this.b=0),t}return null},R.prototype.peek=function(){return 0<this.a.length?this.a[this.b]:void 0},R.prototype.clear=function(){this.a=[],this.b=0};const P=R,x="MEDIASDK_CACHE_INFO",I=new class{constructor(){this._highFrequencyLogs={},this.fixVersion="",this.cacheLogStack=[],this.isFlushing=!1}setInstance(t,e){this._instance=t,this.fixVersion=e}getMessageFromErrorOrEvent(t,e){let s=t;return e instanceof ErrorEvent?(e.filename&&(s+=` File: ${e.filename}`),(e.lineno||e.colno)&&(s+=` Line: ${e.lineno}:${e.colno}`),e.message&&(s+=` Message: ${e.message}`),e.error&&(s+=`\nStack: ${e.error.stack}`)):e instanceof Error?(e.message&&(s+=` Message: ${e.message}`),e.stack&&(s+=` Stack: ${e.stack}`),e.name&&(s+=` Name: ${e.name}`),e.constraint&&(s+=` Constraint: ${e.constraint}`)):e instanceof CloseEvent?(e.code&&(s+=` Code: ${e.code}`),e.reason&&(s+=` Reason: ${e.reason}`),s+=` wasClean: ${e.wasClean}`):e instanceof DOMException?(e.message&&(s+=` Message: ${e.message}`),e.name&&(s+=` Name: ${e.name}`)):s+=e?e.toString():"",s}_addCacheLog(t,e){this.cacheLogStack.length<100&&this.cacheLogStack.push({type:t,message:e})}flushCacheLog(){if(this._instance&&this.cacheLogStack.length>0&&!this.isFlushing){this.isFlushing=!0;let t="";this.cacheLogStack.forEach((e=>{let{type:s,message:{message:r="",tags:n=[]}}=e;const i=r?`${n.join("|")}:${r}|----|`:"";switch(s){case"log":this._log(r,[...n,x]);break;case"warn":case"error":case"severityerror":case"directReport":t+=i}})),t&&this._directReport(t,[x]),this.cacheLogStack=[],this.isFlushing=!1}}log(t,e=[]){this._instance?(this.flushCacheLog(),this._log(t,e)):this._addCacheLog("log",{message:t,tags:e})}warn(t,e=null,s=[]){t=this.getMessageFromErrorOrEvent(t,e),this._instance?(this.flushCacheLog(),this._warn(t,s)):this._addCacheLog("warn",{message:t,tags:s})}error(t,e=null,s=[]){var r;t=this.getMessageFromErrorOrEvent(t,e),this._highFrequencyLogs[t]?this._highFrequencyLogs[t]+=1:this._highFrequencyLogs[t]=1,!((r=this._highFrequencyLogs[t])&r-1)&&(this._instance?(this.flushCacheLog(),this._error(t,s)):this._addCacheLog("error",{message:t,tags:s}))}severityerror(t,e=[]){this._instance?(this.flushCacheLog(),this._severityerror(JSON.stringify(t),e)):this._addCacheLog("severityerror",{message:JSON.stringify(t),tags:e})}directReport(t,e=["MEDIASDK_INFO"]){var s;this._instance?(this.flushCacheLog(),null===(s=this._directReport)||void 0===s||s.call(this,t,e)):this._addCacheLog("directReport",{message:t,tags:e})}_log(t,e=[]){this._instance&&this._instance.log(t,e)}_warn(t,e=[]){this._instance&&this._instance.warn(t,e)}_error(t,e=[]){this._instance&&this._instance.error(t,[this.fixVersion,...e])}_severityerror(t,e=[]){this._instance&&this._instance.error(t,e)}_directReport(t,e=[]){var s,r;this._instance&&(null===(r=(s=this._instance).directReport)||void 0===r||r.call(s,{msg:t},e))}clearHighFrequencyLogs(){this._highFrequencyLogs={}}};class O{static getStorageForCapacity(){return new SharedArrayBuffer(8+((arguments.length>0&&void 0!==arguments[0]?arguments[0]:80)+1)*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500))}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.byteLength,o=arguments.length>6?arguments[6]:void 0;this.offset=n,this._BYTES_PER_ELEMENT=e,this.capacity=(i-8)/e,this.usableCapacity=this.capacity-1,this.buf=t,this.write_ptr=new Uint32Array(this.buf,n,1),this.read_ptr=new Uint32Array(this.buf,n+4,1),this.storageUint8sByteOffset=n+8,this.storageUint8s=new Uint8Array(this.buf,this.storageUint8sByteOffset,i-8),this.byteLength=i,this.label=s,this.usingOneElementBuffer=r,o&&(this.wasmMemory=o),r&&(this.oneElementBuffer=new ArrayBuffer(e)),this.repushhander=0,this.repushlogcount=0,this.monitorpace=0}checkBuffer(){this.wasmMemory&&this.wasmMemory.buffer!=this.buf&&(this.buf=this.wasmMemory.buffer,this.storageUint8s=new Uint8Array(this.buf,this.storageUint8sByteOffset,this.byteLength-8))}enqueue(t){return this.available_write()>0&&this.push(t),{rd:Atomics.load(this.read_ptr,0),wr:Atomics.load(this.write_ptr,0)}}enqueueSafe(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;for(this.dataBuffer||(this.dataBuffer=new P);this.dataBuffer.getLength()>0&&this.available_write()>0;){let t=this.dataBuffer.dequeue();t&&this.push(t)}let r=this.dataBuffer.getLength();if(t){if(this.available_write()>0&&0==r)return this.push(t),!0;if(!e)return!1;this.dataBuffer.enqueue(t),++r}if(r>0&&!this.repushhander&&(this.repushhander=setTimeout((()=>{this.repushlogcount%10==0&&console.warn("<<< retry consume cache data"),this.repushlogcount++,this.repushhander=0,this.enqueueSafe(null)}),30)),r>=1e3&&(I.warn("Cached data in SAB reached critical value, will be cleared"),this.dataBuffer.clear(),s&&s("vqslclear")),r>0&&s){let t=performance.now();(!this.monitorpace||t-this.monitorpace>2e4)&&(this.monitorpace=t,s&&s("vqsl"+r))}return!0}push(t){return t instanceof Array?this._pushArray(t):this._push(t)}_pushArray(t){var e=Atomics.load(this.write_ptr,0);this.checkBuffer();let s=0;t.forEach((t=>{this.storageUint8s.set(t,e*this._BYTES_PER_ELEMENT+8+4+s),s+=t.byteLength})),new Uint32Array(this.buf,this.offset+e*this._BYTES_PER_ELEMENT+8,1)[0]=s;let r=(e+1)%this.capacity;return Atomics.store(this.write_ptr,0,r),!0}_push(t){var e=Atomics.load(this.write_ptr,0);this.checkBuffer(),this.storageUint8s.set(t,e*this._BYTES_PER_ELEMENT+8+4,t.byteLength),new Uint32Array(this.buf,this.offset+e*this._BYTES_PER_ELEMENT+8,1)[0]=t.byteLength;let s=(e+1)%this.capacity;return Atomics.store(this.write_ptr,0,s),!0}addReadPtr(){var t=Atomics.load(this.read_ptr,0);Atomics.store(this.read_ptr,0,(t+1)%this.capacity)}dequeue(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e=Atomics.load(this.read_ptr,0);this.checkBuffer();let s,r,n,i=new Uint32Array(this.buf,this.offset+e*this._BYTES_PER_ELEMENT+8,1);if(t){s=this.oneElementBuffer?new Uint8Array(this.oneElementBuffer,0,i[0]):new Uint8Array(i[0]);let t=new Uint8Array(this.storageUint8s.buffer,e*this._BYTES_PER_ELEMENT+8+4+this.storageUint8sByteOffset,s.byteLength);s.set(t,0)}else s=this.storageUint8s.subarray(e*this._BYTES_PER_ELEMENT+8+4,e*this._BYTES_PER_ELEMENT+8+4+i[0]),r=e*this._BYTES_PER_ELEMENT+8+4+this.storageUint8sByteOffset,n=e*this._BYTES_PER_ELEMENT+8+4+i[0]+this.storageUint8sByteOffset;return t&&Atomics.store(this.read_ptr,0,(e+1)%this.capacity),t?s:{bCopyData:t,uint8s:s,begin:r,end:n}}available_read(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._available_read(t,e)}available_write(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._available_write(t,e)}is_available_write(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._is_available_write(t,e)}_available_read(t,e){return(e+this.capacity-t)%this.capacity}_available_write(t,e){return this.usableCapacity-this._available_read(t,e)}_is_available_write(t,e){return this._available_write(t,e)>0}_storage_capacity(){return this.capacity}}class D{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:80;if(!(t instanceof O))throw new Error("RingBuffer required");this.rb=t,this.dataCallback=e,this.interval=null,this.requestID=null,this.timeout_call=s,this.tick_lasted_time=0,this.timeoutMS=r,this.maxCount=n}setDataCallback(t){this.dataCallback=t}consume(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.interval||(this.bCopyData=e,this.interval=setInterval((()=>{let t=performance.now();if(this.timeout_call){if(0!=this.tick_lasted_time){let e=t-this.tick_lasted_time;e>=this.timeoutMS&&this.timeout_call(e,t)}this.tick_lasted_time=t}this._dequeue()}),t))}consumeAll(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.bCopyData=t,this._dequeue()}_dequeue(){let t=Math.min(this.rb.available_read(),this.maxCount);for(this.consoume_count=0;this.consoume_count<t;){this.consoume_count++;let t=this.rb.dequeue(this.bCopyData);this.dataCallback(t),this.bCopyData||this.rb.addReadPtr()}}_consumeForAnimationFrame(){this._dequeue(),this.requestID=requestAnimationFrame(this._consumeForAnimationFrame.bind(this))}consumeUsingRequestAnimationFrame(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.requestID||(this.bCopyData=t,this._consumeForAnimationFrame())}cancelConsume(){console.log("cancelConsume interval ".concat(this.interval," requestID ").concat(this.requestID)),this.tick_lasted_time=0,clearInterval(this.interval),this.requestID&&cancelAnimationFrame(this.requestID),this.interval=null,this.requestID=null}}class L{constructor(t){let e=t||{};this.type=e.type||L.THREAD_MAIN,this.refs={},this.transportlists=[],this.mainThread=e.remote,this.subthreadlistner=null,this.transportListeners=[],this.onRemoteTransportFn=()=>{}}_onrecvmainthreadlistener(t){let{cmd:e,transportId:s,data:r}=t.data,n=this.transportlists.find((t=>t.id===s));if(n||e==b)switch(e){case b:this.addRemoteTransport(t.data,null);break;case 136:n.setMsgPort(r||new B);break;case 135:n.setSabBuffer(t.data.sender,t.data.reciver);break;case 132:n.remote=null,this.removeTransport(n)}}_onrecvsubthreadlistener(t,e){let{cmd:s,transportId:r}=e.data,n=this.transportlists.find((t=>t.id===r));switch(s){case b:this.addRemoteTransport(e.data,t);break;case 135:this.setSabBufferInfo(n,e.data.sender,e.data.reciver);break;case 132:n.remote==t&&(n.remote=null),this.removeTransport(n)}}createTransport(t){this.transportlists.push(t),setTimeout((()=>{this.transportListeners.forEach((e=>{e.TransportListChange(t,!0)}))}),0)}transportIsExit(t){return-1!=this.transportlists.indexOf(t)}closeTransport(t){let e=this.transportlists.indexOf(t);return-1!=e&&(this.transportlists.splice(e,1),setTimeout((()=>{this.transportListeners.forEach((e=>{e.TransportListChange(t,!1)}))}),0),!0)}createRemoteTransportRPC(t,e){let s={cmd:b,transportType:t.type,transportId:t.id};t.portInfo?(s.port=t.portInfo,e.postMessage(s,[t.portInfo])):e.postMessage(s)}closeRemoteTransportRPC(t,e){e.postMessage({cmd:132,transportType:t.type,transportId:t.id})}setRemoteTransportSABBUfferRPC(t,e){var s,r,n,i;(null!==(s=t.sabInfo)&&void 0!==s&&s.sender||null!==(r=t.sabInfo)&&void 0!==r&&r.reciver)&&e.postMessage({cmd:135,transportId:t.id,sender:null===(n=t.sabInfo)||void 0===n?void 0:n.sender,reciver:null===(i=t.sabInfo)||void 0===i?void 0:i.reciver})}addRemoteTransport(t,e){let{transportId:s,port:r,transportType:n}=t,i=this.createMsgSocketTransport(n,s);var o;i.id=s,i.remote=e,i.portInfo=r,r?i.setMsgPort(i.portInfo):this.bindMessageChannel(i),r&&(null===(o=this.onRemoteTransportFn)||void 0===o||o.call(this,i))}removeTransport(t){-1!=this.transportlists.indexOf(t)&&(this.closeTransport(t),t.close(),t.remote&&this.closeRemoteTransportRPC(t,t.remote),this.closeTransportForTargetThread(t))}createMsgSocketTransport(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=null;return s=new q({mgr:this,sock:new N,type:t,local:!0,id:e}),s}bindMessageChannel(t){if(this.type!=L.THREAD_MAIN)return void console.error("error this call only in main thread");let e=new MessageChannel;t.portInfo=e.port1,t.remote.postMessage({cmd:136,transportId:t.id,data:e.port2},[e.port2])}setSabBufferInfo(t,e,s){this.type==L.THREAD_MAIN&&(t.sabInfo||(t.sabInfo={}),s&&(s.useCopy=!0),e&&(e.useCopy=!0),t.sabInfo={sender:e,reciver:s},0!=t.target_thread&&(1!=t.target_thread?this.setRemoteTransportSABBUfferRPC(t,t.target_thread):t.setSabBuffer(e,s)))}removeTransportByRemote(t){let e=[];for(let s=0;s<this.transportlists.length;s++){let r=this.transportlists[s];r.remote===t&&e.push(r)}for(let t=0;t<e.length;t++)this.removeTransport(e[t])}reinit(){let t=[...this.transportlists];for(let e=0;e<t.length;e++)this.removeTransport(t[e])}getTransportByType(t){for(let e in this.transportlists){let s=this.transportlists[e],r=1==s.target_thread;if(s.type==t&&r)return s}return null}addTransportListChangeListener(t){-1==this.transportListeners.indexOf(t)&&this.transportListeners.push(t)}remoteTransportListChangeListener(t){let e=this.transportListeners.indexOf(t);-1!=e&&this.transportListeners.splice(e,1)}checkTransport(t){this.transportlists.forEach((e=>{if(!t.transportlists.includes(e.type))return;let s=t.target_thread||1;this.addTransportForTargetThread(e,s)}))}checkTransportForThread(){setTimeout((()=>{this.transportlists.forEach((t=>{this.transportListeners.forEach((e=>{e.TransportListChange(t,!0)}))}))}),0)}addTransportForTargetThread(t,e){const s=e;var r,n,i,o;t.target_thread!=s&&0!=s&&(this.type==L.THREAD_MAIN&&0!=t.target_thread&&t.target_thread!=s&&(this.closeTransportForTargetThread(t),this.bindMessageChannel(t)),t.target_thread=s,1!=s?(this.createRemoteTransportRPC(t,s),this.setRemoteTransportSABBUfferRPC(t,s)):(t.portInfo&&t.setMsgPort(t.portInfo),(null!==(r=t.sabInfo)&&void 0!==r&&r.sender||null!==(n=t.sabInfo)&&void 0!==n&&n.reciver)&&t.setSabBuffer(null===(i=t.sabInfo)||void 0===i?void 0:i.sender,null===(o=t.sabInfo)||void 0===o?void 0:o.reciver)))}closeTransportForTargetThread(t){0!=t.target_thread&&1!=t.target_thread&&this.type==L.THREAD_MAIN&&this.closeRemoteTransportRPC(t,t.target_thread),t.target_thread=0}}a(L,"THREAD_MAIN",1),a(L,"THREAD_SUB",2);const F=t=>{};class U{constructor(){this.onmessage=F,this.status=U.CLOSED,this.onopen=F,this.onclose=F,this.onwer=null}send(t){}delete(){this.onmessage=F,this.onopen=F,this.onclose=F,this.close()}sendVideo(t,e){}sendWasm(t){}sendCommand(t){}open(){this.status=U.OPEN,this.onopen()}close(){this.status=U.CLOSED,this.onclose()}isReady(){return!1}}a(U,"OPEN",1),a(U,"CLOSED",2);class N extends U{constructor(){super({}),this.sab={},this.port=null,this.onmessage=F,this.sender=F,this.videoSender=F,this.reciver=F,this.wasmSender=F,this.oncommand=t=>{}}sendCommand(t){var e;null===(e=this.port)||void 0===e||e.postMessage({cmd:130,data:t})}send(t){this.sender(t)}sendVideo(t,e){this.videoSender(t,e)}sendWasm(t){this.wasmSender(t)}delete(){try{var t,e;this.onmessage=F,this.sender=F,this.videoSender=F,this.reciver=F,this.wasmSender=F;let{consumer:s}=(null===(t=this.sab)||void 0===t?void 0:t.reciver)||{};null==s||s.setDataCallback(F),null==s||s.cancelConsume(),this.sab={},this.port&&(this.port.onmessage=F),null===(e=this.port)||void 0===e||e.close()}catch(t){}}open(){this.status!=U.OPEN||this.onopen()}close(){this.status=U.CLOSED,this.delete(),this.onclose()}_onmessage(t){let{cmd:e,data:s}=t.data;switch(e){case v:this.reciver();break;case y:this.onmessage(s,0);break;case 129:this.status=s,this.status==U.OPEN?this.onopen():this.onclose();break;case 130:this.oncommand(s)}}createSendAndReceive(){if(!this.port)return;let{sender:t,reciver:e}=this.sab,{sabqueue:s,interval:r}=t||{};s?r?(this.sender=t=>{s.enqueue(t)},this.wasmSender=t=>{s.enqueue(t)},this.videoSender=(t,e)=>{if(!s.enqueueSafe([t,e],!1)){let r=new Uint8Array(e.length+t.length);r.set(t,0),r.set(e,t.length),s.enqueueSafe(r)}}):(this.sender=t=>{s.enqueue(t),this.port.postMessage({cmd:v})},this.wasmSender=t=>{s.enqueue(t),this.port.postMessage({cmd:v})},this.videoSender=(t,e)=>{if(!s.enqueueSafe([t,e],!1)){let r=new Uint8Array(e.length+t.length);r.set(t,0),r.set(e,t.length),s.enqueueSafe(r)}this.port.postMessage({cmd:v})}):(this.sender=t=>{this.port.postMessage({cmd:y,data:t},[t.buffer])},this.wasmSender=t=>{let e=new Uint8Array(t.length);e.set(t,0),this.port.postMessage({cmd:y,data:e},[e.buffer])},this.videoSender=(t,e)=>{let s=new Uint8Array(e.length+t.length);s.set(t,0),s.set(e,t.length),this.port.postMessage({cmd:y,data:s},[s.buffer])});let{sabqueue:n,consumer:i,useCopy:o,interval:a,offset:c}=e||{};if(i&&(i.cancelConsume(),i=null),n){const t=o?t=>{this.onmessage(t,0)}:c?t=>{this.onmessage(t.uint8s,t.begin)}:t=>{this.onmessage(t.uint8s,0)};let s=null,r=q.dataTransportMgr.monitorlogfn;if(a&&r){var u;let t=new m({tag:"WCL_M,VDRB"+(null===(u=this.onwer)||void 0===u?void 0:u.type),interval:1e4,reportcallback:Q});s=t.timeoutReport.bind(t)}i=new D(n,t,s),e.consumer=i,a?i.consume(a,o):this.reciver=()=>{i.consumeAll(o)}}}setMsgPort(t){t!=this.port&&(this.port&&(this.port.onmessage=F,this.port.close(),this.port=null),this.port=t,this.port&&(this._listeners||(this._listeners=this._onmessage.bind(this)),this.port.onmessage=this._listeners,this.createSendAndReceive()))}setSabBuffer(t,e){if(null!=t&&t.sab){let{sab:e,useCopy:s,interval:r,offset:n,length:i,useOneElement:o}=t,a=new O(n>0?e.buffer:e,void 0,void 0,!!o,n,i,n>0?e:null);this.sab.sender={sabqueue:a,interval:r,useCopy:s,offset:n}}if(null!=e&&e.sab){var s;let{sab:t,useCopy:r,interval:n,offset:i,length:o,useOneElement:a}=e,c=new O(i>0?t.buffer:t,void 0,void 0,!!a,i,o,i>0?t:null),{consumer:u}=(null===(s=this.sab)||void 0===s?void 0:s.reciver)||{};u&&(u.cancelConsume(),this.sab.reciver.consumer=null,this.sab.reciver.sabqueue=null),this.sab.reciver={sabqueue:c,interval:n,useCopy:r,offset:i}}this.createSendAndReceive()}setStatus(t){this.port?this.status!=t&&(this.status=t,this.port.postMessage({cmd:129,data:t})):console.error("MsgQueueSocket not initialized")}}class H{constructor(){}TransportListChange(t,e){}}class q{constructor(t){this.onmessage=F,this.onopen=F,this.onclose=F,this.oncommand=F,this.type=t.type,this.id=t.id||Math.floor(performance.now())<<10|t.type,this.sock=t.sock||new U,this.mgr=t.mgr,this.sock.onmessage=this._onmessage.bind(this),this.sock.onclose=this._onclose.bind(this),this.sock.onopen=this._onopen.bind(this),this.sock.oncommand=this._oncommand.bind(this),this.sock.onwer=this,this.remote=t.remote,this.sabInfo=null,this.portInfo=null,this.target_thread=0,this.local=!!t.local,this.args=t.args,this._create()}_create(){let t=q.dataTransportMgr;t.createTransport(this),!this.local&&t&&t.mainThread&&t.type==L.THREAD_SUB&&t.createRemoteTransportRPC(this,t.mainThread)}_close(){let t=q.dataTransportMgr;const e=t.transportIsExit(this);!this.local&&e&&t.type==L.THREAD_SUB&&t.closeRemoteTransportRPC(this,t.mainThread),e&&t.closeTransport(this)}_oncommand(t){this.oncommand(t)}_onmessage(t,e){this.onmessage(t,e)}_onclose(){this.onclose()}_onopen(){this.onopen()}isReady(){return!0}send(t){this.sock.send(t)}sendCommand(t){this.sock.sendCommand(t)}sendVideo(t,e){this.sock.sendVideo(t,e)}sendWasmData(t){this.sock.sendWasm(t)}setSocket(t){let e=this.sock;this.sock=t,this.sock&&(this.sock.onwer=this,this.sock.onmessage=this._onmessage.bind(this),this.sock.onclose=this._onclose.bind(this),this.sock.onopen=this._onopen.bind(this)),e&&e.delete()}open(){this.sock.open()}close(){this._close(),this.sock.close()}setMsgPort(t){if(!(this.sock instanceof N))throw new Error("tansport sock is not a MsgQueueSocket");this.sock.setMsgPort(t)}setSabBuffer(t,e){if(!(this.sock instanceof N))throw new Error("tansport sock is not a MsgQueueSocket");this.sock.setSabBuffer(t,e)}setStatus(t){this.sock instanceof N&&this.sock.setStatus(t)}}a(q,"UDP",0),a(q,"TCP",1),a(q,"RLB_UDP",2),a(q,"dataTransportMgr",null);class B{constructor(t){this.sock=null,this.onmessage=F}isReady(){return!1}send(){}sendVideo(){}sendCommand(){}setStatus(t){}}function Q(t,e,s,r){var n;null===(n=L.monitorlogfn)||void 0===n||n.call(L,t,"".concat(e,",").concat(s,",").concat(r))}class j extends H{constructor(){super()}TransportListChange(t,e){}TransportStatus(t,e,s){}DataChannelStatus(t,e){}}class W extends H{constructor(t){super(),this.transportMap={},this.type=t.type,this.mgr=t,this.channellists=[],this.channelListeners=[]}addDataChannel(t){if(t instanceof C){if(-1==this.channellists.findIndex((e=>e==t))){this.channellists.push(t);try{this.mgr.checkTransport(t)}catch(t){console.error("addDataChannel error",t)}this.channelListeners.forEach((e=>{e.DataChannelStatus(t,!0)}))}}else console.error("channel must be a DataChannelWrapper")}TransportListChange(t,e){let s=this.getChannelByTransportType(t.type);if(e&&null!=s&&s.isReady()){let e=s.target_thread||1;this.mgr.addTransportForTargetThread(t,e)}e||this.mgr.closeTransportForTargetThread(t),s&&this.channelListeners.forEach((r=>{r.TransportStatus(t,s,e)})),this.channelListeners.forEach((s=>{s.TransportListChange(t,e)}))}removeDataChannel(t){if(!(t instanceof C))return void console.error("channel must be a DataChannelWrapper");let e=this.channellists.indexOf(t);-1!==e&&this.channellists.splice(e,1),this.channelListeners.forEach((e=>{e.DataChannelStatus(t,!1)}))}addMediaChannelController(t){t instanceof j?-1==this.channelListeners.findIndex((e=>e==t))&&this.channelListeners.push(t):console.error("controller must be a MediaChannelController")}rmMediaChannelController(t){let e=this.channelListeners.findIndex((e=>e==t));-1!=e&&this.channelListeners.splice(e,1)}getChannelByTransportType(t){for(let e=0;e<this.channellists.length;e++){let s=this.channellists[e];if(s.isReady()&&s.transportlists.includes(t))return s}return null}reinit(){let t=this.channellists;this.channellists=[],t.forEach((t=>{t.isReady()&&(t.close(),this.channelListeners.forEach((e=>{e.DataChannelStatus(t,!1)})))}))}}a(W,"target",null);class V{constructor(){this._interval=-1,this.monitorworkers={},this.timeoutcallbackfn=(t,e)=>{}}setTimeoutCallback(t){this.timeoutcallbackfn=t}registerWorker(t,e){if(t in this.monitorworkers){let e=this.monitorworkers[t];e.worker.removeEventListener("message",e.listener),delete this.monitorworkers[t]}let s={id:t,worker:e},r=this._recvheartbeat.bind(this,s);s.listener=r,s.lastedtimestamp=Date.now(),s.timeoutcount=0,s.worker.addEventListener("message",s.listener),this.monitorworkers[t]=s}unRegisterWorker(t){if(!(t in this.monitorworkers))return;let e=this.monitorworkers[t];delete this.monitorworkers[t],e.worker.removeEventListener("message",e.listener)}_recvheartbeat(t,e){let s=e.data;137===s.cmd&&(t.lastedtimestamp=s.timestamp,t.timeoutcount=0)}start(t){const e="undefined"!=typeof DedicatedWorkerGlobalScope&&t&&t instanceof DedicatedWorkerGlobalScope;if(-1!=this._interval)return;if(e)return void(this._interval=setInterval((()=>{t.postMessage({cmd:137,timestamp:Date.now()})}),V.INTREVAL_TIME_MS));const s=()=>{this._interval=setTimeout((()=>{s();let t=V.instance,e=Object.keys(t.monitorworkers),r=Date.now();e.forEach((e=>{let s=t.monitorworkers[e];s.timeoutcount>5?r-s.lastedtimestamp>V.HEART_TIMEOUT_MS&&(t.timeoutcallbackfn(s.id,r-s.lastedtimestamp),s.lastedtimestamp=r):(s.timeoutcount++,s.worker.postMessage({command:138}))}))}),V.INTREVAL_TIME_MS)};s()}close(){try{this._interval&&clearTimeout(this._interval),this._interval=-1,Object.keys(this.monitorworkers).forEach((t=>{let e=this.monitorworkers[t];delete this.monitorworkers[t],e.worker.removeEventListener("message",e.listener)}))}catch(t){}}}a(V,"INTREVAL_TIME_MS",3e3),a(V,"HEART_TIMEOUT_MS",15e3),a(V,"MAX_HEART_TIMEOUT_MS",3e4),a(V,"instance",null);new Map([["useinbandfec",1],["maxaveragebitrate",48e3],["maxplaybackrate",24e3],["sprop-maxcapturerate",24e3],["sprop-stereo",null],["stereo",null]]),new Map([["useinbandfec",null],["maxaveragebitrate",96e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",96e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",128e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",128e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",96e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3]]),new Map([["useinbandfec",1],["maxaveragebitrate",64e3],["maxplaybackrate",24e3],["sprop-maxcapturerate",24e3],["sprop-stereo",null],["stereo",null]]),new Map([["stereo",1]]);class Y{constructor(t,e,s){this.onmessage=()=>{},this.onclose=()=>{},this.onopen=()=>{},this.onerror=()=>{},this.url=t,this.socket=null,this.connectIndex=0,this.lastConnectedTime=0,this.messageTimestamplasted=0,this.forceClosed=!1,this.monitorid=0,this.isready=!1,this.mode=s,this.id=Date.now(),this.tag=e,this.monitorlog=()=>{}}_onmessage(t){this.messageTimestamplasted=performance.now(),this.onmessage(t)}_onclose(t){this.isready=!1,this.monitorlog("".concat(this.tag,"SCLOSE")),this._stopMonitor(),this.forceClosed||this.connectIndex>=10?this.onclose(this,t):this._reconnect()}_onopen(t){this.isready=!0,this.monitorlog("".concat(this.tag,"SE")),this.lastConnectedTime=performance.now(),this.messageTimestamplasted=performance.now(),this._startMonitor(),this.onopen(this,t)}_onerror(t){this.isready=!1,this.monitorlog("".concat(this.tag,"SERR")),this._stopMonitor(),this.forceClosed||this.connectIndex>=10?this.onerror(this,t):this._reconnect()}_startMonitor(){this.monitorid||(this.monitorid=setInterval((()=>{performance.now()>this.messageTimestamplasted+65e3&&this._onerror(new Error("connect recv timeout"))}),1e3))}_stopMonitor(){this.monitorid&&(clearInterval(this.monitorid),this.monitorid=0)}_closeWebsocket(){let t=this.socket;this.socket=null,this.isready=!1,t&&(t.onclose=()=>{},t.onopen=()=>{},t.onmessage=()=>{},t.close())}_reconnect(){this._closeWebsocket(),this.monitorlog("".concat(this.tag,"SB"));let t=0;this.lastConnectedTime&&(performance.now()<this.lastConnectedTime+3e3?t=5:this.connectIndex=0);const e=Math.max(Math.min(Math.pow(2,this.connectIndex)-1,31),t);this.connectIndex+=1,setTimeout((()=>{this.forceClosed||(this.socket=new WebSocket(this.url),this.socket.binaryType="arraybuffer",this.socket.onclose=this._onclose.bind(this),this.socket.onopen=this._onopen.bind(this),this.socket.onerror=this._onerror.bind(this),this.socket.onmessage=this._onmessage.bind(this))}),1e3*e)}connect(){this._reconnect()}isReady(){return this.isready}close(){this.forceClosed=!0,this._closeWebsocket(),this._onclose(null)}send(t){try{this.isready&&this.socket.send(t)}catch(t){this.socket&&this.socket.readyState!=WebSocket.OPEN&&this._reconnect()}}sendForSafari(t){let e=new Uint8Array(t);setTimeout((()=>{try{this.isready&&this.socket.send(e)}catch(t){this.socket&&this.socket.readyState!=WebSocket.OPEN&&this._reconnect()}}),0)}}function z(t){postMessage({status:g,data:t})}function G(t){var e,s,r,n,i,o;for(e="",r=t.length,s=0;s<r;)switch((n=t[s++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(n);break;case 12:case 13:i=t[s++],e+=String.fromCharCode((31&n)<<6|63&i);break;case 14:i=t[s++],o=t[s++],e+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&o)}return e}new Error,new Map,new Map,new class{constructor(){this.ssrcInfoMap=new Map,this.timer=null}updateSSRCInfo(t,e){this.ssrcInfoMap.has(t)||this.ssrcInfoMap.set(t,{firstTime:0,lastTime:0,frames:0,fps:0}),this._calculateFPS(t,e),this._removeZeroFPS()}_calculateFPS(t,e){const s=this.ssrcInfoMap.get(t);if(0===s.frames?s.firstTime=e:s.lastTime=e,s.frames+=1,s.frames>2&&s.frames%5==0&&s.lastTime-s.firstTime>=1e3){const e=Math.floor(1e3/((s.lastTime-s.firstTime)/(s.frames-1)));s.fps!==e&&(this._notifyFPS(t,e),s.fps=e),s.firstTime=s.lastTime,s.frames=1}}_removeZeroFPS(){let t=Date.now();this.ssrcInfoMap.forEach(((e,s)=>{const r=this.ssrcInfoMap.get(s);r&&r.lastTime&&t-r.lastTime>2e3&&(this.ssrcInfoMap.delete(s),this._notifyFPS(s,0))}))}_notifyFPS(t,e){postMessage({status:66.6,data:{ssrc:t,fps:e}})}_checkIfNewFrameComing(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((()=>{this._removeZeroFPS(),this.timer=null}),2500)}},new class{constructor(){this.ssrcInfoMap=new Map,this.timer=null}updateSSRCInfo(t,e){this.ssrcInfoMap.has(t)||this.ssrcInfoMap.set(t,{timeList:[],lastTime:0,fps:0}),this._calculateFPS(t,e),this._removeZeroFPS(),this._checkIfNewFrameComing()}_calculateFPS(t,e){const s=this.ssrcInfoMap.get(t);if(s.timeList.push(e),s.lastTime=e,s.timeList.length>2){const e=s.timeList[0],r=s.timeList[s.timeList.length-1];if(r-e>=1e3){const n=Math.floor(1e3/((r-e)/(s.timeList.length-1)));s.fps!==n&&(this._notifyFPS(t,n),s.fps=n),s.timeList=[]}}s.timeList.length>30&&(s.timeList=s.timeList.slice(s.timeList.length-30))}_removeZeroFPS(){this.ssrcInfoMap.forEach(((t,e)=>{const s=this.ssrcInfoMap.get(e);s&&Date.now()-s.lastTime>2e3&&(this.ssrcInfoMap.delete(e),this._notifyFPS(e,0))}))}_notifyFPS(t,e){postMessage({status:66.6,data:{ssrc:t,fps:e}})}_checkIfNewFrameComing(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((()=>{this._removeZeroFPS(),this.timer=null}),2500)}};const $=t=>btoa(String.fromCharCode(...new Uint8Array(t)));class K{constructor(t){a(this,"process",(async()=>{if(this.processList.length){const t=this.processList.splice(0,30),e=await this.encryptData(this.mergeBuffer(t));this.writeLog($(e)),this.writeLog(this.EOL)}requestAnimationFrame(this.process)})),this.textEncoder=new TextEncoder,this.textDecoder=new TextDecoder,this.EOL=this.textEncoder.encode("\n"),this.processList=[],this.writeLog=t,this.key=null,this.initEncryptPromise=this.initEncrypt()}addLogData(t,e){if(!t||!e)return;const s=this.textEncoder.encode(t);this.processList.push(s),this.processList.push(e),this.processList.push(this.EOL)}async initEncrypt(){this.key=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),this.iv=crypto.getRandomValues(new Uint8Array(12));const t=new Uint8Array(await crypto.subtle.exportKey("raw",this.key)),e=new Uint8Array([0]);this.writeLog("v"),this.writeLog(this.EOL),this.writeLog($(e.buffer)),this.writeLog(this.EOL);const s=[t,this.iv];this.writeLog("h"),this.writeLog(this.EOL),this.writeLog($(this.mergeBuffer(s).buffer)),this.writeLog(this.EOL),this.startProcess()}mergeBuffer(t){const e=t.reduce(((t,e)=>t+e.length),0),s=new Uint8Array(e);let r=0;for(const e of t)s.set(e,r),r+=e.length;return s}async encryptData(t){return await this.initEncryptPromise,await crypto.subtle.encrypt({name:"AES-GCM",iv:this.iv},this.key,t)}startProcess(){requestAnimationFrame(this.process)}}class X{constructor(t){this.port=null,this.cache=[],this.stopCache=!1,t&&(this.logProcesser=new K(this.writeLog.bind(this)))}readyForLog(){}sendLog(t){}writeLog(t){this.readyForLog()?(this.stopCache||(this.cache.forEach((t=>this.sendLog(t))),this.clearCache()),this.sendLog(t)):this.stopCache||this.cache.push(t)}clearCache(){this.stopCache=!0,this.cache=[]}getTime(){const t=new Date;return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()}getLogData(t,e,s){if(e){var r=new Uint8Array(s?e+1:e),n=(self.GROWABLE_HEAP_I8?self.GROWABLE_HEAP_I8():Module.HEAP8).subarray(t+0,t+e);return r.set(n,0,e),s&&(r[e]=10),r}return t.data}writeWasmLog(t,e){const s=this.getTime(),r=this.getLogData(t,e);this.logProcesser?this.logProcesser.addLogData(s,r):(this.writeLog(s),this.writeLog(r),this.writeLog("\n"))}}class J extends X{constructor(){super(!0),this.port=null,this.ready=!1}init(){let t=0;const e=s=>{"local_log_port"===s.data.command?this.port||(this.port=s.data.data):"local_log_ready"===s.data.command&&(this.ready=!0,self.removeEventListener("message",e),clearTimeout(t),this.stopCache||(this.cache.forEach((t=>this.sendLog(t))),this.clearCache()))};self.addEventListener("message",e),t=setTimeout((()=>{self.removeEventListener("message",e),this.clearCache()}),6e4)}readyForLog(){return!!this.port&&this.ready}sendLog(t){this.port.postMessage(t)}}var Z,tt,et,st;!function(t){t[t.Unknow=0]="Unknow",t[t.MediaCommand=1]="MediaCommand",t[t.P2PControl=2]="P2PControl",t[t.MeshControl=3]="MeshControl"}(Z||(Z={})),function(t){t[t.normal=0]="normal",t[t.child=1]="child",t[t.parent=2]="parent",t[t.invalid=31]="invalid"}(tt||(tt={})),function(t){t[t.bridge=0]="bridge",t[t.setRole=1]="setRole",t[t.connectTestParams=2]="connectTestParams",t[t.reportConnectedSet=3]="reportConnectedSet",t[t.notifyChildParentLeave=4]="notifyChildParentLeave",t[t.notifyParentChildLeave=5]="notifyParentChildLeave",t[t.availableParents=6]="availableParents",t[t.updateNodeStatus=7]="updateNodeStatus",t[t.joinSuccess=8]="joinSuccess",t[t.kickChild=9]="kickChild",t[t.leaveParent=10]="leaveParent",t[t.subscriptionMap=11]="subscriptionMap",t[t.channelopt=12]="channelopt",t[t.joinSuccessConfirm=13]="joinSuccessConfirm",t[t.registerMeshNode=14]="registerMeshNode",t[t.meshAllowTalk=15]="meshAllowTalk",t[t.statInfo=16]="statInfo",t[t.adapt=17]="adapt",t[t.refershConnectParams=18]="refershConnectParams",t[t.joinConnectedSetConfirm=19]="joinConnectedSetConfirm",t[t.registerMeshNodeResult=20]="registerMeshNodeResult",t[t.meshSigType=21]="meshSigType",t[t.meshSigKey=22]="meshSigKey",t[t.mediaAccess=23]="mediaAccess",t[t.unknown=1e3]="unknown"}(et||(et={})),function(t){t[t.Unknow=0]="Unknow",t[t.Offer=1]="Offer",t[t.Answer=2]="Answer"}(st||(st={}));class rt{constructor(t,e){var s;this.type=t,this.onopen=()=>{},this.onclose=()=>{},this._onmessageAdaptpr=()=>{},this.port=(s=e,new q({sock:new N,type:s,local:!1,userArgs:undefined})),this.port.onclose=this._onclose.bind(this),this.port.onopen=this._onopen.bind(this),this.port.onmessage=this._onmessage.bind(this),this.isready=!1}send(t){let e=new Uint8Array(t);this.port.send(e)}onmessage(t){this._onmessageAdaptpr=t}_onmessage(t,e){this._onmessageAdaptpr({data:t})}isReady(){return this.isready}_onopen(){this.isready=!0,this.onopen()}_onclose(){this.isready=!1,this.onclose()}close(){var t;this.isready=!1,this.port&&(this.port.onclose=()=>{},this.port.onopen=()=>{},this.port.onmessage=()=>{},null===(t=this.port)||void 0===t||t.close())}}const nt=Date.now()-performance.now();function it(){return{meetingType:0,oldRole:1,newRole:1,udid:"",duration:1,dataDistributeVideo:0,latencyVideo:-1,dataDistributeAudio:0,latencyAudio:-1,dataDistributeAs:0,latencyAs:-1,qosScore:-1,deviceName:"WEB-CLIENT",childNode:-1,dataDistribute:0,latency:-1,createTime:performance.now(),modifyTime:performance.now()}}function ot(t,e){e>=t.groupSize||(t.openStatusArray[e]?console.warn("group web transport index ".concat(e,", status reopene")):(t.openStatusArray[e]=!0,t.openedCount+=1,t.openedCount>1||t.params.onopen(t)))}function at(t,e){e>=t.groupSize||(t.openStatusArray[e]?(t.openStatusArray[e]=!1,t.openedCount>0&&(t.openedCount-=1,0==t.openedCount&&t.params.onclose(t))):console.warn("group web transport index ".concat(e,", not open")))}class ct{constructor(t){this.params=t,this.label=this.params.label||"",this.id=this.params.id||0,this.successfulConnectedCount=0,this.connectIndex=0,this.heartbeat=new Uint8Array([104,101,97,114,116,98,101,97,116]),this.transport=null,this.transport_ready=!1,this.isDestroyed=!1,this.inReading=!1,this.heartbeatStarted=!1,this.reader=null}async connect(){this.reconnect()}async reconnect(){if(this.isReconnectNow||this.isTimerExist||this.isDestroyed)return;this.isReconnectNow=!0,this.isTimerExist=!0;let t=Math.pow(2,this.connectIndex)-1;this.connectIndex+=1,setTimeout((async()=>{if(this.isDestroyed)return;this.isTimerExist=!1;let{url:t}=this.params,e=new WebTransport(t);this.transport=e,e.closed.then((()=>{this.reader=null,this.transport_ready=!1,this.params.onclose&&this.params.onclose(this.params.group,this.params.index)})).catch((t=>{this.reader=null,this.transport_ready=!1,this.params.onerror&&this.params.onerror(t),this.params.onclose(this.params.group,this.params.index),this.connectIndex<8&&this.reconnect()}));try{if(this.isReconnectNow=!1,await e.ready,this.isDestroyed)return void this.close();this.transport_ready=!0,this.successfulConnectedCount++,e.datagrams.incomingMaxAge=1e3,e.datagrams.outgoingMaxAge=100,e.datagrams.incomingHighWaterMark=800,e.datagrams.outgoingHighWaterMark=800,this.writer=e.datagrams.writable.getWriter(),this.reader=e.datagrams.readable.getReader(),await this.writer.ready,this.params.onopen(this.params.group,this.params.index)}catch(t){return this.params.onerror&&this.params.onerror(t),void this.close()}this.startHeartbeat(),this.read()}),1e3*t)}send(t){if(this.transport_ready){let e=new Uint8Array(t);this.writer.write(e)}}async sendAwaitReady(t){this.transport_ready&&await this.writer.ready,this.transport_ready&&await this.writer.write(t)}async startHeartbeat(){if(!this.heartbeatStarted)for(this.heartbeatStarted=!0;;)try{await this.sleep(3e3),await this.sendAwaitReady(this.heartbeat)}catch(t){}}sleep(t){return new Promise((e=>setTimeout(e,t)))}localTime(){let t=new Date;return"local time : "+t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" @ "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+" "}close(){try{this.transport_ready=!1,this.transport&&this.transport.close()}catch(t){}}forceClose(){this.isDestroyed||(this.isDestroyed=!0,this.close())}async read(){if(!this.inReading){for(this.inReading=!0;this.reader;)try{const{value:t,done:e}=await this.reader.read();if(e)break;this.params.onmessage(t)}catch(t){break}this.inReading=!1}}}class ut{constructor(t){this.params=t,this.label=this.params.label||"",this.id=this.params.id||0,this.groupSize=t.groupSize,this.openedCount=0,this.sendIndex=0,this.transportArray=[],this.openStatusArray=[];for(let t=0;t<this.groupSize;t++)this.transportArray.push(null),this.openStatusArray.push(!1)}isReady(){return this.openedCount>0}async connect(){for(let t=0;t<this.groupSize;t++){let e=this.params.url;t>0&&(e+="&index="+t);let s={url:e,label:this.params.label,id:this.id,onmessage:this.params.onmessage,onopen:ot,onclose:at,group:this,index:t},r=new ct(s);await r.connect(),this.transportArray[t]=r}}send(t){if(!(this.openedCount<=0))for(let e=0;e<this.groupSize;e++){this.sendIndex+=1;let e=this.sendIndex%this.groupSize;if(this.transportArray[e]&&this.openStatusArray[e]){this.transportArray[e].send(t);break}}}forceClose(){for(let t=0;t<this.groupSize;t++)this.transportArray[t]&&this.transportArray[t].forceClose()}}var lt,ht,dt,_t,mt="undefined"!=typeof RTCDataChannel;postMessage({status:131,data:mt}),self.wasmSuccessEvent=7,self.wasmFailEvent=-7,self.downloadAndInstantiateWebAssembly=async function(t,e){try{const s=await new Promise(((t,e)=>{const s=r=>{let n=r.data;"DOWNLOAD_WASM_FROM_MAIN_THREAD_OK"===n.command?(z("DE"),self.removeEventListener("message",s),t(n.data)):"DOWNLOAD_WASM_FROM_MAIN_THREAD_FAILED"===n.command&&(self.removeEventListener("message",s),e(new Error("Failed to download WASM file: ".concat(wasmUrl," from main thread"))))};self.addEventListener("message",s),z("DS"),postMessage({status:30,url:wasmUrl})}));let r=await WebAssembly.instantiate(s,t);r.instance?(self.wasmModuleToShare=r.module,e(r.instance)):(self.wasmModuleToShare=s,e(r))}catch(t){z("IF"),function(t,e=null){var s,r;if(e instanceof Error||e instanceof ErrorEvent){const n=e;t+=" Code: "+(null==n?void 0:n.code)+" Message: "+(null==e?void 0:e.message)+" Stack: "+(null!==(r=null===(s=null==n?void 0:n.error)||void 0===s?void 0:s.stack)&&void 0!==r?r:null==n?void 0:n.stack),e=null}postMessage({status:61,errorMessage:t,errorEvent:e})}("E:H Failed to download and instantiate WASM file: ".concat(wasmUrl),t)}};var pt,ft,gt,yt,vt,bt,wt,Mt,St,At,Et,Tt,kt=()=>{},Ct=()=>{},Rt=()=>{},Pt=()=>{},xt=()=>{},It=()=>{},Ot=null,Dt=null;new Promise(((t,e)=>{Ot=t})),self.onWasmModuleReady=()=>{lt=Module.cwrap("_Qos_Init","number",["number","number","number","boolean","boolean","boolean","boolean"]),ht=Module.cwrap("_Qos_UnInit","number",["number"]),dt=Module.cwrap("_Qos_Start_Send","number",["number","number","boolean"]),_t=Module.cwrap("_Qos_Stop_Send","number",["number","number"]),kt=Module.cwrap("_Qos_Change_Connect_Type_Or_Video_Share","number",["number","number","number","boolean","boolean"]),pt=Module.cwrap("_Qos_Send_Data_Packet","number",["number","number","number","number","number"]),Ct=Module.cwrap("_Qos_Data_From_Rwg","number",["number","number","number"]),Rt=Module.cwrap("_Qos_AS_Data_From_Rwg","number",["number","number","number"]),Pt=Module.cwrap("_Qos_Audio_Data_From_Rwg","number",["number","number","number"]),xt=Module.cwrap("_Qos_Smooth_Send_Periodically_For_Qos","number",["number","number"]),It=Module.cwrap("_Qos_Request_Nack_T_Periodically_For_Qos","number",["number","number"]),ft=Module.cwrap("_Qos_Update_Required_Bandwidth","number",["number","number","number","number"]),gt=Module.cwrap("_Qos_Update_Video_Hd_Info","number",["number","number"]),yt=Module.cwrap("_Qos_Reset_As_Qos_Buffer","number",["number"]),vt=Module.cwrap("_mesh_init","number",[]),Module.cwrap("_mesh_uninit",null,["number"]),Module.cwrap("_mesh_add_child","number",["number","number","number"]),Module.cwrap("_mesh_rm_child","number",["number","number","number"]),Module.cwrap("_mesh_bad_net","number",["number","number","number"]),bt=Module.cwrap("_mesh_sub_infomap",null,["number","number","number"]),wt=Module.cwrap("_mesh_channle_opt","number",["number","number","number"]),Module.cwrap("_mesh_out_filter_test",null,["number","number","number","number","number","number"]),Mt=Module.cwrap("_Qos_Set_OutFilter","number",["number","number"]),St=Module.cwrap("_Qos_Enable_OutFilter","number",["number","boolean"]),At=Module.cwrap("_Qos_Set_NodeId","number",["number","number"]),Module.cwrap("_wcl_enable_log","number",["number","string","number"]),Dt=Module.cwrap("_Qos_Set_BandWidth_Limit","number",["number","number"]),qs(new Uint8Array(1500)),Ot(!0),postMessage({status:194})},function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const e="undefined"!=typeof DedicatedWorkerGlobalScope;if(q.dataTransportMgr)return;let s=new L({type:e?L.THREAD_SUB:L.THREAD_MAIN,remote:e?self:null});q.dataTransportMgr=s,s.monitorlogfn=t,W.target||(W.target=new W(s),s.addTransportListChangeListener(W.target)),e&&self.addEventListener("message",s._onrecvmainthreadlistener.bind(s))}catch(t){console.error("<<<< InitDataTransportModule",t)}}((function(t,e){ts.length&&is(ts[0],t,e)})),Et=function(t){const e=t.type,s=e>>2,r=3&e;switch(e>=4&&e<=13&&(Zt[s][r]=t,function(t,e){t.onmessage=e,t.oncommand=Me.bind(null,t),t.onclose=we.bind(null,t),t.setStatus(U.OPEN)}(t,ee[s][r])),e){case 5:Vt=t;break;case 4:Wt=t;break;case 13:{var n;zt=t,Bs.createReciver();let e=(null===(n=oe[s][r])||void 0===n?void 0:n.isReady())?0:1;Bs.setConnectType(3,e,!1,!1);break}case 12:{var i;Yt=t,Bs.createSender();let e=(null===(i=oe[s][r])||void 0===i?void 0:i.isReady())?0:1;Bs.setConnectType(3,e,!0);break}case 9:{var o;$t=t,Bs.createReciver();const e=null===(o=oe[s][r])||void 0===o?void 0:o.isReady();let n=ce[1]&&e?0:1;Bs.setConnectType(2,n,!1,ce[1]);break}case 8:Gt=t,Bs.createSender(),Bs.setConnectType(2,1,!0,!1);break;case 7:Kt=t;break;case 11:Xt=t,Bs.createMainQos();break;case-2147483646:Jt=t}},q.dataTransportMgr&&Et&&(q.dataTransportMgr.onRemoteTransportFn=Et),Tt=self,V.instance||(V.instance=new V),V.instance.start(Tt);let Lt=null,Ft=null,Ut=null;var Nt=tt.normal,Ht=null,qt=!1;self.onmessage=t=>{let e=t.data;switch(e.command){case 136:mt&=e.useTransferRTC,Vs=e.isSafar,mt||(Lt||(Lt=new rt(1,64),Lt.onopen=()=>{Ce(Lt)},Lt.onclose=()=>{Le(Lt)},Lt.onmessage(Ne)),Ft||(Ft=new rt(3,128),Ft.onopen=()=>{Ce(Ft)},Ft.onclose=()=>{Le(Ft)},Ft.onmessage(Ue))),Ws||null===(s=Ws=function(){let t=!1;try{t=!1}catch(t){}return t?new J:null}())||void 0===s||s.init({workerType:"net"});break;case 134:!function(t,e,s,r,n){let i=new C(t,e,s,null,n);const o=re[e];i.transportlists=r,i.open(),i.onmessage(o),i.onopen(Ce.bind(null,i)),i.onclose(Le.bind(null,i)),i.onerror(De.bind(null,i)),i.onbadnet(Oe.bind(null,i,e)),i.report_monitor_func=is.bind(null,i),ts.push(i)}(e.id,e.type,e.channel,e.transportlists,e.tag);break;case 142:!mt&&os();break;case 135:!function(t){let e=ts.findIndex((e=>e.id==t));if(-1==e)return;let[s]=ts.splice(e,1);s.close()}(e.id);break;case 138:self.postMessage({cmd:137,timestamp:Date.now()});break;case 144:{let t=(Nt=e.data)==tt.parent;Ht||(Ht=vt(),Bs.setOutFilter(Ht)),Bs.enableFilter(t);const s=Nt==tt.child;s&&(!mt&&os(),Bs.createMesh()),s?Ds.start():Ds.stop();break}case 143:!function(t){const{type:e,info:s}=t;let r=qs(s);Ht||(Ht=vt(),Bs.setOutFilter(Ht)),"subInfo"==e&&bt(Ht,r,s.length),"channelOpt"==e&&wt(Ht,r,s.length)}(e);break;case 145:{const{allow:t}=e;qt=t;break}case 146:!function(t){Ls=Array(Fs).fill(0);let e=0;const s=()=>{var t;const r=e,n=Date.now()&Us;Ls[r]=n;let i=new Uint8Array(1e3);i[0]=0,i[1]=r,i[4]=n>>24&255,i[5]=n>>16&255,i[6]=n>>8&255,i[7]=255&n,null===(t=se[4])||void 0===t||t.send(i),e++,e<Fs&&setTimeout(s,10)};setTimeout((()=>{s()}),50),setTimeout((()=>{let e=0,s=16777215,r=0,n=0;for(let t=0;t<Fs;t++){const i=Ls[t];i>3e3||(i>e&&(e=i),i<s&&(s=i),r+=i,n++)}let i=n>7?Math.round(r/n):1e4;z("MESHRTT:".concat(i,"|").concat(e,"|").concat(s,"|").concat(n)),postMessage({status:201,value:i,id:t})}),1e3)}(e.id)}var s};const Bt=new B,Qt=new U,jt=()=>{};var Wt=Bt,Vt=Bt,Yt=Bt,zt=Bt,Gt=Bt,$t=Bt,Kt=Bt,Xt=Bt,Jt=Bt,Zt=[[Bt,Bt,Bt,Bt],[Wt,Vt,Bt,Kt],[Gt,$t,Bt,Xt],[Yt,zt,Bt,Bt]],te=[["","","",""],["AE","AD","","MAD"],["SE","SD","","MSD"],["VE","VD","",""]],ee=[[jt,jt,jt,jt],[function(t,e){const s=t[0],r=le[0];1===s?Bs.audio_rtp_for_send(t):r.send(t)},function(t,e){t[0];le[1].send(t)},jt,function(t,e){const s=t[0],r=he[3],n=le[3];108===s?n.send(t):r.send(t)}],[function(t,e){const s=t[0],r=pe[0];77===s?Bs.share_rtp_for_sender(t):r.send(t)},function(t,e){t[0];pe[1].send(t)},jt,function(t,e){t[0];pe[3].send(t)}],[function(t,e){const s=t[0],r=_e[0],n=de[0];switch(s){case 2:Bs.video_rtp_for_send(t);break;case 7:case 17:n.send(t);break;default:r.send(t)}},function(t,e){const s=t[0],r=_e[1],n=de[1];switch(s){case 7:case 17:n.send(t);break;default:r.send(t)}},jt,jt]],se=[null,null,null,null,null],re=[null,Ne,null,Ue,je],ne=["common","audio","share","video"],ie=[[null,null],[null,null],[null,null],[null,null]],oe=[[null,null],[null,null],[null,null],[null,null],[null,null]],ae=[[null,null],[function(t){rs({data:t.buffer})},function(t){ns({data:t.buffer})}],[Qe,Be],[Qe,Be]],ce=[0,0,0,0],ue=[Qt,Qt,Qt,Qt],le=[Qt,Qt,Qt,Qt],he=[Qt,Qt,Qt,Qt],de=[Qt,Qt,Qt,Qt],_e=[Qt,Qt,Qt,Qt],me=[Qt,Qt,Qt,Qt],pe=[Qt,Qt,Qt,Qt],fe=[ue,he,pe,_e],ge=[ue,le,me,de],ye=[[jt,jt,jt,jt],[rs,ns,Qt,function(t){const e=new Uint8Array(t.data);0===e[0]?he[3].send(e):Kt.send(e)}],[function(t){const e=new Uint8Array(t.data);switch(e[0]){case 0:pe[0].send(e);break;case 133:case 132:Bs.share_data_for_sender(e);break;default:Gt.send(e)}},function(t){const e=new Uint8Array(t.data);switch(e[0]){case 0:pe[1].send(e);break;case 133:case 132:Bs.share_data_for_reciver(e);break;case 77:case 78:case 79:Nt==tt.parent&&Jt.send(new Uint8Array(e)),$t.send(e);break;default:$t.send(e)}},Qt,function(t){const e=new Uint8Array(t.data);switch(e[0]){case 0:pe[3].send(e);break;case 132:case 133:Bs.share_data_for_main_reciver(e);break;default:Xt.send(e)}}],[es,ss,Qt,Qt]],ve=!1,be=!1;function we(t){const e=t.type;t.onclose=jt,t.onmessage=jt,t.oncommand=jt;const s=3&e,r=fe[e>>2][s];null==r||r.close()}function Me(t,e){const{cmd:s,data:r}=e,n=t.type,i=n>>2,o=3&n,a=ye[i][o];let c=fe[i][o],u=null;switch(s){case 175:ve=ve||r,be=be||e.isLSSPlayer;break;case 180:u=function(t,e,s,r){let n=t;n&&n.url!=e&&(Ae(n),n=null);const i=s.type,o=3&i,a=te[i>>2][o];return n||(Vs&&Y.prototype.send!=Y.prototype.sendForSafari&&(Y.prototype.send=Y.prototype.sendForSafari),n=new Y(e,a),n.connect(),n.monitorlog=z,n.onopen=Ee.bind(null,s),n.onerror=Te.bind(null,s),n.onclose=ke.bind(null,s),n.onmessage=r),n}(c,r,t,a),fe[i][o]=u,u.isReady()&&t.sendCommand({cmd:182});break;case 181:Ae(c),fe[i][o]=Qt;break;case 176:{let e=ie[i][o];e=function(t,e,s,r){var n;let i=t;i&&(null===(n=i.params)||void 0===n?void 0:n.url)!=e&&(Se(i),i=null);const o=s.type,a=1&o,c=ne[o>>2];if(!i){let t=1;a||(t=0);const n={url:e,label:c,id:0,onmessage:r,onopen:He.bind(null,s),onclose:qe.bind(null,s),groupSize:t};i=new ut(n),i.connect()}return i}(e,r,t,ae[i][o]),e.isReady()&&t.sendCommand({cmd:178});break}case 177:Se(ie[i][o]),ie[i][o]=null;break;case 188:{var l;ce[0]=r;let t=r;const e=!(null===(l=oe[i][o])||void 0===l||!l.isReady()),s=t&&e?0:1;Bs.clear_share_data_buffer(),Bs.setConnectType(2,s,!0,t);break}case 190:Bs.video_set_hd_info(0==o,r);break;case 191:Bs.update_bandwidth(0==o,e);break;case 192:{var h;const{ismain:t,mode:s}=e;ce[1]=s;const r=!(null===(h=oe[i][o])||void 0===h||!h.isReady()),n=s&&r?0:1;t?Bs.setMainShareConnectType(n,s,!1):Bs.setConnectType(2,n,!1,s);break}case 193:Bs.setSelfId(0==o,r);break;case 197:{const{appid:t,enable:s}=e;Bs.enableQosSend(t,s);break}case 198:fe[i][o].send(r)}}function Se(t){t&&(t.params.onopen=()=>{},t.params.onclose=()=>{},t.forceClose())}function Ae(t){t&&(t.onopen=()=>{},t.onclose=()=>{},t.onerror=()=>{},t.onmessage=()=>{},t.close())}function Ee(t,e){We(t.type,0,!0)}function Te(t,e){We(t.type,0,!1)}function ke(t,e){We(t.type,0,!1)}function Ce(t){t instanceof C&&postMessage({cmd:124,id:t.id});const e=t.type;se[e]=t;const s=e-1;2==s&&(se[s]=t);let r=0;4!=e?(oe[e][0]||(r|=Ye),oe[e][1]||(r|=ze)):r=Ge,Xe(e,t,r)}var Re={rtt:250,bandwidth:1e6,maxband:0,stableStartTime:0,downgrade:void 0,downgradecount:0,rate:0,badnetcount:0,bandwidthlimit:0,bandwidthup:!1,bandwidthupcount:0},Pe=new class{constructor(t){var e,s,r,n,i;this.ratio=0,this.alr_start_time=0,this.alr_stop_time=0,this.usage_ratio=null!==(e=null==t?void 0:t.usage_ratio)&&void 0!==e?e:65,this.enterWindowMs=null!==(s=null==t?void 0:t.enterWindowMs)&&void 0!==s?s:15e3,this.exitWindowMs=null!==(r=null==t?void 0:t.exitWindowMs)&&void 0!==r?r:15e3,this.hysteresis=null!==(n=null==t?void 0:t.hysteresis)&&void 0!==n?n:5,this.ceff=null!==(i=null==t?void 0:t.ceff)&&void 0!==i?i:.8}reset(){this.ratio=0,this.alr_start_time=0,this.alr_stop_time=0}inAlr(){return 0!=this.alr_start_time}update(t,e){if(t<=0||e<0)return;const s=performance.now(),r=100*e/t;0==this.ratio&&(this.ratio=r),this.ratio=this.ratio*this.ceff+r*(1-this.ceff);const n=this.usage_ratio,i=this.usage_ratio+this.hysteresis;this.ratio<=n?(0==this.alr_stop_time&&(this.alr_stop_time=s),s>=this.alr_stop_time+this.enterWindowMs&&(this.alr_start_time=s)):(0!=this.alr_start_time&&this.ratio>=i&&s>=this.alr_start_time+this.exitWindowMs&&(this.alr_stop_time=0,this.alr_start_time=0),this.ratio>=i&&0==this.alr_start_time&&(this.alr_stop_time=0))}}({usage_ratio:65,enterWindowMs:8e3,exitWindowMs:12e3,hysteresis:5,ceff:.8});let xe=[],Ie=0;function Oe(t,e,s){const r=performance.now();if(3==e){Re.badnetcount++;const t=Re.bandwidth||1e6,e=Re.maxband||t,n=Re.rate||1e6,{status:i,dckbps:o,sendkbps:a,overusetime:c,nosendcount:u}=s;let l=!1;100*t/a<80&&(l=!0),z("DCBADNET:".concat(t,",").concat(n,",").concat(a,",").concat(o,",").concat(c,",").concat(u,",").concat(l));let h=Math.min(e,n)>>1;l&&(h=.85*Math.min(o,t)),h<5e5&&(h=5e5),h>1e6&&!l&&(h=1e6);const d=h-Math.max(.25*h,2e5);if(100*Math.abs(d-Re.maxband)/Re.maxband<10)return;Re.maxband=d;const _=!1===Re.downgrade?3e3:5e3;Re.stableStartTime+_<r&&(Re.stableStartTime=r,void 0===Re.downgrade?Re.downgradecount=1:!1===Re.downgrade&&Re.stableStartTime+3e4>r&&Re.downgradecount++,Re.downgrade=!0,Re.bandwidthupcount=0,z("UPLINKLIMIT:".concat(d,":").concat(Re.badnetcount)),Bs.setBandLimit(3,d))}}function De(t,e){t instanceof C&&postMessage({cmd:125,id:t.id,ev:e}),Fe(t)}function Le(t){t instanceof C&&postMessage({cmd:126,id:t.id}),Fe(t)}function Fe(t){const e=t.type;se[e]=null;const s=e-1;2==s&&(se[s]=null);let r=0;if(4!=e){var n,i;const s=null===(n=ie[e][0])||void 0===n?void 0:n.isReady(),o=null===(i=ie[e][1])||void 0===i?void 0:i.isReady();s?oe[e][0]==t&&Xe(e,ie[e][0],Ye):r|=Ye,o?oe[e][0]==t&&Xe(e,ie[e][1],ze):r|=ze}(Ge&r||4==e)&&Je(e,r),t instanceof C&&(t.onmessage(jt),t.close())}function Ue(t){const e=new Uint8Array(t.data),s=e[0],r=1&e[1],n=2&e[1];switch(s){case 103:Bs.video_data_for_reciver(e);break;case 133:n?Bs.share_data_for_main_reciver(e):Bs.share_data_for_reciver(e);break;case 104:r?Bs.video_data_for_reciver(e):Bs.video_data_for_sender(e);break;case 132:r?n?Bs.share_data_for_main_reciver(e):Bs.share_data_for_reciver(e):Bs.share_data_for_sender(e);break;case 20:Yt.send(e);break;case 130:Gt.send(e);break;case 7:default:zt.send(e);break;case 78:$t.send(e)}}function Ne(t){const e=new Uint8Array(t.data),s=e[0],r=1&e[1];switch(s){case 107:case 6:default:Vt.send(e);break;case 108:r?Vt.send(e):Wt.send(e)}}function He(t,e){const s=t.type,r=s>>2,n=3&s;let i=0;ie[r][n]=e,oe[r][0]||(i|=Ye),Xe(r,e,i),Ve(t,0,!0)}function qe(t,e){const s=t.type,r=s>>2,n=3&s,i=!(1&s);ie[r][n]=null;let o=0;const a=se[r];i&&a?Xe(r,a,Ye):o|=Ye,!i&&a?Xe(r,a,ze):o|=ze,Ge&o&&Je(r,o),Ve(t,0,!1)}function Be(t){const e=t[0];133==e||132==e||130==e?Ue({data:t.buffer}):ss({data:t.buffer})}function Qe(t){const e=t[0];133==e||132==e||130==e?Ue({data:t.buffer}):es({data:t.buffer})}function je(t){let e=new Uint8Array(t.data);switch(e[0]){case 0:!function(t){const e=t[1],s=5+(Date.now()&Us),r=t[4]<<24|t[5]<<16|t[6]<<8|t[7];s>Ls[e]&&r==Ls[e]&&(Ls[e]=s-r)}(e);break;case 107:case 108:Ds.statInfo.dataDistributeAudio+=e.length,Bs.mesh_audio_recive(e);break;case 132:case 133:Ds.statInfo.dataDistributeAs+=e.length,Bs.mesh_share_recive(e);break;case 104:case 103:Ds.statInfo.dataDistributeVideo+=e.length,Bs.mesh_video_recive(e);break;case 6:!qt&&Vt.send(e);break;case 7:zt.send(e);break;case 77:case 78:case 79:$t.send(e)}}function We(t,e,s){var r;const n={cmd:s?182:183},i=t>>2,o=3&t,a=fe[i][o],c=Zt[i][o],u=null===(r=oe[i][o])||void 0===r?void 0:r.isReady();c.sendCommand(n),s||(fe[i][o]=Qt),u?Ze(Zt[i][o],!0):ge[i][o]=fe[i][o],!s&&(null==a||a.close())}function Ve(t,e,s){const r=s?178:179;t.sendCommand({cmd:r})}const Ye=1,ze=2,Ge=Ye|ze;function $e(t,e,s){e&Ye&&(t[0]=s),e&ze&&(t[1]=s,t[3]=s)}function Ke(t,e,s){e&Ye&&(t[0]=s[0]),e&ze&&(t[1]=s[1],t[3]=s[3])}function Xe(t,e,s){s&Ye&&(oe[t][0]=e),s&ze&&(oe[t][1]=e);const r=t-1;switch(2==r&&(s&Ye&&(oe[r][0]=e),s&ze&&(oe[r][1]=e)),t){case 1:$e(le,s,e),ve&&$e(he,s,e),s&Ye&&Ze(Wt,!0),s&ze&&Ze(Vt,!0);break;case 3:s&Ye&&Bs.setConnectType(3,0,!0,!1),s&ze&&Bs.setConnectType(3,0,!1,!1),$e(de,s,e),ve&&$e(_e,s,e),$e(me,s,e),ve&&$e(pe,s,e),s&Ye&&Ze(Yt,!0),s&ze&&Ze(zt,!0);break;case 4:for(let t=1;t<4;t++)ge[t][2]=e,fe[t][2]=e}}function Je(t,e){e&Ye&&(oe[t][0]=null),e&ze&&(oe[t][1]=null);const s=t-1;switch(2==s&&(e&Ye&&(oe[s][0]=null),e&ze&&(oe[s][1]=null)),t){case 3:ve&&$e(_e,e,Qt),Ke(de,e,_e),ve&&$e(pe,e,Qt),Ke(me,e,pe),e&Ye&&Bs.setConnectType(3,1,!0,!1),e&ze&&Bs.setConnectType(3,1,!1,!1),e&Ye&&Bs.setConnectType(2,1,!0,ce[0]),e&ze&&(Bs.setConnectType(2,1,!1,ce[1]),Bs.setMainShareConnectType(1,ce[1],!1)),e&Ye&&Ze(Yt,!1),e&ze&&Ze(zt,!1);break;case 1:ve&&$e(he,e,Qt),Ke(le,e,he),e&Ye&&Ze(Wt,!1),e&ze&&Ze(Vt,!1);break;case 4:for(let t=1;t<4;t++)ge[t][2]=Qt,fe[t][2]=Qt;Bs.closeMesh()}}function Ze(t,e){const s={cmd:189,data:e};t.sendCommand(s)}let ts=[];function es(t){let e=new Uint8Array(t.data);switch(e[0]){case 0:_e[0].send(e);break;case 103:case 104:Bs.video_data_for_sender(e);break;default:Yt.send(e)}}function ss(t){let e=new Uint8Array(t.data);switch(e[0]){case 0:_e[1].send(e);break;case 103:case 104:Bs.video_data_for_reciver(e);break;case 7:Nt==tt.parent&&Jt.send(new Uint8Array(e)),zt.send(e);break;default:zt.send(e)}}function rs(t){const e=new Uint8Array(t.data);0===e[0]?he[0].send(e):Wt.send(e)}function ns(t){const e=new Uint8Array(t.data);switch(e[0]){case 0:he[1].send(e);break;case 6:Nt==tt.parent&&Jt.send(new Uint8Array(e)),Vt.send(e);break;default:Vt.send(e)}}function is(t,e,s){postMessage({cmd:21,id:t.id,tag:e,data:s})}function os(){Ut||(Ut=new rt(4,256),Ut.onopen=()=>{Ce(Ut)},Ut.onclose=()=>{Le(Ut)},Ut.onmessage(je))}function as(t,e,s,r,n){const i={cmd:E,type:e,bwLevel:r,networkLevel:s};if(3==t&&(0==n&&Yt.sendCommand(i),1==n&&zt.sendCommand(i)),2==t&&(0==n&&Gt.sendCommand(i),1==n&&$t.sendCommand(i)),2==n){const t=Ds.statInfo,e=Math.max(t.qosScore,s);t.qosScore=e}}function cs(t,e,s,r,n,i,o){var a=new Uint8Array(e+4),c=HEAPU8.subarray(t,t+e);a.set(c,4),a[0]=s,a[1]=r,a[2]=3,n?de[i].send(a):_e[i].send(a)}function us(t,e,s,r,n,i){let o=new Uint8Array(4),a=HEAPU8.subarray(e,e+s);o[0]=2,o[1]=r,zt.sendVideo(o,a)}function ls(t,e,s,r,n,i){let o=new Uint8Array(4),a=HEAPU8.subarray(e,e+s);o[0]=2,o[1]=r,zt.sendVideo(o,a)}function hs(t,e,s,r,n,i,o,a){var c=new Uint8Array(e+4),u=HEAPU8.subarray(t,t+e);c.set(u,4),c[0]=s,c[1]=r,c[2]=2,me[o].send(c)}function ds(t,e,s,r,n,i){let o=new Uint8Array(4),a=HEAPU8.subarray(e,e+s);o[0]=77,$t.sendVideo(o,a)}function _s(t,e,s,r,n,i){let o=new Uint8Array(4),a=HEAPU8.subarray(e,e+s);o[0]=77,1==i?$t.sendVideo(o,a):Xt.sendVideo(o,a)}function ms(t,e,s,r,n,i){var o=new Uint8Array(s+4),a=HEAPU8.subarray(e,e+s);o.set(a,4),o[0]=t,o[1]=r,o[2]=1,le[i].send(o)}function ps(t,e,s,r,n,i,o){let a=new Uint8Array(4);a[0]=1,a[1]=n,a[2]=1;let c=HEAPU8.subarray(e,e+s);!qt&&Vt.sendVideo(a,c)}function fs(t,e,s,r,n,i,o,a){var c=new Uint8Array(e+4),u=HEAPU8.subarray(t+0,t+e);const l=n&&ce[o];c.set(u,4);let h=3==o?2:0;c[0]=s,c[1]=r|h,l?me[o].send(c):pe[o].send(c)}function gs(t,e,s,r,n,i,o){var a=new Uint8Array(e+4),c=HEAPU8.subarray(t,t+e);if(a.set(c,4),a[0]=s,a[1]=r,n)de[i].send(a);else if(be){const t={cmd:T,data:a};zt.sendCommand(t)}else _e[i].send(a)}function ys(t,e,s){const r={cmd:M,type:t,payload_type:e,ismain:3==s,issend:!0};Gt.sendCommand(r)}function vs(t,e,s){const r={cmd:S,bandwidth:t,lostrate:e,ismain:3==s,issend:!0};Gt.sendCommand(r)}function bs(t,e,s,r){const n={cmd:A,retran:t,retran_switched:e,lostrate:s,ismain:3==r,issend:!0};Gt.sendCommand(n)}var ws={bandwidth:0,sendrate:0};function Ms(t,e,s,r,n,i,o,a,c){const u=3==c,l={cmd:w,rtt:e,jitter:s,avg_loss:r,max_loss:n,bandwidth:i,rate:o,lost_packet_num:a,ismain:3==c,issend:t};0==c&&(ws.bandwidth=i,ws.sendrate=o),2==c&&Nt!=tt.child||(u?!t&&Xt.sendCommand(l):t?Gt.sendCommand(l):$t.sendCommand(l))}function Ss(t,e,s){const r={cmd:M,type:t,payload_type:e,issend:!0};0==s&&Yt.sendCommand(r)}function As(t,e,s){const r={cmd:S,bandwidth:t,lostrate:e,issend:!0};0==s&&Yt.sendCommand(r)}function Es(t,e,s,r){const n={cmd:A,retran:t,retran_switched:e,lostrate:s,issend:!0};0==r&&Yt.sendCommand(n)}function Ts(t,e,s,r,n,i,o,a,c){const u={cmd:w,rtt:e,jitter:s,avg_loss:r,max_loss:n,bandwidth:i,rate:o,lost_packet_num:a,issend:t};if(2==c&&Nt!=tt.child)return;t?Yt.sendCommand(u):zt.sendCommand(u);const l=performance.now();if(t){if(0==xe.length)Ie=e;else{const t=.75;Ie=Ie*t+(1-t)*e}xe.push(Ie),xe.length>20&&xe.splice(0,1);const t=function(){if(!ce[0]||!me[0])return null;const{bandwidth:t,sendrate:e}=ws;return 0==t||0==e?null:{bandwidth:t,sendrate:e}}(),s=i+((null==t?void 0:t.bandwidth)||0),r=o+((null==t?void 0:t.sendrate)||0);s>=8e4&&Pe.update(s,r);const n=3e7,a=Re.downgrade?45e3*Re.downgradecount:Math.max(3e4-5e3*Re.bandwidthupcount,15e3),c=Re.maxband||n;if(c<n&&l>Re.stableStartTime+a){const i=Math.max(Math.min(...xe,300),10),o=Pe.inAlr()&&s>=.75*c,a=100*r*(t?1.1:1)/c>50;if((a||o)&&e<1.5*i){Re.bandwidthupcount++;let t=a?.5:.25;Re.bandwidthupcount>1&&c>5e5&&(t=1);const e=c+Math.max(Math.round(c*t),15e4),i=!0;e>15e5&&c<=15e5||c>15e5&&Re.downgrade?(Bs.setBandLimit(3,n),Re.maxband=n):e<=15e5&&(Bs.setBandLimit(3,e),Re.maxband=e),i&&(Re.stableStartTime=l,Re.downgrade=!1,z("RECOVERLIMIT:".concat(Re.maxband,",ALR:").concat(o,",pre:").concat(c,",send:").concat(r,",bw:").concat(s)))}}Re.rtt=e,Re.bandwidth=i,Re.rate=o}}function ks(t,e,s,r,n,i,o,a,c){const u={cmd:w,rtt:e,jitter:s,avg_loss:r,max_loss:n,bandwidth:i,rate:o,ismain:!1,lost_packet_num:a,issend:t};if(!t){$t.sendCommand(u);const t=Ds.statInfo;t.latencyAs=(3*t.latencyAs+e)/4}}function Cs(t,e,s,r,n,i,o,a,c){const u={cmd:w,rtt:e,jitter:s,avg_loss:r,max_loss:n,bandwidth:i,rate:o,lost_packet_num:a,issend:t};if(!t){zt.sendCommand(u);const t=Ds.statInfo;t.latencyVideo=(3*t.latencyVideo+e)/4}}function Rs(t,e,s,r,n,i,o,a){const c=Ds.statInfo;c.latencyAudio=(3*c.latencyAudio+e)/4}function Ps(t,e,s){const r=G(HEAPU8.subarray(t,t+e));z("NETQOS:".concat(r))}function xs(t,e,s,r,n,i){let o=HEAPU8.subarray(e,e+n),a=new Uint8Array(12),c=new DataView(a.buffer);c.setUint32(0,2),c.setUint32(4,t),c.setUint32(8,i),Jt.sendVideo(a,o)}function Is(t,e,s,r,n,i){let o=HEAPU8.subarray(e,e+n),a=new Uint8Array(12),c=new DataView(a.buffer);c.setUint32(0,77),c.setUint32(4,t),c.setUint32(8,i),Jt.sendVideo(a,o)}function Os(t,e){const s=G(HEAPU8.subarray(t,t+e));z("NETMESH:".concat(s))}var Ds=new class{constructor(){this.intervalid=-1,this.onreportfn=null,this.statInfo=it()}set onreport(t){this.onreportfn=t}start(){-1==this.intervalid&&(this.statInfo.createTime=performance.now(),this.intervalid=setInterval(this._updatedata.bind(this),3e4))}_updatedata(){var t;let e=this.statInfo;this.statInfo=it(),e.modifyTime=performance.now(),e.duration=Math.round(e.modifyTime-e.createTime),e.createTime=Math.round(e.createTime+nt),e.modifyTime=Math.round(e.modifyTime+nt),e.dataDistribute=e.dataDistributeAs+e.dataDistributeAudio+e.dataDistributeVideo,e.latencyAs=Math.floor(e.latencyAs),e.latencyAudio=Math.floor(e.latencyAudio),e.latencyVideo=Math.floor(e.latencyVideo),e.latency=Math.max(e.latencyAs,e.latencyAudio,e.latencyVideo),null===(t=this.onreportfn)||void 0===t||t.call(this,e)}stop(){-1!=this.intervalid&&(this._updatedata(),clearInterval(this.intervalid),this.intervalid=-1)}};Ds.onreport=function(t){t.newRole=tt.child,postMessage({status:171,data:t})};var Ls=null;const Fs=10,Us=268435455;var Ns=null,Hs=0;function qs(t){return t&&0!=t.length?(t.length>Hs&&(Ns&&_free(Ns),Hs=2*t.length,Ns=_malloc(Hs)),writeArrayToMemory(t,Ns),Ns):null}var Bs=new class{constructor(){this.mesh_qos=null,this.qos_send=null,this.qos_reci=null,this.enablesharesend=!1,this.enablemesh=!1,this.recver_timer=0,this.sender_timer=0,this.qosSendAppId=[0,0,0,0],this.main_qos=null,this.enablemain=!1,this.selfnodeid=0}createSender(){this.qos_send||(this.qos_send=lt(3,0,0,!0,!1,!1,!1))}createReciver(){this.qos_reci||(this.qos_reci=lt(3,1,0,!1,!0,!1,!1)),this._set_request_nack_timer()}enableQosSend(t,e){this.qosSendAppId[t]!=e&&(this.qos_send&&(this.qosSendAppId[t]=e,e&&dt(this.qos_send,t,!1),!e&&_t(this.qos_send,t,!1)),this._set_smooth_send_timer())}setBandLimit(t,e){3==t&&this.qos_send&&Dt&&Dt(this.qos_send,e)}setConnectType(t,e,s){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];kt(s?this.qos_send:this.qos_reci,t,e,r,s)}setMainShareConnectType(t,e,s){this.main_qos&&kt(this.main_qos,2,t,e,s)}createMesh(){this.enablemesh=!0;const t=this.selfnodeid;this.mesh_qos||(this.mesh_qos=lt(1,2,t,!1,!0,!1,!1)),z("NETADDMESH"),kt(this.mesh_qos,1,0,!1,!1),kt(this.mesh_qos,2,0,!1,!1),kt(this.mesh_qos,3,0,!1,!1),this._set_request_nack_timer()}closeMesh(){this.enablemesh&&(z("NETDELMESH"),this.enablemesh=!1,this._set_request_nack_timer(),this.mesh_qos&&ht(this.mesh_qos),this.mesh_qos=null)}createMainQos(){this.enablemain=!0,this.main_qos||(this.main_qos=lt(3,3,0,!1,!0,!0,!1)),this._set_request_nack_timer()}closeMainQos(){this.enablemain=!1,this._set_request_nack_timer(),this.main_qos&&ht(this.main_qos),this.main_qos=null}setSelfId(t,e){z("NETSELFID:".concat(e)),this.selfnodeid=e,At(t?this.qos_send:this.qos_reci,e)}enableFilter(t){z("NETFILTE:".concat(t)),St(this.qos_reci,t)}setOutFilter(t){Mt(this.qos_reci,t)}_set_request_nack_timer(){this.recver_timer&&(clearInterval(this.recver_timer),this.recver_timer=0);const t=this.enablemesh?this.enablemain?()=>{It(this.qos_reci,2),It(this.qos_reci,3),It(this.mesh_qos,1),It(this.mesh_qos,2),It(this.mesh_qos,3),It(this.main_qos,2)}:()=>{It(this.qos_reci,2),It(this.qos_reci,3),It(this.mesh_qos,1),It(this.mesh_qos,2),It(this.mesh_qos,3)}:this.enablemain?()=>{It(this.qos_reci,2),It(this.qos_reci,3),It(this.main_qos,2)}:()=>{It(this.qos_reci,2),It(this.qos_reci,3)};this.recver_timer=setInterval(t,50)}_set_smooth_send_timer(){this.sender_timer&&(clearInterval(this.sender_timer),this.sender_timer=0);let t=[];for(let e=0;e<this.qosSendAppId.length;e++)this.qosSendAppId[e]&&t.push(e);t.length&&(this.sender_timer=setInterval((()=>{t.forEach((t=>{xt(this.qos_send,t)}))}),10))}video_data_for_reciver(t){let e=qs(t);Ct(this.qos_reci,e,t.length)}share_data_for_reciver(t){let e=qs(t);Rt(this.qos_reci,e,t.length)}share_data_for_main_reciver(t){let e=qs(t);Rt(this.main_qos,e,t.length)}audio_rtp_for_send(t){}update_bandwidth(t,e){const{appid:s,min:r,max:n}=e,i=t?this.qos_send:this.qos_reci;ft(i,s,r,n)}video_set_hd_info(t,e){const s=t?this.qos_send:this.qos_reci;gt(s,e)}video_rtp_for_send(t){let e=qs(t);pt(this.qos_send,3,1,e+4,t.length-4)}video_data_for_sender(t){let e=qs(t);Ct(this.qos_send,e,t.length)}share_rtp_for_sender(t){let e=qs(t);pt(this.qos_send,2,1,e+4,t.length-4)}share_data_for_sender(t){let e=qs(t);Rt(this.qos_send,e,t.length)}clear_share_data_buffer(){this.qos_send&&yt(this.qos_send)}mesh_video_recive(t){let e=qs(t);Ct(this.mesh_qos,e,t.length)}mesh_audio_recive(t){let e=qs(t);Pt(this.mesh_qos,e,t.length)}mesh_share_recive(t){let e=qs(t);Rt(this.mesh_qos,e,t.length)}};function Qs(t,e){Ws&&Ws.writeWasmLog(t,e)}function js(t,e){Ws&&Ws.writeWasmLog(t,e)}var Ws=null,Vs=!1;Object.keys(t).forEach((e=>self[e]=t[e]))})()})(),self.__wasmCodeDataEndFlag=1,(Module=void 0!==Module?Module:{}).locateFile=function(t){if(t.endsWith("wasm"))return wasmUrl},Module.instantiateWasm=function(t,e){return self.downloadAndInstantiateWebAssembly(t,e),{}},isZoomWasm32Bit&&(Module.wasmMemory=new WebAssembly.Memory({initial:(nonsabVB,1024),maximum:nonsabVB?1024:4096})),Module.onRuntimeInitialized=function(){postMessage({status:wasmSuccessEvent}),self.onWasmModuleReady()},Module.onAbort=function(t){postMessage({status:wasmFailEvent,data:t})};var read_,readAsync,readBinary,setWindowTitle,Module=void 0!==Module?Module:{},moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(t,e)=>{throw e},ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!0,scriptDirectory="";function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:"undefined"!=typeof document&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=0!==scriptDirectory.indexOf("blob:")?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),readAsync=(t,e,s)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):s()},r.onerror=s,r.send(null)},setWindowTitle=t=>document.title=t);var wasmBinary,out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit),Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var wasmMemory,noExitRuntime=Module.noExitRuntime||!0;"object"!=typeof WebAssembly&&abort("no native wasm support detected");var EXITSTATUS,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,ABORT=!1,UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(t,e,s){for(var r=e+s,n=e;t[n]&&!(n>=r);)++n;if(n-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,n));for(var i="";e<n;){var o=t[e++];if(128&o){var a=63&t[e++];if(192!=(224&o)){var c=63&t[e++];if((o=224==(240&o)?(15&o)<<12|a<<6|c:(7&o)<<18|a<<12|c<<6|63&t[e++])<65536)i+=String.fromCharCode(o);else{var u=o-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&o)<<6|a)}else i+=String.fromCharCode(o)}return i}function UTF8ToString(t,e){return t?UTF8ArrayToString(HEAPU8,t,e):""}function stringToUTF8Array(t,e,s,r){if(!(r>0))return 0;for(var n=s,i=s+r-1,o=0;o<t.length;++o){var a=t.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++o)),a<=127){if(s>=i)break;e[s++]=a}else if(a<=2047){if(s+1>=i)break;e[s++]=192|a>>6,e[s++]=128|63&a}else if(a<=65535){if(s+2>=i)break;e[s++]=224|a>>12,e[s++]=128|a>>6&63,e[s++]=128|63&a}else{if(s+3>=i)break;e[s++]=240|a>>18,e[s++]=128|a>>12&63,e[s++]=128|a>>6&63,e[s++]=128|63&a}}return e[s]=0,s-n}function stringToUTF8(t,e,s){return stringToUTF8Array(t,HEAPU8,e,s)}function lengthBytesUTF8(t){for(var e=0,s=0;s<t.length;++s){var r=t.charCodeAt(s);r<=127?e++:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,++s):e+=3}return e}function updateGlobalBufferAndViews(t){buffer=t,Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=HEAPU16=new Uint16Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}var wasmTable,INITIAL_MEMORY=Module.INITIAL_MEMORY||20971520;(wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:2048}))&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var __ATPRERUN__=[],__ATINIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__)}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(t){__ATPRERUN__.unshift(t)}function addOnInit(t){__ATINIT__.unshift(t)}function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}function abort(t){throw Module.onAbort&&Module.onAbort(t),err(t="Aborted("+t+")"),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(t)}var wasmBinaryFile,dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(t){return t.startsWith(dataURIPrefix)}function getBinary(t){try{if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}function getBinaryPromise(){return wasmBinary||!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER||"function"!=typeof fetch?Promise.resolve().then((function(){return getBinary(wasmBinaryFile)})):fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return t.arrayBuffer()})).catch((function(){return getBinary(wasmBinaryFile)}))}function createWasm(){var t={a:asmLibraryArg};function e(t,e){var s=t.exports;Module.asm=s,wasmTable=Module.asm.W,addOnInit(Module.asm.B),removeRunDependency("wasm-instantiate")}function s(t){e(t.instance)}function r(e){return getBinaryPromise().then((function(e){return WebAssembly.instantiate(e,t)})).then((function(t){return t})).then(e,(function(t){err("failed to asynchronously prepare wasm: "+t),abort(t)}))}if(addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(t){return err("Module.instantiateWasm callback failed with error: "+t),!1}return wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(wasmBinaryFile)||"function"!=typeof fetch?r(s):fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(s,(function(t){return err("wasm streaming compile failed: "+t),err("falling back to ArrayBuffer instantiation"),r(s)}))})),{}}isDataURI(wasmBinaryFile="net.wasm")||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={38804:(t,e,s,r,n,i,o)=>{video_data_from_qos(t,e,s,r,n,i,o)},38856:(t,e,s)=>{video_encode_fec_info(t,e,s)},38894:(t,e,s)=>{video_encode_bandwidth_alloc(t,e,s)},38939:(t,e,s,r,n,i,o,a,c)=>{video_network_info_indication(t,e,s,r,n,i,o,a,c)},39001:(t,e,s,r,n,i,o,a,c)=>{as_network_info_indication(t,e,s,r,n,i,o,a,c)},39060:(t,e,s,r,n,i,o,a)=>{video_as_data_from_qos(t,e,s,r,n,i,o,a)},39118:(t,e,s)=>{as_encode_fec_info(t,e,s)},39153:(t,e,s)=>{as_encode_bandwidth_alloc(t,e,s)},39195:(t,e,s,r,n,i)=>{recv_share_rtp_data(t,e,s,r,n,i)},39243:(t,e,s,r,n,i)=>{recv_share_rtp_data(t,e,s,r,n,i)},39291:(t,e,s,r,n,i)=>{as_out_filter_data(t,e,s,r,n,i)},39336:(t,e,s,r,n,i)=>{recv_video_rtp_data(t,e,s,r,n,i)},39383:(t,e,s,r,n,i)=>{recv_video_rtp_data(t,e,s,r,n,i)},39430:(t,e,s,r,n,i)=>{video_out_filter_data(t,e,s,r,n,i)},39478:(t,e,s,r,n)=>{network_quality_callback(t,e,s,r,n)},39524:(t,e,s,r)=>{video_encode_fec_retran_switch(t,e,s,r)},39574:(t,e,s,r)=>{as_encode_fec_retran_switch(t,e,s,r)},39621:(t,e,s,r,n,i,o,a)=>{mesh_video_as_data_from_qos(t,e,s,r,n,i,o,a)},39684:(t,e,s,r,n,i,o)=>{mesh_video_data_from_qos(t,e,s,r,n,i,o)},39741:(t,e,s,r,n,i,o,a,c)=>{mesh_video_network_info_indication(t,e,s,r,n,i,o,a,c)},39808:(t,e,s,r,n,i,o,a,c)=>{mesh_as_network_info_indication(t,e,s,r,n,i,o,a,c)},39872:(t,e,s,r,n,i)=>{mesh_recv_as_data(t,e,s,r,n,i)},39918:(t,e,s,r,n,i)=>{mesh_recv_video_data(t,e,s,r,n,i)},39967:(t,e,s,r,n,i,o)=>{mesh_recv_audio_data(t,e,s,r,n,i,o)},40020:(t,e,s,r,n,i)=>{mesh_audio_data_from_qos(t,e,s,r,n,i)},40074:(t,e,s,r,n,i,o,a,c)=>{mesh_audio_network_info_indication(t,e,s,r,n,i,o,a,c)},40141:t=>{mesh_bad_net_kick_child(t)},40173:(t,e,s)=>{mesh_bad_net_update_sub_mode_limit(t,e,s)},40224:t=>{mesh_bad_net_kick_child(t)},40256:(t,e,s)=>{mesh_bad_net_update_sub_mode_limit(t,e,s)},40307:(t,e,s)=>{mesh_qos_on_monitor_log(t,e,s)},40345:(t,e)=>{mesh_on_monitor_log(t,e)},40376:t=>{mesh_out_filter_nodeid_size(t)},40414:(t,e)=>{mesh_out_filter_nodeid(t,e)},40450:t=>{mesh_out_filter_nodeid(t)},40482:(t,e)=>{LOG_OUT(t,e)},40503:(t,e)=>{wcl_trace_log(t,e)}};function callRuntimeCallbacks(t){for(;t.length>0;)t.shift()(Module)}function ___cxa_allocate_exception(t){return _malloc(t+24)+24}function ExceptionInfo(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(t){HEAPU32[this.ptr+4>>2]=t},this.get_type=function(){return HEAPU32[this.ptr+4>>2]},this.set_destructor=function(t){HEAPU32[this.ptr+8>>2]=t},this.get_destructor=function(){return HEAPU32[this.ptr+8>>2]},this.set_refcount=function(t){HEAP32[this.ptr>>2]=t},this.set_caught=function(t){t=t?1:0,HEAP8[this.ptr+12|0]=t},this.get_caught=function(){return 0!=HEAP8[this.ptr+12|0]},this.set_rethrown=function(t){t=t?1:0,HEAP8[this.ptr+13|0]=t},this.get_rethrown=function(){return 0!=HEAP8[this.ptr+13|0]},this.init=function(t,e){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(e),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=HEAP32[this.ptr>>2];HEAP32[this.ptr>>2]=t+1},this.release_ref=function(){var t=HEAP32[this.ptr>>2];return HEAP32[this.ptr>>2]=t-1,1===t},this.set_adjusted_ptr=function(t){HEAPU32[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2]},this.get_exception_ptr=function(){if(___cxa_is_pointer_type(this.get_type()))return HEAPU32[this.excPtr>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var exceptionLast=0,uncaughtExceptionCount=0;function ___cxa_throw(t,e,s){throw new ExceptionInfo(t).init(e,s),exceptionLast=t,uncaughtExceptionCount++,t}var SYSCALLS={varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(t){return UTF8ToString(t)}};function ___syscall_fcntl64(t,e,s){return SYSCALLS.varargs=s,0}function ___syscall_getcwd(t,e){}function ___syscall_mkdirat(t,e,s){}function ___syscall_openat(t,e,s,r){SYSCALLS.varargs=r}function ___syscall_pipe(t){}function ___syscall_poll(t,e,s){}var nowIsMonotonic=!0;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}function readI53FromI64(t){return HEAPU32[t>>2]+4294967296*HEAP32[t+4>>2]}function __gmtime_js(t,e){var s=new Date(1e3*readI53FromI64(t));HEAP32[e>>2]=s.getUTCSeconds(),HEAP32[e+4>>2]=s.getUTCMinutes(),HEAP32[e+8>>2]=s.getUTCHours(),HEAP32[e+12>>2]=s.getUTCDate(),HEAP32[e+16>>2]=s.getUTCMonth(),HEAP32[e+20>>2]=s.getUTCFullYear()-1900,HEAP32[e+24>>2]=s.getUTCDay();var r=Date.UTC(s.getUTCFullYear(),0,1,0,0,0,0),n=(s.getTime()-r)/864e5|0;HEAP32[e+28>>2]=n}function __isLeapYear(t){return t%4==0&&(t%100!=0||t%400==0)}var __MONTH_DAYS_LEAP_CUMULATIVE=[0,31,60,91,121,152,182,213,244,274,305,335],__MONTH_DAYS_REGULAR_CUMULATIVE=[0,31,59,90,120,151,181,212,243,273,304,334];function __yday_from_date(t){return(__isLeapYear(t.getFullYear())?__MONTH_DAYS_LEAP_CUMULATIVE:__MONTH_DAYS_REGULAR_CUMULATIVE)[t.getMonth()]+t.getDate()-1}function __localtime_js(t,e){var s=new Date(1e3*readI53FromI64(t));HEAP32[e>>2]=s.getSeconds(),HEAP32[e+4>>2]=s.getMinutes(),HEAP32[e+8>>2]=s.getHours(),HEAP32[e+12>>2]=s.getDate(),HEAP32[e+16>>2]=s.getMonth(),HEAP32[e+20>>2]=s.getFullYear()-1900,HEAP32[e+24>>2]=s.getDay();var r=0|__yday_from_date(s);HEAP32[e+28>>2]=r,HEAP32[e+36>>2]=-60*s.getTimezoneOffset();var n=new Date(s.getFullYear(),0,1),i=new Date(s.getFullYear(),6,1).getTimezoneOffset(),o=n.getTimezoneOffset(),a=0|(i!=o&&s.getTimezoneOffset()==Math.min(o,i));HEAP32[e+32>>2]=a}function allocateUTF8(t){var e=lengthBytesUTF8(t)+1,s=_malloc(e);return s&&stringToUTF8Array(t,HEAP8,s,e),s}function __tzset_js(t,e,s){var r=(new Date).getFullYear(),n=new Date(r,0,1),i=new Date(r,6,1),o=n.getTimezoneOffset(),a=i.getTimezoneOffset(),c=Math.max(o,a);function u(t){var e=t.toTimeString().match(/\(([A-Za-z ]+)\)$/);return e?e[1]:"GMT"}HEAPU32[t>>2]=60*c,HEAP32[e>>2]=Number(o!=a);var l=u(n),h=u(i),d=allocateUTF8(l),_=allocateUTF8(h);a<o?(HEAPU32[s>>2]=d,HEAPU32[s+4>>2]=_):(HEAPU32[s>>2]=_,HEAPU32[s+4>>2]=d)}function _abort(){abort("")}var _emscripten_get_now,readEmAsmArgsArray=[];function readEmAsmArgs(t,e){var s;for(readEmAsmArgsArray.length=0,e>>=2;s=HEAPU8[t++];)e+=105!=s&e,readEmAsmArgsArray.push(105==s?HEAP32[e]:HEAPF64[e++>>1]),++e;return readEmAsmArgsArray}function runEmAsmFunction(t,e,s){var r=readEmAsmArgs(e,s);return ASM_CONSTS[t].apply(null,r)}function _emscripten_asm_const_int(t,e,s){return runEmAsmFunction(t,e,s)}function _emscripten_date_now(){return Date.now()}function _emscripten_memcpy_big(t,e,s){HEAPU8.copyWithin(t,e,e+s)}function getHeapMax(){return 134217728}function emscripten_realloc_buffer(t){try{return wasmMemory.grow(t-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch(t){}}function _emscripten_resize_heap(t){var e=HEAPU8.length;t>>>=0;var s,r=getHeapMax();if(t>r)return self.wasm_memory_alert(t,r),!1;for(var n=1;n<=4;n*=2){var i=e*(1+.2/n);if(i=Math.min(i,t+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(t,i))+(65536-s%65536)%65536)))return!0}return!1}var ENV={};function getExecutableName(){return thisProgram||"./this.program"}function getEnvStrings(){if(!getEnvStrings.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:getExecutableName()};for(var e in ENV)void 0===ENV[e]?delete t[e]:t[e]=ENV[e];var s=[];for(var e in t)s.push(e+"="+t[e]);getEnvStrings.strings=s}return getEnvStrings.strings}function writeAsciiToMemory(t,e,s){for(var r=0;r<t.length;++r)HEAP8[0|e++]=t.charCodeAt(r);s||(HEAP8[0|e]=0)}function _environ_get(t,e){var s=0;return getEnvStrings().forEach((function(r,n){var i=e+s;HEAPU32[t+4*n>>2]=i,writeAsciiToMemory(r,i),s+=r.length+1})),0}function _environ_sizes_get(t,e){var s=getEnvStrings();HEAPU32[t>>2]=s.length;var r=0;return s.forEach((function(t){r+=t.length+1})),HEAPU32[e>>2]=r,0}function _fd_close(t){return 52}function _fd_read(t,e,s,r){return 52}function _fd_seek(t,e,s,r,n){return 70}var printCharBuffers=[null,[],[]];function printChar(t,e){var s=printCharBuffers[t];0===e||10===e?((1===t?out:err)(UTF8ArrayToString(s,0)),s.length=0):s.push(e)}function _fd_write(t,e,s,r){for(var n=0,i=0;i<s;i++){var o=HEAPU32[e>>2],a=HEAPU32[e+4>>2];e+=8;for(var c=0;c<a;c++)printChar(t,HEAPU8[o+c]);n+=a}return HEAPU32[r>>2]=n,0}function __arraySum(t,e){for(var s=0,r=0;r<=e;s+=t[r++]);return s}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31],__MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(t,e){for(var s=new Date(t.getTime());e>0;){var r=__isLeapYear(s.getFullYear()),n=s.getMonth(),i=(r?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[n];if(!(e>i-s.getDate()))return s.setDate(s.getDate()+e),s;e-=i-s.getDate()+1,s.setDate(1),n<11?s.setMonth(n+1):(s.setMonth(0),s.setFullYear(s.getFullYear()+1))}return s}function intArrayFromString(t,e,s){var r=s>0?s:lengthBytesUTF8(t)+1,n=new Array(r),i=stringToUTF8Array(t,n,0,n.length);return e&&(n.length=i),n}function writeArrayToMemory(t,e){HEAP8.set(t,e)}function _strftime(t,e,s,r){var n=HEAP32[r+40>>2],i={tm_sec:HEAP32[r>>2],tm_min:HEAP32[r+4>>2],tm_hour:HEAP32[r+8>>2],tm_mday:HEAP32[r+12>>2],tm_mon:HEAP32[r+16>>2],tm_year:HEAP32[r+20>>2],tm_wday:HEAP32[r+24>>2],tm_yday:HEAP32[r+28>>2],tm_isdst:HEAP32[r+32>>2],tm_gmtoff:HEAP32[r+36>>2],tm_zone:n?UTF8ToString(n):""},o=UTF8ToString(s),a={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in a)o=o.replace(new RegExp(c,"g"),a[c]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function h(t,e,s){for(var r="number"==typeof t?t.toString():t||"";r.length<e;)r=s[0]+r;return r}function d(t,e){return h(t,e,"0")}function _(t,e){function s(t){return t<0?-1:t>0?1:0}var r;return 0===(r=s(t.getFullYear()-e.getFullYear()))&&0===(r=s(t.getMonth()-e.getMonth()))&&(r=s(t.getDate()-e.getDate())),r}function m(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function p(t){var e=__addDays(new Date(t.tm_year+1900,0,1),t.tm_yday),s=new Date(e.getFullYear(),0,4),r=new Date(e.getFullYear()+1,0,4),n=m(s),i=m(r);return _(n,e)<=0?_(i,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f={"%a":function(t){return u[t.tm_wday].substring(0,3)},"%A":function(t){return u[t.tm_wday]},"%b":function(t){return l[t.tm_mon].substring(0,3)},"%B":function(t){return l[t.tm_mon]},"%C":function(t){return d((t.tm_year+1900)/100|0,2)},"%d":function(t){return d(t.tm_mday,2)},"%e":function(t){return h(t.tm_mday,2," ")},"%g":function(t){return p(t).toString().substring(2)},"%G":function(t){return p(t)},"%H":function(t){return d(t.tm_hour,2)},"%I":function(t){var e=t.tm_hour;return 0==e?e=12:e>12&&(e-=12),d(e,2)},"%j":function(t){return d(t.tm_mday+__arraySum(__isLeapYear(t.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,t.tm_mon-1),3)},"%m":function(t){return d(t.tm_mon+1,2)},"%M":function(t){return d(t.tm_min,2)},"%n":function(){return"\n"},"%p":function(t){return t.tm_hour>=0&&t.tm_hour<12?"AM":"PM"},"%S":function(t){return d(t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(t){return t.tm_wday||7},"%U":function(t){var e=t.tm_yday+7-t.tm_wday;return d(Math.floor(e/7),2)},"%V":function(t){var e=Math.floor((t.tm_yday+7-(t.tm_wday+6)%7)/7);if((t.tm_wday+371-t.tm_yday-2)%7<=2&&e++,e){if(53==e){var s=(t.tm_wday+371-t.tm_yday)%7;4==s||3==s&&__isLeapYear(t.tm_year)||(e=1)}}else{e=52;var r=(t.tm_wday+7-t.tm_yday-1)%7;(4==r||5==r&&__isLeapYear(t.tm_year%400-1))&&e++}return d(e,2)},"%w":function(t){return t.tm_wday},"%W":function(t){var e=t.tm_yday+7-(t.tm_wday+6)%7;return d(Math.floor(e/7),2)},"%y":function(t){return(t.tm_year+1900).toString().substring(2)},"%Y":function(t){return t.tm_year+1900},"%z":function(t){var e=t.tm_gmtoff,s=e>=0;return e=(e=Math.abs(e)/60)/60*100+e%60,(s?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(t){return t.tm_zone},"%%":function(){return"%"}};for(var c in o=o.replace(/%%/g,"\0\0"),f)o.includes(c)&&(o=o.replace(new RegExp(c,"g"),f[c](i)));var g=intArrayFromString(o=o.replace(/\0\0/g,"%"),!1);return g.length>e?0:(writeArrayToMemory(g,t),g.length-1)}function _strftime_l(t,e,s,r,n){return _strftime(t,e,s,r)}function getCFunc(t){return Module["_"+t]}function ccall(t,e,s,r,n){var i={string:t=>{var e=0;if(null!=t&&0!==t){var s=1+(t.length<<2);stringToUTF8(t,e=stackAlloc(s),s)}return e},array:t=>{var e=stackAlloc(t.length);return writeArrayToMemory(t,e),e}},o=getCFunc(t),a=[],c=0;if(r)for(var u=0;u<r.length;u++){var l=i[s[u]];l?(0===c&&(c=stackSave()),a[u]=l(r[u])):a[u]=r[u]}var h=o.apply(null,a);return function(t){return 0!==c&&stackRestore(c),function(t){return"string"===e?UTF8ToString(t):"boolean"===e?Boolean(t):t}(t)}(h)}function cwrap(t,e,s,r){var n=(s=s||[]).every((t=>"number"===t||"boolean"===t));return"string"!==e&&n&&!r?getCFunc(t):function(){return ccall(t,e,s,arguments,r)}}var calledRun,asmLibraryArg={g:___cxa_allocate_exception,f:___cxa_throw,c:___syscall_fcntl64,A:___syscall_getcwd,z:___syscall_mkdirat,y:___syscall_openat,x:___syscall_pipe,w:___syscall_poll,s:__emscripten_get_now_is_monotonic,r:__gmtime_js,q:__localtime_js,p:__tzset_js,i:_abort,b:_emscripten_asm_const_int,h:_emscripten_date_now,o:_emscripten_get_now=()=>performance.now(),n:_emscripten_memcpy_big,m:_emscripten_resize_heap,v:_environ_get,u:_environ_sizes_get,d:_fd_close,t:_fd_read,l:_fd_seek,e:_fd_write,a:wasmMemory,k:_strftime,j:_strftime_l},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.B).apply(null,arguments)},__Qos_Init=Module.__Qos_Init=function(){return(__Qos_Init=Module.__Qos_Init=Module.asm.C).apply(null,arguments)},__Qos_UnInit=Module.__Qos_UnInit=function(){return(__Qos_UnInit=Module.__Qos_UnInit=Module.asm.D).apply(null,arguments)},__Qos_Start_Send=Module.__Qos_Start_Send=function(){return(__Qos_Start_Send=Module.__Qos_Start_Send=Module.asm.E).apply(null,arguments)},__Qos_Stop_Send=Module.__Qos_Stop_Send=function(){return(__Qos_Stop_Send=Module.__Qos_Stop_Send=Module.asm.F).apply(null,arguments)},__Qos_Change_Connect_Type_Or_Video_Share=Module.__Qos_Change_Connect_Type_Or_Video_Share=function(){return(__Qos_Change_Connect_Type_Or_Video_Share=Module.__Qos_Change_Connect_Type_Or_Video_Share=Module.asm.G).apply(null,arguments)},__Qos_Send_Data_Packet=Module.__Qos_Send_Data_Packet=function(){return(__Qos_Send_Data_Packet=Module.__Qos_Send_Data_Packet=Module.asm.H).apply(null,arguments)},__Qos_Send_Data_Multi_Packet=Module.__Qos_Send_Data_Multi_Packet=function(){return(__Qos_Send_Data_Multi_Packet=Module.__Qos_Send_Data_Multi_Packet=Module.asm.I).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.J).apply(null,arguments)},__Qos_Data_From_Rwg=Module.__Qos_Data_From_Rwg=function(){return(__Qos_Data_From_Rwg=Module.__Qos_Data_From_Rwg=Module.asm.K).apply(null,arguments)},__Qos_AS_Data_From_Rwg=Module.__Qos_AS_Data_From_Rwg=function(){return(__Qos_AS_Data_From_Rwg=Module.__Qos_AS_Data_From_Rwg=Module.asm.L).apply(null,arguments)},__Qos_Audio_Data_From_Rwg=Module.__Qos_Audio_Data_From_Rwg=function(){return(__Qos_Audio_Data_From_Rwg=Module.__Qos_Audio_Data_From_Rwg=Module.asm.M).apply(null,arguments)},__Qos_Smooth_Send_Periodically_For_Qos=Module.__Qos_Smooth_Send_Periodically_For_Qos=function(){return(__Qos_Smooth_Send_Periodically_For_Qos=Module.__Qos_Smooth_Send_Periodically_For_Qos=Module.asm.N).apply(null,arguments)},__Qos_Request_Nack_T_Periodically_For_Qos=Module.__Qos_Request_Nack_T_Periodically_For_Qos=function(){return(__Qos_Request_Nack_T_Periodically_For_Qos=Module.__Qos_Request_Nack_T_Periodically_For_Qos=Module.asm.O).apply(null,arguments)},__Qos_Update_Required_Bandwidth=Module.__Qos_Update_Required_Bandwidth=function(){return(__Qos_Update_Required_Bandwidth=Module.__Qos_Update_Required_Bandwidth=Module.asm.P).apply(null,arguments)},__Qos_Update_Video_Hd_Info=Module.__Qos_Update_Video_Hd_Info=function(){return(__Qos_Update_Video_Hd_Info=Module.__Qos_Update_Video_Hd_Info=Module.asm.Q).apply(null,arguments)},__Qos_Reset_As_Qos_Buffer=Module.__Qos_Reset_As_Qos_Buffer=function(){return(__Qos_Reset_As_Qos_Buffer=Module.__Qos_Reset_As_Qos_Buffer=Module.asm.R).apply(null,arguments)},__Qos_Set_OutFilter=Module.__Qos_Set_OutFilter=function(){return(__Qos_Set_OutFilter=Module.__Qos_Set_OutFilter=Module.asm.S).apply(null,arguments)},__Qos_Enable_OutFilter=Module.__Qos_Enable_OutFilter=function(){return(__Qos_Enable_OutFilter=Module.__Qos_Enable_OutFilter=Module.asm.T).apply(null,arguments)},__Qos_Set_NodeId=Module.__Qos_Set_NodeId=function(){return(__Qos_Set_NodeId=Module.__Qos_Set_NodeId=Module.asm.U).apply(null,arguments)},__Qos_Set_BandWidth_Limit=Module.__Qos_Set_BandWidth_Limit=function(){return(__Qos_Set_BandWidth_Limit=Module.__Qos_Set_BandWidth_Limit=Module.asm.V).apply(null,arguments)},__wcl_enable_log=Module.__wcl_enable_log=function(){return(__wcl_enable_log=Module.__wcl_enable_log=Module.asm.X).apply(null,arguments)},__mesh_init=Module.__mesh_init=function(){return(__mesh_init=Module.__mesh_init=Module.asm.Y).apply(null,arguments)},__mesh_set_role=Module.__mesh_set_role=function(){return(__mesh_set_role=Module.__mesh_set_role=Module.asm.Z).apply(null,arguments)},__mesh_thread_run=Module.__mesh_thread_run=function(){return(__mesh_thread_run=Module.__mesh_thread_run=Module.asm._).apply(null,arguments)},__mesh_add_child=Module.__mesh_add_child=function(){return(__mesh_add_child=Module.__mesh_add_child=Module.asm.$).apply(null,arguments)},__mesh_rm_child=Module.__mesh_rm_child=function(){return(__mesh_rm_child=Module.__mesh_rm_child=Module.asm.aa).apply(null,arguments)},__mesh_bad_net=Module.__mesh_bad_net=function(){return(__mesh_bad_net=Module.__mesh_bad_net=Module.asm.ba).apply(null,arguments)},__mesh_channle_opt=Module.__mesh_channle_opt=function(){return(__mesh_channle_opt=Module.__mesh_channle_opt=Module.asm.ca).apply(null,arguments)},__mesh_sub_infomap=Module.__mesh_sub_infomap=function(){return(__mesh_sub_infomap=Module.__mesh_sub_infomap=Module.asm.da).apply(null,arguments)},__mesh_send=Module.__mesh_send=function(){return(__mesh_send=Module.__mesh_send=Module.asm.ea).apply(null,arguments)},__mesh_recv=Module.__mesh_recv=function(){return(__mesh_recv=Module.__mesh_recv=Module.asm.fa).apply(null,arguments)},__mesh_reciver_recv=Module.__mesh_reciver_recv=function(){return(__mesh_reciver_recv=Module.__mesh_reciver_recv=Module.asm.ga).apply(null,arguments)},__mesh_uninit=Module.__mesh_uninit=function(){return(__mesh_uninit=Module.__mesh_uninit=Module.asm.ha).apply(null,arguments)},__mesh_set_as_mode=Module.__mesh_set_as_mode=function(){return(__mesh_set_as_mode=Module.__mesh_set_as_mode=Module.asm.ia).apply(null,arguments)},__mesh_out_filter_test=Module.__mesh_out_filter_test=function(){return(__mesh_out_filter_test=Module.__mesh_out_filter_test=Module.asm.ja).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.ka).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.la).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.ma).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.na).apply(null,arguments)},___cxa_is_pointer_type=Module.___cxa_is_pointer_type=function(){return(___cxa_is_pointer_type=Module.___cxa_is_pointer_type=Module.asm.oa).apply(null,arguments)};function run(t){function e(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),postRun()))}t=t||arguments_,runDependencies>0||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),e()}),1)):e()))}if(Module.cwrap=cwrap,dependenciesFulfilled=function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)},Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();run();
//# sourceMappingURL=https://d1cdksi819e9z7.cloudfront.net/sourcemap/net_thread.min.js-d95c9e1b322227198acf.map