FVERSION=134327,WebAssembly.instantiateStreaming=!1;const Audio_Dec_WASM_OK=1,Audio_Dec_Handle_OK=2,Audio_Dec_WebSocket_OK=3,Audio_Enc_WASM_OK=4,Audio_Enc_Handle_OK=5,Video_Dec_WASM_OK=7,Video_Dec_Handle_OK=8,Video_Dec_WebSocket_OK=9,Video_Enc_WASM_OK=10,Video_Enc_Handle_OK=11,Sharing_Dec_WASM_OK=12,Sharing_Dec_PICTURE=13,AUDIO_DELAY=14,Audio_Dec_WASM_FAILED=-1,Audio_Dec_Handle_FAILED=-2,Audio_Dec_WebSocket_FAILED=-3,Audio_Enc_WASM_FAILED=-4,Audio_Enc_Handle_FAILED=-5,Video_Dec_WASM_FAILED=-7,Video_Dec_Handle_FAILED=-8,Video_Dec_WebSocket_FAILED=-9,Video_Enc_WASM_FAILED=-10,Video_Enc_Handle_FAILED=-11,Sharing_Dec_WASM_FAILED=-12,Audio_Mute=-13;function instantiateCachedURL(e,t,r){const u=r;function c(e,t){return fetch(e).then(e=>e.arrayBuffer())}return function(e){return new Promise(function(t,r){try{if(indexedDB){var a,n=FVERSION,i=void 0===IDBTransaction.READ_WRITE?"readwrite":IDBTransaction.READ_WRITE,o=indexedDB.open("AUDIO_FILE",n);o.onerror=function(r){var n=indexedDB.deleteDatabase("AUDIO_FILE");n.onerror=function(e){},n.onsuccess=function(e){},t(c(e).then(e=>WebAssembly.instantiate(e,u)))},o.onsuccess=function(r){var o=(a=r.target.result).transaction(["file"],i).objectStore("file").get("audio");o.onsuccess=function(r){if(o.result){var n=r.target.result;t(WebAssembly.instantiate(n,u))}else t(c(e).then(e=>(a.transaction(["file"],i).objectStore("file").put(e,"audio"),WebAssembly.instantiate(e,u))))},o.onerror=function(r){t(c(e).then(e=>WebAssembly.instantiate(e,u)))}},o.onupgradeneeded=function(e){!function(e){var t="file";e.objectStoreNames.contains(t)&&e.deleteObjectStore(t),e.createObjectStore(t)}(e.target.result)}}else t(c(e).then(e=>WebAssembly.instantiate(e,u)))}catch(r){t(c(e).then(e=>WebAssembly.instantiate(e,u)))}})}(t).then(e=>{!function(e){exports=e.exports,exports.memory&&mergeMemory(exports.memory),Module.asm=exports,Module.usingWasm=!0,removeRunDependency("wasm-instantiate")}(e.instance),postMessage({status:Audio_Dec_WASM_OK})}).catch(function(e){postMessage({status:Audio_Dec_WASM_FAILED})})}var key,Module=void 0!==Module?Module:{},moduleOverrides={};for(key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);Module.arguments=[],Module.thisProgram="./this.program",Module.quit=function(e,t){throw t},Module.preRun=[],Module.postRun=[];var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"function"==typeof require&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var nodeFS,nodePath,scriptDirectory="";function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}if(ENVIRONMENT_IS_NODE)scriptDirectory=__dirname+"/",Module.read=function(t,r){var n;return nodeFS||(nodeFS=require("fs")),nodePath||(nodePath=require("path")),t=nodePath.normalize(t),n=nodeFS.readFileSync(t),r?n:n.toString()},Module.readBinary=function(t){var r=Module.read(t,!0);return r.buffer||(r=new Uint8Array(r)),assert(r.buffer),r},process.argv.length>1&&(Module.thisProgram=process.argv[1].replace(/\\/g,"/")),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),process.on("unhandledRejection",function(e,t){process.exit(1)}),Module.quit=function(e){process.exit(e)},Module.inspect=function(){return"[Emscripten Module object]"};else if(ENVIRONMENT_IS_SHELL)"undefined"!=typeof read&&(Module.read=function(t){return read(t)}),Module.readBinary=function(t){var r;return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(assert("object"==typeof(r=read(t,"binary"))),r)},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments),"function"==typeof quit&&(Module.quit=function(e){quit(e)});else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WEB){var currentScript=document.currentScript;0!==currentScript.src.indexOf("blob:")&&(scriptDirectory=currentScript.src.split("/").slice(0,-1).join("/")+"/")}else ENVIRONMENT_IS_WORKER&&(scriptDirectory=self.location.href.split("/").slice(0,-1).join("/")+"/");Module.read=function(t){var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(null),r.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(t){var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Module.readAsync=function(t,r,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){200==i.status||0==i.status&&i.response?r(i.response):n()},i.onerror=n,i.send(null)},Module.setWindowTitle=function(e){document.title=e}}var out=Module.print||("undefined"!=typeof console?void 0:"undefined"!=typeof print?print:null),err=Module.printErr||("undefined"!=typeof printErr?printErr:out);for(key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var STACK_ALIGN=16;function staticAlloc(e){var t=STATICTOP;return STATICTOP=STATICTOP+e+15&-16,t}function dynamicAlloc(e){var t=HEAP32[DYNAMICTOP_PTR>>2],r=t+e+15&-16;if((HEAP32[DYNAMICTOP_PTR>>2]=r,r>=TOTAL_MEMORY)&&!enlargeMemory())return HEAP32[DYNAMICTOP_PTR>>2]=t,0;return t}function alignMemory(e,t){return t||(t=STACK_ALIGN),e=Math.ceil(e/t)*t}function getNativeTypeSize(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8==0),t/8}return 0}}function warnOnce(e){warnOnce.shown||(warnOnce.shown={}),warnOnce.shown[e]||(warnOnce.shown[e]=1,err(e))}var asm2wasmImports={"f64-rem":function(e,t){return e%t},debugger:function(){}},jsCallStartIndex=1,functionPointers=new Array(0),funcWrappers={};function dynCall(e,t,r){return r&&r.length?Module["dynCall_"+e].apply(null,[t].concat(r)):Module["dynCall_"+e].call(null,t)}var GLOBAL_BASE=1024,ABORT=0,EXITSTATUS=0;function assert(e,t){e||abort("Assertion failed: "+t)}function getCFunc(e){var t=Module["_"+e];return assert(t,"Cannot call unknown function "+e+", make sure it is exported"),t}var JSfuncs={stackSave:function(){stackSave()},stackRestore:function(){stackRestore()},arrayToC:function(e){var t=stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);stringToUTF8(e,t=stackAlloc(r),r)}return t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};function ccall(e,t,r,n,i){var a=getCFunc(e),u=[],s=0;if(n)for(var l=0;l<n.length;l++){var _=toC[r[l]];_?(0===s&&(s=stackSave()),u[l]=_(n[l])):u[l]=n[l]}var c=a.apply(null,u);return c=function(e){return"string"===t?Pointer_stringify(e):"boolean"===t?Boolean(e):e}(c),0!==s&&stackRestore(s),c}function cwrap(e,t,r,n){var i=(r=r||[]).every(function(e){return"number"===e});return"string"!==t&&i&&!n?getCFunc(e):function(){return ccall(e,t,r,arguments,n)}}function setValue(e,t,r,n){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+r)}}var ALLOC_STATIC=2,ALLOC_NONE=4;function allocate(e,t,r,n){var i,o;"number"==typeof e?(i=!0,o=e):(i=!1,o=e.length);var u,a="string"==typeof t?t:null;if(u=r==ALLOC_NONE?n:["function"==typeof _malloc?_malloc:staticAlloc,stackAlloc,staticAlloc,dynamicAlloc][void 0===r?ALLOC_STATIC:r](Math.max(o,a?1:t.length)),i){var s;for(n=u,assert(0==(3&u)),s=u+(-4&o);n<s;n+=4)HEAP32[n>>2]=0;for(s=u+o;n<s;)HEAP8[n++>>0]=0;return u}if("i8"===a)return e.subarray||e.slice?HEAPU8.set(e,u):HEAPU8.set(new Uint8Array(e),u),u;for(var _,c,f,l=0;l<o;){var d=e[l];0!==(_=a||t[l])?("i64"==_&&(_="i32"),setValue(u+l,d,_),f!==_&&(c=getNativeTypeSize(_),f=_),l+=c):l++}return u}function getMemory(e){return staticSealed?runtimeInitialized?_malloc(e):dynamicAlloc(e):staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;r|=n=HEAPU8[e+i>>0],(0!=n||t)&&(i++,!t||i!=t););t||(t=i);var o="";if(r<128){for(var u,a=1024;t>0;)u=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,a))),o=o?o+u:u,e+=a,t-=a;return o}return UTF8ToString(e)}var UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(e,t){for(var r=t;e[r];)++r;if(r-t>16&&e.subarray&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,r));for(var n,i,o,a,u,l="";;){if(!(n=e[t++]))return l;if(128&n)if(i=63&e[t++],192!=(224&n))if(o=63&e[t++],224==(240&n)?n=(15&n)<<12|i<<6|o:(a=63&e[t++],240==(248&n)?n=(7&n)<<18|i<<12|o<<6|a:(u=63&e[t++],n=248==(252&n)?(3&n)<<24|i<<18|o<<12|a<<6|u:(1&n)<<30|i<<24|o<<18|a<<12|u<<6|63&e[t++])),n<65536)l+=String.fromCharCode(n);else{var _=n-65536;l+=String.fromCharCode(55296|_>>10,56320|1023&_)}else l+=String.fromCharCode((31&n)<<6|i);else l+=String.fromCharCode(n)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,o=r+n-1,a=0;a<e.length;++a){var u=e.charCodeAt(a);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&e.charCodeAt(++a)),u<=127){if(r>=o)break;t[r++]=u}else if(u<=2047){if(r+1>=o)break;t[r++]=192|u>>6,t[r++]=128|63&u}else if(u<=65535){if(r+2>=o)break;t[r++]=224|u>>12,t[r++]=128|u>>6&63,t[r++]=128|63&u}else if(u<=2097151){if(r+3>=o)break;t[r++]=240|u>>18,t[r++]=128|u>>12&63,t[r++]=128|u>>6&63,t[r++]=128|63&u}else if(u<=67108863){if(r+4>=o)break;t[r++]=248|u>>24,t[r++]=128|u>>18&63,t[r++]=128|u>>12&63,t[r++]=128|u>>6&63,t[r++]=128|63&u}else{if(r+5>=o)break;t[r++]=252|u>>30,t[r++]=128|u>>24&63,t[r++]=128|u>>18&63,t[r++]=128|u>>12&63,t[r++]=128|u>>6&63,t[r++]=128|63&u}}return t[r]=0,r-i}function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:n<=2097151?4:n<=67108863?5:6}return t}var UTF16Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function allocateUTF8(e){var t=lengthBytesUTF8(e)+1,r=_malloc(t);return r&&stringToUTF8Array(e,HEAP8,r,t),r}function demangle(e){var t=Module.___cxa_demangle||Module.__cxa_demangle;assert(t);try{var r=e.substr(1),n=lengthBytesUTF8(r)+1,i=_malloc(n);stringToUTF8(r,i,n);var o=_malloc(4),a=t(i,0,0,o);if(0===HEAP32[o>>2]&&a)return Pointer_stringify(a)}catch(e){}finally{i&&_free(i),o&&_free(o),a&&_free(a)}return e}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){var e=jsStackTrace();return Module.extraStackTrace&&(e+="\n"+Module.extraStackTrace()),demangleAll(e)}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR,PAGE_SIZE=16384,WASM_PAGE_SIZE=65536,ASMJS_PAGE_SIZE=16777216;function alignUp(e,t){return e%t>0&&(e+=t-e%t),e}function updateGlobalBuffer(e){Module.buffer=buffer=e}function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||104857600;function getTotalMemory(){return TOTAL_MEMORY}function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?Module.dynCall_v(r):Module.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}TOTAL_MEMORY<TOTAL_STACK&&err("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),Module.buffer?buffer=Module.buffer:("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(Module.wasmMemory=new WebAssembly.Memory({initial:TOTAL_MEMORY/WASM_PAGE_SIZE,maximum:TOTAL_MEMORY/WASM_PAGE_SIZE}),buffer=Module.wasmMemory.buffer):buffer=new ArrayBuffer(TOTAL_MEMORY),Module.buffer=buffer),updateGlobalBufferViews();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function writeArrayToMemory(e,t){HEAP8.set(e,t)}function writeAsciiToMemory(e,t,r){for(var n=0;n<e.length;++n)HEAP8[t++>>0]=e.charCodeAt(n);r||(HEAP8[t>>0]=0)}var Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module.preloadedImages={},Module.preloadedAudios={};var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(e){return String.prototype.startsWith?e.startsWith(dataURIPrefix):0===e.indexOf(dataURIPrefix)}function integrateWasmJS(){var e="audio.encode.wast",t="audio.encode.wasm",r="audio.encode.temp.asm.js";isDataURI(e)||(e=locateFile(e)),isDataURI(t)||(t=locateFile(t)),isDataURI(r)||(r=locateFile(r));var i={global:null,env:null,asm2wasm:asm2wasmImports,parent:Module},o=null;function _(e,r,n){if("object"!=typeof WebAssembly)return err("no native wasm support detected"),!1;if(!(Module.wasmMemory instanceof WebAssembly.Memory))return err("no native wasm Memory in use"),!1;function u(e,t){(o=e.exports).memory&&function(e){var t=Module.buffer;e.byteLength<t.byteLength&&err("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var r=new Int8Array(t);new Int8Array(e).set(r),updateGlobalBuffer(e),updateGlobalBufferViews()}(o.memory),Module.asm=o,Module.usingWasm=!0,removeRunDependency("wasm-instantiate")}if(r.memory=Module.wasmMemory,i.global={NaN:NaN,Infinity:1/0},i["global.Math"]=Math,i.env=r,addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(i,u)}catch(e){return err("Module.instantiateWasm callback failed with error: "+e),!1}function s(e){u(e.instance,e.module)}function _(e){return instantiateCachedURL(134327,wasmUrl+"audio.encode.wasm",i),{}}return Module.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(t)||"function"!=typeof fetch?_():WebAssembly.instantiateStreaming(fetch(t,{credentials:"same-origin"}),i).then(s).catch(function(e){err("wasm streaming compile failed: "+e),err("falling back to ArrayBuffer instantiation"),_()}),{}}Module.asmPreload=Module.asm;var c=Module.reallocBuffer;Module.reallocBuffer=function(e){return"asmjs"===d?c(e):function(e){e=alignUp(e,Module.usingWasm?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE);var i=Module.buffer.byteLength;if(Module.usingWasm)try{return-1!==Module.wasmMemory.grow((e-i)/65536)?Module.buffer=Module.wasmMemory.buffer:null}catch(e){return null}}(e)};var d="";Module.asm=function(e,t,r){if(!(t=function(e){return e}(t)).table){var n=Module.wasmTableSize;void 0===n&&(n=1024);var i=Module.wasmMaxTableSize;"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?t.table=void 0!==i?new WebAssembly.Table({initial:n,maximum:i,element:"anyfunc"}):new WebAssembly.Table({initial:n,element:"anyfunc"}):t.table=new Array(n),Module.wasmTable=t.table}var o;return t.memoryBase||(t.memoryBase=Module.STATIC_BASE),t.tableBase||(t.tableBase=0),assert(o=_(e,t),"no binaryen method succeeded."),o}}integrateWasmJS();var ASM_CONSTS=[function(e,t){send_data(e,t)},function(e,t){audio_encode_frame_callback(e,t)},function(e,t,r){Get_ExternalRecord(e,t,r)},function(e,t,r,n,i,o,a,u){frame_callback(e,t,r,n,i,o,a,u)},function(e,t){get_edition(e,t)}];function _emscripten_asm_const_iiii(e,t,r,n){return ASM_CONSTS[e](t,r,n)}function _emscripten_asm_const_iii(e,t,r){return ASM_CONSTS[e](t,r)}function _emscripten_asm_const_iiiiiiiii(e,t,r,n,i,o,a,u,s){return ASM_CONSTS[e](t,r,n,i,o,a,u,s)}STATICTOP=(STATIC_BASE=GLOBAL_BASE)+175008,__ATINIT__.push({func:function(){__GLOBAL__I_000101()}},{func:function(){___cxx_global_var_init_4()}},{func:function(){__GLOBAL__sub_I_iostream_cpp()}},{func:function(){___emscripten_environ_constructor()}},{func:function(){__GLOBAL__sub_I_text_stream_cpp()}},{func:function(){___cxx_global_var_init_12()}},{func:function(){__GLOBAL__sub_I_singleton_cpp()}},{func:function(){__GLOBAL__sub_I_log_cpp()}},{func:function(){___cxx_global_var_init_49()}},{func:function(){___cxx_global_var_init_48()}},{func:function(){__GLOBAL__sub_I_auxi_cpp()}},{func:function(){__GLOBAL__sub_I_wcl_audio_cpp()}},{func:function(){___cxx_global_var_init_3_4611()}},{func:function(){___cxx_global_var_init_3()}},{func:function(){___cxx_global_var_init_2()}},{func:function(){___cxx_global_var_init_1()}},{func:function(){___cxx_global_var_init_4597()}},{func:function(){__GLOBAL__sub_I_util_cpp()}},{func:function(){___cxx_global_var_init_4563()}},{func:function(){___cxx_global_var_init_4558()}},{func:function(){___cxx_global_var_init_4552()}},{func:function(){___cxx_global_var_init_4521()}});var STATIC_BUMP=175008;Module.STATIC_BASE=STATIC_BASE,Module.STATIC_BUMP=STATIC_BUMP;var tempDoublePtr=STATICTOP;function ___assert_fail(e,t,r,n){abort("Assertion failed: "+Pointer_stringify(e)+", at: "+[t?Pointer_stringify(t):"unknown filename",r,n?Pointer_stringify(n):"unknown function"])}STATICTOP+=16;var ENV={};function ___buildEnvironment(e){var n,i;___buildEnvironment.called?(i=HEAP32[e>>2],n=HEAP32[i>>2]):(___buildEnvironment.called=!0,ENV.USER=ENV.LOGNAME="web_user",ENV.PATH="/",ENV.PWD="/",ENV.HOME="/home/web_user",ENV.LANG="C.UTF-8",ENV._=Module.thisProgram,n=getMemory(1024),i=getMemory(256),HEAP32[i>>2]=n,HEAP32[e>>2]=i);var o=[],a=0;for(var u in ENV)if("string"==typeof ENV[u]){var s=u+"="+ENV[u];o.push(s),a+=s.length}if(a>1024)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var _=0;_<o.length;_++){writeAsciiToMemory(s=o[_],n),HEAP32[i+4*_>>2]=n,n+=s.length+1}HEAP32[i+4*o.length>>2]=0}function ___cxa_allocate_exception(e){return _malloc(e)}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos){var r=+t;if(EXCEPTIONS.infos[r].adjusted===e)return r}return e},addRef:function(e){e&&EXCEPTIONS.infos[e].refcount++},decRef:function(e){if(e){var t=EXCEPTIONS.infos[e];assert(t.refcount>0),t.refcount--,0!==t.refcount||t.rethrown||(t.destructor&&Module.dynCall_vi(t.destructor,e),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){e&&(EXCEPTIONS.infos[e].refcount=0)}};function ___cxa_begin_catch(e){var t=EXCEPTIONS.infos[e];return t&&!t.caught&&(t.caught=!0,__ZSt18uncaught_exceptionv.uncaught_exception--),t&&(t.rethrown=!1),EXCEPTIONS.caught.push(e),EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(e)),e}function ___cxa_pure_virtual(){throw ABORT=!0,"Pure virtual function called!"}function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(setTempRet0(0),0);var t=EXCEPTIONS.infos[e],r=t.type;if(!r)return 0|(setTempRet0(0),e);var n=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(r);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var o=0;o<n.length;o++)if(n[o]&&Module.___cxa_can_catch(n[o],r,e))return e=HEAP32[e>>2],t.adjusted=e,0|(setTempRet0(n[o]),e);return e=HEAP32[e>>2],0|(setTempRet0(r),e)}function ___cxa_throw(e,t,r){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:r,refcount:0,caught:!1,rethrown:!1},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_uncaught_exception(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___gxx_personality_v0(){}function ___lock(){}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}function ___map_file(e,t){return ___setErrNo(ERRNO_CODES.EPERM),-1}var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},PATH={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=PATH.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:FS.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=PATH.resolve(e).substr(1),t=PATH.resolve(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),o=Math.min(n.length,i.length),a=o,u=0;u<o;u++)if(n[u]!==i[u]){a=u;break}var s=[];for(u=a;u<n.length;u++)s.push("..");return(s=s.concat(i.slice(a))).join("/")}},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0,a=0;a<n;a++){var u;try{u=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===u&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null==u)break;o++,t[r+a]=u}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0;o<n;o++)try{e.tty.ops.put_char(e.tty,t[r+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){var n=new Buffer(256),i=0,o="win32"!=process.platform,a=process.stdin.fd;if(o){var u=!1;try{a=fs.openSync("/dev/stdin","r"),u=!0}catch(e){}}try{i=fs.readSync(a,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;i=0}u&&fs.closeSync(a),t=i>0?n.slice(0,i).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=intArrayFromString(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(out(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(out(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(err(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(err(UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(FS.isBlkdev(r)||FS.isFIFO(r))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var i=FS.createNode(e,t,r,n);return FS.isDir(i.mode)?(i.node_ops=MEMFS.ops_table.dir.node,i.stream_ops=MEMFS.ops_table.dir.stream,i.contents={}):FS.isFile(i.mode)?(i.node_ops=MEMFS.ops_table.file.node,i.stream_ops=MEMFS.ops_table.file.stream,i.usedBytes=0,i.contents=null):FS.isLink(i.mode)?(i.node_ops=MEMFS.ops_table.link.node,i.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(i.mode)&&(i.node_ops=MEMFS.ops_table.chrdev.node,i.stream_ops=MEMFS.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var r=e.contents?e.contents.length:0;if(r>=t)return;t=Math.max(t,r*(r<1048576?2:1.125)|0),0!=r&&(t=Math.max(t,256));var i=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(i.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=FS.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,FS.isDir(e.mode)?t.size=4096:FS.isFile(e.mode)?t.size=e.usedBytes:FS.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&MEMFS.resizeFileStorage(e,t.size)},lookup:function(e,t){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,t,r,n){return MEMFS.createNode(e,t,r,n)},rename:function(e,t,r){if(FS.isDir(e.mode)){var n;try{n=FS.lookupNode(t,r)}catch(e){}if(n)for(var i in n.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=r,t.contents[r]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var r=FS.lookupNode(e,t);for(var n in r.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=MEMFS.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,t,r,n,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,n);if(assert(a>=0),a>8&&o.subarray)t.set(o.subarray(i,i+a),r);else for(var u=0;u<a;u++)t[r+u]=o[i+u];return a},write:function(e,t,r,n,i,o){if(!n)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=t.subarray(r,r+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===i)return a.contents=new Uint8Array(t.subarray(r,r+n)),a.usedBytes=n,n;if(i+n<=a.usedBytes)return a.contents.set(t.subarray(r,r+n),i),n}if(MEMFS.expandFileStorage(a,i+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),i);else for(var u=0;u<n;u++)a.contents[i+u]=t[r+u];return a.usedBytes=Math.max(a.usedBytes,i+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&FS.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return n},allocate:function(e,t,r){MEMFS.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,i,o,a){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var u,s,l=e.node.contents;if(2&a||l.buffer!==t&&l.buffer!==t.buffer){if((i>0||i+n<e.node.usedBytes)&&(l=l.subarray?l.subarray(i,i+n):Array.prototype.slice.call(l,i,i+n)),s=!0,!(u=_malloc(n)))throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);t.set(l,u)}else s=!1,u=l.byteOffset;return{ptr:u,allocated:s}},msync:function(e,t,r,n,i){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&i)return 0;MEMFS.stream_ops.write(e,t,0,n,r,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,t,r){IDBFS.getLocalSet(e,function(n,i){if(n)return r(n);IDBFS.getRemoteSet(e,function(e,n){if(e)return r(e);var o=t?n:i,a=t?i:n;IDBFS.reconcile(o,a,r)})})},getDB:function(e,t){var n,r=IDBFS.dbs[e];if(r)return t(null,r);try{n=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return t(e)}if(!n)return t("Unable to connect to IndexedDB");n.onupgradeneeded=function(e){var n,t=e.target.result,r=e.target.transaction;(n=t.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?r.objectStore(IDBFS.DB_STORE_NAME):t.createObjectStore(IDBFS.DB_STORE_NAME)).indexNames.contains("timestamp")||n.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=function(){r=n.result,IDBFS.dbs[e]=r,t(null,r)},n.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){var r={};function n(e){return"."!==e&&".."!==e}function i(e){return function(t){return PATH.join2(e,t)}}for(var o=FS.readdir(e.mountpoint).filter(n).map(i(e.mountpoint));o.length;){var u,a=o.pop();try{u=FS.stat(a)}catch(e){return t(e)}FS.isDir(u.mode)&&o.push.apply(o,FS.readdir(a).filter(n).map(i(a))),r[a]={timestamp:u.mtime}}return t(null,{type:"local",entries:r})},getRemoteSet:function(e,t){var r={};IDBFS.getDB(e.mountpoint,function(e,n){if(e)return t(e);try{var i=n.transaction([IDBFS.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error),e.preventDefault()},i.objectStore(IDBFS.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i)return t(null,{type:"remote",db:n,entries:r});r[i.primaryKey]={timestamp:i.key},i.continue()}}catch(e){return t(e)}})},loadLocalEntry:function(e,t){var r,n;try{n=FS.lookupPath(e).node,r=FS.stat(e)}catch(e){return t(e)}return FS.isDir(r.mode)?t(null,{timestamp:r.mtime,mode:r.mode}):FS.isFile(r.mode)?(n.contents=MEMFS.getFileDataAsTypedArray(n),t(null,{timestamp:r.mtime,mode:r.mode,contents:n.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,r){try{if(FS.isDir(t.mode))FS.mkdir(e,t.mode);else{if(!FS.isFile(t.mode))return r(new Error("node type not supported"));FS.writeFile(e,t.contents,{canOwn:!0})}FS.chmod(e,t.mode),FS.utime(e,t.timestamp,t.timestamp)}catch(e){return r(e)}r(null)},removeLocalEntry:function(e,t){try{FS.lookupPath(e);var n=FS.stat(e);FS.isDir(n.mode)?FS.rmdir(e):FS.isFile(n.mode)&&FS.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,r){var n=e.get(t);n.onsuccess=function(e){r(null,e.target.result)},n.onerror=function(e){r(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,r,n){var i=e.put(r,t);i.onsuccess=function(){n(null)},i.onerror=function(e){n(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,r){var n=e.delete(t);n.onsuccess=function(){r(null)},n.onerror=function(e){r(this.error),e.preventDefault()}},reconcile:function(e,t,r){var n=0,i=[];Object.keys(e.entries).forEach(function(r){var o=e.entries[r],a=t.entries[r];(!a||o.timestamp>a.timestamp)&&(i.push(r),n++)});var o=[];if(Object.keys(t.entries).forEach(function(r){t.entries[r];e.entries[r]||(o.push(r),n++)}),!n)return r(null);var a=0,s=("remote"===e.type?e.db:t.db).transaction([IDBFS.DB_STORE_NAME],"readwrite"),l=s.objectStore(IDBFS.DB_STORE_NAME);function _(e){return e?_.errored?void 0:(_.errored=!0,r(e)):++a>=n?r(null):void 0}s.onerror=function(e){_(this.error),e.preventDefault()},i.sort().forEach(function(e){"local"===t.type?IDBFS.loadRemoteEntry(l,e,function(t,r){if(t)return _(t);IDBFS.storeLocalEntry(e,r,_)}):IDBFS.loadLocalEntry(e,function(t,r){if(t)return _(t);IDBFS.storeRemoteEntry(l,e,r,_)})}),o.sort().reverse().forEach(function(e){"local"===t.type?IDBFS.removeLocalEntry(e,_):IDBFS.removeRemoteEntry(l,e,_)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),NODEFS.flagsForNodeMap={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},bufferFrom:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,t,r,n){if(!FS.isDir(r)&&!FS.isFile(r)&&!FS.isLink(r))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=FS.createNode(e,t,r);return i.node_ops=NODEFS.node_ops,i.stream_ops=NODEFS.stream_ops,i},getMode:function(e){var t;try{t=fs.lstatSync(e),NODEFS.isWindows&&(t.mode=t.mode|(292&t.mode)>>2)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),PATH.join.apply(null,t)},flagsForNode:function(e){e&=-2097153,e&=-2049,e&=-32769,e&=-524289;var t=0;for(var r in NODEFS.flagsForNodeMap)e&r&&(t|=NODEFS.flagsForNodeMap[r],e^=r);if(e)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return t},node_ops:{getattr:function(e){var r,t=NODEFS.realPath(e);try{r=fs.lstatSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return NODEFS.isWindows&&!r.blksize&&(r.blksize=4096),NODEFS.isWindows&&!r.blocks&&(r.blocks=(r.size+r.blksize-1)/r.blksize|0),{dev:r.dev,ino:r.ino,mode:r.mode,nlink:r.nlink,uid:r.uid,gid:r.gid,rdev:r.rdev,size:r.size,atime:r.atime,mtime:r.mtime,ctime:r.ctime,blksize:r.blksize,blocks:r.blocks}},setattr:function(e,t){var r=NODEFS.realPath(e);try{if(void 0!==t.mode&&(fs.chmodSync(r,t.mode),e.mode=t.mode),void 0!==t.timestamp){var n=new Date(t.timestamp);fs.utimesSync(r,n,n)}void 0!==t.size&&fs.truncateSync(r,t.size)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t),n=NODEFS.getMode(r);return NODEFS.createNode(e,t,n)},mknod:function(e,t,r,n){var i=NODEFS.createNode(e,t,r,n),o=NODEFS.realPath(i);try{FS.isDir(i.mode)?fs.mkdirSync(o,i.mode):fs.writeFileSync(o,"",{mode:i.mode})}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return i},rename:function(e,t,r){var n=NODEFS.realPath(e),i=PATH.join2(NODEFS.realPath(t),r);try{fs.renameSync(n,i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.unlinkSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.rmdirSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var t=NODEFS.realPath(e);try{return fs.readdirSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,t,r){var n=PATH.join2(NODEFS.realPath(e),t);try{fs.symlinkSync(r,n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var t=NODEFS.realPath(e);try{return t=fs.readlinkSync(t),t=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var t=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(t,NODEFS.flagsForNode(e.flags)))}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,t,r,n,i){if(0===n)return 0;try{return fs.readSync(e.nfd,NODEFS.bufferFrom(t.buffer),r,n,i)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}},write:function(e,t,r,n,i){try{return fs.writeSync(e.nfd,NODEFS.bufferFrom(t.buffer),r,n,i)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}},llseek:function(e,t,r){var n=t;if(1===r)n+=e.position;else if(2===r&&FS.isFile(e.node.mode))try{n+=fs.fstatSync(e.nfd).size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(n<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return n}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var t=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),r={};function n(e){for(var n=e.split("/"),i=t,o=0;o<n.length-1;o++){var a=n.slice(0,o+1).join("/");r[a]||(r[a]=WORKERFS.createNode(i,n[o],WORKERFS.DIR_MODE,0)),i=r[a]}return i}function i(e){var t=e.split("/");return t[t.length-1]}return Array.prototype.forEach.call(e.opts.files||[],function(e){WORKERFS.createNode(n(e.name),i(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){WORKERFS.createNode(n(e.name),i(e.name),WORKERFS.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(t){var r=t.filename.substr(1);WORKERFS.createNode(n(r),i(r),WORKERFS.FILE_MODE,0,e.blob.slice(t.start,t.end))})}),t},createNode:function(e,t,r,n,i,o){var a=FS.createNode(e,t,r);return a.mode=r,a.node_ops=WORKERFS.node_ops,a.stream_ops=WORKERFS.stream_ops,a.timestamp=(o||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),r===WORKERFS.FILE_MODE?(a.size=i.size,a.contents=i):(a.size=4096,a.contents={}),e&&(e.contents[t]=a),a},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,t,r,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,t,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,t,r,n,i){if(i>=e.node.size)return 0;var o=e.node.contents.slice(i,i+n),a=WORKERFS.reader.readAsArrayBuffer(o);return t.set(new Uint8Array(a),r),o.size},write:function(e,t,r,n,i){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&FS.isFile(e.node.mode)&&(n+=e.node.size),n<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return n}}};STATICTOP+=16,STATICTOP+=16;var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=PATH.resolve(FS.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(t.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var i=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=FS.root,a="/",u=0;u<i.length;u++){var s=u===i.length-1;if(s&&t.parent)break;if(o=FS.lookupNode(o,i[u]),a=PATH.join2(a,i[u]),FS.isMountpoint(o)&&(!s||s&&t.follow_mount)&&(o=o.mounted.root),!s||t.follow)for(var l=0;FS.isLink(o.mode);){var _=FS.readlink(a);if(a=PATH.resolve(PATH.dirname(a),_),o=FS.lookupPath(a,{recurse_count:t.recurse_count}).node,l++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(FS.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%FS.nameTable.length},hashAddNode:function(e){var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t],FS.nameTable[t]=e},hashRemoveNode:function(e){var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e)FS.nameTable[t]=e.name_next;else for(var r=FS.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=FS.mayLookup(e);if(r)throw new FS.ErrnoError(r,e);for(var n=FS.hashName(e.id,t),i=FS.nameTable[n];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return FS.lookup(e,t)},createNode:function(e,t,r,n){if(!FS.FSNode){FS.FSNode=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},FS.FSNode.prototype={};var i=365,o=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&i)===i},set:function(e){e?this.mode|=i:this.mode&=~i}},write:{get:function(){return(this.mode&o)===o},set:function(e){e?this.mode|=o:this.mode&=~o}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var a=new FS.FSNode(e,t,r,n);return FS.hashAddNode(a),a},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=FS.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return FS.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var t=FS.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:ERRNO_CODES.EACCES)},mayCreate:function(e,t){try{FS.lookupNode(e,t);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=FS.lookupNode(e,t)}catch(e){return e.errno}var i=FS.nodePermissions(e,"wx");if(i)return i;if(r){if(!FS.isDir(n.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(n)||FS.getPath(n)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(n.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,t){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&("r"!==FS.flagsToPermissionString(t)||512&t)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(t)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||FS.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!FS.streams[r])return r;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,t,r){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var n=new FS.FSStream;for(var i in e)n[i]=e[i];e=n;var o=FS.nextfd(t,r);return e.fd=o,FS.streams[o]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){FS.devices[e]={stream_ops:t}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),FS.syncFSRequests++,FS.syncFSRequests;var r=FS.getMounts(FS.root.mount),n=0;function i(e){return assert(FS.syncFSRequests>0),FS.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++n>=r.length&&i(null)}r.forEach(function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)})},mount:function(e,t,r){var o,n="/"===r,i=!r;if(n&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!n&&!i){var a=FS.lookupPath(r,{follow_mount:!1});if(r=a.path,o=a.node,FS.isMountpoint(o))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(o.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var u={type:e,opts:t,mountpoint:r,mounts:[]},s=e.mount(u);return s.mount=u,u.root=s,n?FS.root=s:o&&(o.mounted=u,o.mount&&o.mount.mounts.push(u)),s},unmount:function(e){var t=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(t.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r=t.node,n=r.mounted,i=FS.getMounts(n);Object.keys(FS.nameTable).forEach(function(e){for(var t=FS.nameTable[e];t;){var r=t.name_next;-1!==i.indexOf(t.mount)&&FS.destroyNode(t),t=r}}),r.mounted=null;var o=r.mount.mounts.indexOf(n);assert(-1!==o),r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var i=FS.lookupPath(e,{parent:!0}).node,o=PATH.basename(e);if(!o||"."===o||".."===o)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=FS.mayCreate(i,o);if(a)throw new FS.ErrnoError(a);if(!i.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.mknod(i,o,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,FS.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,FS.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",i=0;i<r.length;++i)if(r[i]){n+="/"+r[i];try{FS.mkdir(n,t)}catch(e){if(e.errno!=ERRNO_CODES.EEXIST)throw e}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,FS.mknod(e,t,r)},symlink:function(e,t){if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var n=FS.lookupPath(t,{parent:!0}).node;if(!n)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var i=PATH.basename(t),o=FS.mayCreate(n,i);if(o)throw new FS.ErrnoError(o);if(!n.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return n.node_ops.symlink(n,i,e)},rename:function(e,t){var u,s,r=PATH.dirname(e),n=PATH.dirname(t),i=PATH.basename(e),o=PATH.basename(t);try{u=FS.lookupPath(e,{parent:!0}).node,s=FS.lookupPath(t,{parent:!0}).node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!u||!s)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(u.mount!==s.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var c,l=FS.lookupNode(u,i),_=PATH.relative(e,n);if("."!==_.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if("."!==(_=PATH.relative(t,r)).charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);try{c=FS.lookupNode(s,o)}catch(e){}if(l!==c){var f=FS.isDir(l.mode),d=FS.mayDelete(u,i,f);if(d)throw new FS.ErrnoError(d);if(d=c?FS.mayDelete(s,o,f):FS.mayCreate(s,o))throw new FS.ErrnoError(d);if(!u.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(l)||c&&FS.isMountpoint(c))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(s!==u&&(d=FS.nodePermissions(u,"w")))throw new FS.ErrnoError(d);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,t)}catch(r){}FS.hashRemoveNode(l);try{u.node_ops.rename(l,s,o)}catch(e){throw e}finally{FS.hashAddNode(l)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,t)}catch(r){}}},rmdir:function(e){var r=FS.lookupPath(e,{parent:!0}).node,n=PATH.basename(e),i=FS.lookupNode(r,n),o=FS.mayDelete(r,n,!0);if(o)throw new FS.ErrnoError(o);if(!r.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(t){}r.node_ops.rmdir(r,n),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(t){}},readdir:function(e){var r=FS.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return r.node_ops.readdir(r)},unlink:function(e){var r=FS.lookupPath(e,{parent:!0}).node,n=PATH.basename(e),i=FS.lookupNode(r,n),o=FS.mayDelete(r,n,!1);if(o)throw new FS.ErrnoError(o);if(!r.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(t){}r.node_ops.unlink(r,n),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(t){}},readlink:function(e){var r=FS.lookupPath(e).node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!r.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,t){var n=FS.lookupPath(e,{follow:!t}).node;if(!n)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!n.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return n.node_ops.getattr(n)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,t,r){var n;"string"==typeof e?n=FS.lookupPath(e,{follow:!r}).node:n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){FS.chmod(e,t,!0)},fchmod:function(e,t){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(r.node,t)},chown:function(e,t,r,n){var i;"string"==typeof e?i=FS.lookupPath(e,{follow:!n}).node:i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,r){FS.chown(e,t,r,!0)},fchown:function(e,t,r){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(n.node,t,r)},truncate:function(e,t){if(t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r;"string"==typeof e?r=FS.lookupPath(e,{follow:!0}).node:r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(r.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(r.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=FS.nodePermissions(r,"w");if(i)throw new FS.ErrnoError(i);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0==(2097155&r.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(r.node,t)},utime:function(e,t,r){var i=FS.lookupPath(e,{follow:!0}).node;i.node_ops.setattr(i,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,i){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var o;if(r=void 0===r?438:r,r=64&(t="string"==typeof t?FS.modeStringToFlags(t):t)?4095&r|32768:0,"object"==typeof e)o=e;else{e=PATH.normalize(e);try{o=FS.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var u=!1;if(64&t)if(o){if(128&t)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else o=FS.mknod(e,r,0),u=!0;if(!o)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(o.mode)&&(t&=-513),65536&t&&!FS.isDir(o.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!u){var s=FS.mayOpen(o,t);if(s)throw new FS.ErrnoError(s)}512&t&&FS.truncate(o,0),t&=-641;var l=FS.createStream({node:o,path:FS.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},n,i);l.stream_ops.open&&l.stream_ops.open(l),!Module.logReadFiles||1&t||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,s("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var _=0;1!=(2097155&t)&&(_|=FS.tracking.openFlags.READ),0!=(2097155&t)&&(_|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,_)}}catch(t){}return l},close:function(e){if(FS.isClosed(e))throw new FS.ErrnoError(ERRNO_CODES.EBADF);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(FS.isClosed(e))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,i){if(n<0||i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(FS.isClosed(e))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=void 0!==i;if(o){if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}else i=e.position;var a=e.stream_ops.read(e,t,r,n,i);return o||(e.position+=a),a},write:function(e,t,r,n,i,o){if(n<0||i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(FS.isClosed(e))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var a=void 0!==i;if(a){if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}else i=e.position;var u=e.stream_ops.write(e,t,r,n,i,o);a||(e.position+=u);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(e){}return u},allocate:function(e,t,r){if(FS.isClosed(e))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(t<0||r<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,i,o,a){if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,t,r,n,i,o,a)},msync:function(e,t,r,n,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,i):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=FS.open(e,t.flags),o=FS.stat(e).size,a=new Uint8Array(o);return FS.read(n,a,0,o,0),"utf8"===t.encoding?r=UTF8ArrayToString(a,0):"binary"===t.encoding&&(r=a),FS.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||"w";var n=FS.open(e,r.flags,r.mode);if("string"==typeof t){var i=new Uint8Array(lengthBytesUTF8(t)+1),o=stringToUTF8Array(t,i,0,i.length);FS.write(n,i,0,o,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");FS.write(n,t,0,t.byteLength,void 0,r.canOwn)}FS.close(n)},cwd:function(){return FS.currentPath},chdir:function(e){var t=FS.lookupPath(e,{follow:!0});if(null===t.node)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var r=FS.nodePermissions(t.node,"x");if(r)throw new FS.ErrnoError(r);FS.currentPath=t.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,i){return n}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0)),"undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=ENVIRONMENT_IS_NODE?function(){return require("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var r=+t,n=FS.getStream(r);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=FS.open("/dev/stdout","w");assert(1===t.fd,"invalid handle for stdout ("+t.fd+")");var r=FS.open("/dev/stderr","w");assert(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(t,r){this.node=r,this.setErrno=function(e){for(var t in this.errno=e,ERRNO_CODES)if(ERRNO_CODES[t]===e){this.code=t;break}},this.setErrno(t),this.message=ERRNO_MESSAGES[t],this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,t,r){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=r||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<FS.streams.length;t++){var r=FS.streams[t];r&&FS.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},joinPath:function(e,t){var r=PATH.join.apply(null,e);return t&&"/"==r[0]&&(r=r.substr(1)),r},absolutePath:function(e,t){return PATH.resolve(t,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,t){var r=FS.analyzePath(e,t);return r.exists?r.object:(___setErrNo(r.error),null)},analyzePath:function(e,t){try{e=(r=FS.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=FS.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=PATH.basename(e),r=FS.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createFolder:function(e,t,r,n){var i=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(r,n);return FS.mkdir(i,o)},createPath:function(e,t,r,n){e="string"==typeof e?e:FS.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var a=PATH.join2(e,o);try{FS.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,r,n,i){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(n,i);return FS.create(o,a)},createDataFile:function(e,t,r,n,i,o){var a=t?PATH.join2("string"==typeof e?e:FS.getPath(e),t):e,u=FS.getMode(n,i),s=FS.create(a,u);if(r){if("string"==typeof r){for(var l=new Array(r.length),_=0,c=r.length;_<c;++_)l[_]=r.charCodeAt(_);r=l}FS.chmod(s,146|u);var f=FS.open(s,"w");FS.write(f,r,0,r.length,0,o),FS.close(f),FS.chmod(s,u)}return s},createDevice:function(e,t,r,n){var i=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(!!r,!!n);FS.createDevice.major||(FS.createDevice.major=64);var a=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,i,o){for(var a=0,u=0;u<i;u++){var s;try{s=r()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===s&&0===a)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null==s)break;a++,t[n+u]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,i,o){for(var a=0;a<i;a++)try{n(t[r+a])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return i&&(e.node.timestamp=Date.now()),a}}),FS.mkdev(i,o,a)},createLink:function(e,t,r,n,i){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),t);return FS.symlink(r,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||___setErrNo(ERRNO_CODES.EIO),t},createLazyFile:function(e,t,r,n,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(t){if(!(t>this.length-1||t<0)){var r=t%this.chunkSize,n=t/this.chunkSize|0;return this.getter(n)[r]}},o.prototype.setDataGetter=function(t){this.getter=t},o.prototype.cacheLength=function(){var t=new XMLHttpRequest;if(t.open("HEAD",r,!1),t.send(null),!(t.status>=200&&t.status<300||304===t.status))throw new Error("Couldn't load "+r+". Status: "+t.status);var i,n=Number(t.getResponseHeader("Content-length")),o=(i=t.getResponseHeader("Accept-Ranges"))&&"bytes"===i,a=(i=t.getResponseHeader("Content-Encoding"))&&"gzip"===i,u=1048576;o||(u=n);var s=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",r,!1),n!==u&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+r+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):intArrayFromString(i.responseText||"",!0)},l=this;l.setDataGetter(function(e){var t=e*u,r=(e+1)*u-1;if(r=Math.min(r,n-1),void 0===l.chunks[e]&&(l.chunks[e]=s(t,r)),void 0===l.chunks[e])throw new Error("doXHR failed!");return l.chunks[e]}),!a&&n||(u=n=1,n=this.getter(0).length,u=n),this._length=n,this._chunkSize=u,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var u={isDevice:!1,contents:a}}else u={isDevice:!1,url:r};var s=FS.createFile(e,t,u,n,i);u.contents?s.contents=u.contents:u.url&&(s.contents=null,s.url=u.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var l={};return Object.keys(s.stream_ops).forEach(function(e){var t=s.stream_ops[e];l[e]=function(){if(!FS.forceLoadFile(s))throw new FS.ErrnoError(ERRNO_CODES.EIO);return t.apply(null,arguments)}}),l.read=function(t,r,n,i,o){if(!FS.forceLoadFile(s))throw new FS.ErrnoError(ERRNO_CODES.EIO);var a=t.node.contents;if(o>=a.length)return 0;var u=Math.min(a.length-o,i);if(assert(u>=0),a.slice)for(var l=0;l<u;l++)r[n+l]=a[o+l];else for(l=0;l<u;l++)r[n+l]=a.get(o+l);return u},s.stream_ops=l,s},createPreloadedFile:function(e,t,r,n,i,o,a,u,s,l){Browser.init();var _=t?PATH.resolve(PATH.join2(e,t)):e,c=getUniqueRunDependency("cp "+_);function f(r){function f(r){l&&l(),u||FS.createDataFile(e,t,r,n,i,s),o&&o(),removeRunDependency(c)}var d=!1;Module.preloadPlugins.forEach(function(e){d||e.canHandle(_)&&(e.handle(r,_,f,function(){a&&a(),removeRunDependency(c)}),d=!0)}),d||f(r)}addRunDependency(c),"string"==typeof r?Browser.asyncLoad(r,function(e){f(e)},a):f(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=FS.indexedDB();try{var i=n.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}i.onupgradeneeded=function(){i.result.createObjectStore(FS.DB_STORE_NAME)},i.onsuccess=function(){var a=i.result.transaction([FS.DB_STORE_NAME],"readwrite"),u=a.objectStore(FS.DB_STORE_NAME),s=0,l=0,_=e.length;function c(){0==l?t():r()}e.forEach(function(e){var t=u.put(FS.analyzePath(e).object.contents,e);t.onsuccess=function(){++s+l==_&&c()},t.onerror=function(){s+ ++l==_&&c()}}),a.onerror=r},i.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=FS.indexedDB();try{var i=n.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}i.onupgradeneeded=r,i.onsuccess=function(){var o=i.result;try{var a=o.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void r(e)}var u=a.objectStore(FS.DB_STORE_NAME),s=0,l=0,_=e.length;function c(){0==l?t():r()}e.forEach(function(e){var t=u.get(e);t.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),t.result,!0,!0,!0),++s+l==_&&c()},t.onerror=function(){s+ ++l==_&&c()}}),a.onerror=r},i.onerror=r}},SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=FS.cwd();else{var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);r=n.path}t=PATH.join2(r,t)}return t},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(e.node)))return-ERRNO_CODES.ENOTDIR;throw e}return HEAP32[r>>2]=n.dev,HEAP32[r+4>>2]=0,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAP32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,HEAP32[r+32>>2]=0,HEAP32[r+36>>2]=n.size,HEAP32[r+40>>2]=4096,HEAP32[r+44>>2]=n.blocks,HEAP32[r+48>>2]=n.atime.getTime()/1e3|0,HEAP32[r+52>>2]=0,HEAP32[r+56>>2]=n.mtime.getTime()/1e3|0,HEAP32[r+60>>2]=0,HEAP32[r+64>>2]=n.ctime.getTime()/1e3|0,HEAP32[r+68>>2]=0,HEAP32[r+72>>2]=n.ino,0},doMsync:function(e,t,r,n){var i=new Uint8Array(HEAPU8.subarray(e,e+r));FS.msync(t,i,0,r,n)},doMkdir:function(e,t){return"/"===(e=PATH.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),FS.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-ERRNO_CODES.EINVAL;var n=FS.readlink(e),i=Math.min(r,lengthBytesUTF8(n)),o=HEAP8[t+i];return stringToUTF8(n,t,r+1),HEAP8[t+i]=o,i},doAccess:function(e,t){if(-8&t)return-ERRNO_CODES.EINVAL;var r;r=FS.lookupPath(e,{follow:!0}).node;var i="";return 4&t&&(i+="r"),2&t&&(i+="w"),1&t&&(i+="x"),i&&FS.nodePermissions(r,i)?-ERRNO_CODES.EACCES:0},doDup:function(e,t,r){var n=FS.getStream(r);return n&&FS.close(n),FS.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var i=0,o=0;o<r;o++){var a=HEAP32[t+8*o>>2],u=HEAP32[t+(8*o+4)>>2],s=FS.read(e,HEAP8,a,u,n);if(s<0)return-1;if(i+=s,s<u)break}return i},doWritev:function(e,t,r,n){for(var i=0,o=0;o<r;o++){var a=HEAP32[t+8*o>>2],u=HEAP32[t+(8*o+4)>>2],s=FS.write(e,HEAP8,a,u,n);if(s<0)return-1;i+=s}return i},varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var t=SYSCALLS.get(),r=SYSCALLS.get();if(e&&0===t)return null;var n=__read_sockaddr(t,r);if(n.errno)throw new FS.ErrnoError(n.errno);return n.addr=DNS.lookup_addr(n.addr)||n.addr,n},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall140(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),i=(SYSCALLS.get(),SYSCALLS.get()),o=SYSCALLS.get(),a=SYSCALLS.get(),u=i;return FS.llseek(r,u,a),HEAP32[o>>2]=r.position,r.getdents&&0===u&&0===a&&(r.getdents=null),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall145(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),i=SYSCALLS.get();return SYSCALLS.doReadv(r,n,i)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),i=SYSCALLS.get();return SYSCALLS.doWritev(r,n,i)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall168(e,t){SYSCALLS.varargs=t;try{for(var r=SYSCALLS.get(),n=SYSCALLS.get(),o=(SYSCALLS.get(),0),a=0;a<n;a++){var u=r+8*a,s=HEAP32[u>>2],l=HEAP16[u+4>>1],_=32,c=FS.getStream(s);c&&(_=SYSCALLS.DEFAULT_POLLMASK,c.stream_ops.poll&&(_=c.stream_ops.poll(c))),(_&=24|l)&&o++,HEAP16[u+6>>1]=_}return o}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall183(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.get(),n=SYSCALLS.get();if(0===n)return-ERRNO_CODES.EINVAL;var i=FS.cwd();return n<lengthBytesUTF8(i)+1?-ERRNO_CODES.ERANGE:(stringToUTF8(i,r,n),r)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall191(e,t){SYSCALLS.varargs=t;try{SYSCALLS.get();var n=SYSCALLS.get();return HEAP32[n>>2]=-1,HEAP32[n+4>>2]=-1,HEAP32[n+8>>2]=-1,HEAP32[n+12>>2]=-1,0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall195(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStr(),n=SYSCALLS.get();return SYSCALLS.doStat(FS.stat,r,n)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall221(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD();switch(SYSCALLS.get()){case 0:return(i=SYSCALLS.get())<0?-ERRNO_CODES.EINVAL:FS.open(r.path,r.flags,0,i).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var i=SYSCALLS.get();return r.flags|=i,0;case 12:case 12:i=SYSCALLS.get();return HEAP16[i+0>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:return ___setErrNo(ERRNO_CODES.EINVAL),-1;default:return-ERRNO_CODES.EINVAL}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall3(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),i=SYSCALLS.get();return FS.read(r,HEAP8,n,i)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall340(e,t){SYSCALLS.varargs=t;try{SYSCALLS.get(),SYSCALLS.get(),SYSCALLS.get();var o=SYSCALLS.get();return o&&(HEAP32[o>>2]=-1,HEAP32[o+4>>2]=-1,HEAP32[o+8>>2]=-1,HEAP32[o+12>>2]=-1),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall4(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),i=SYSCALLS.get();return FS.write(r,HEAP8,n,i)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var PIPEFS={BUCKET_BUFFER_SIZE:8192,mount:function(e){return FS.createNode(null,"/",16895,0)},createPipe:function(){var e={buckets:[]};e.buckets.push({buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:0,roffset:0});var t=PIPEFS.nextname(),r=PIPEFS.nextname(),n=FS.createNode(PIPEFS.root,t,4096,0),i=FS.createNode(PIPEFS.root,r,4096,0);n.pipe=e,i.pipe=e;var o=FS.createStream({path:t,node:n,flags:FS.modeStringToFlags("r"),seekable:!1,stream_ops:PIPEFS.stream_ops});n.stream=o;var a=FS.createStream({path:r,node:i,flags:FS.modeStringToFlags("w"),seekable:!1,stream_ops:PIPEFS.stream_ops});return i.stream=a,{readable_fd:o.fd,writable_fd:a.fd}},stream_ops:{poll:function(e){var t=e.node.pipe;if(1==(2097155&e.flags))return 260;if(t.buckets.length>0)for(var r=0;r<t.buckets.length;r++){var n=t.buckets[r];if(n.offset-n.roffset>0)return 65}return 0},ioctl:function(e,t,r){return ERRNO_CODES.EINVAL},read:function(e,t,r,n,i){for(var o=e.node.pipe,a=0,u=0;u<o.buckets.length;u++){var s=o.buckets[u];a+=s.offset-s.roffset}assert(t instanceof ArrayBuffer||ArrayBuffer.isView(t));var l=t.subarray(r,r+n);if(n<=0)return 0;if(0==a)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);var _=Math.min(a,n),c=_,f=0;for(u=0;u<o.buckets.length;u++){var d=o.buckets[u],E=d.offset-d.roffset;if(_<=E){var S=d.buffer.subarray(d.roffset,d.offset);_<E?(S=S.subarray(0,_),d.roffset+=_):f++,l.set(S);break}S=d.buffer.subarray(d.roffset,d.offset);l.set(S),l=l.subarray(S.byteLength),_-=S.byteLength,f++}return f&&f==o.buckets.length&&(f--,o.buckets[f].offset=0,o.buckets[f].roffset=0),o.buckets.splice(0,f),c},write:function(e,t,r,n,i){var o=e.node.pipe;assert(t instanceof ArrayBuffer||ArrayBuffer.isView(t));var a=t.subarray(r,r+n),u=a.byteLength;if(u<=0)return 0;var s=null;0==o.buckets.length?(s={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:0,roffset:0},o.buckets.push(s)):s=o.buckets[o.buckets.length-1],assert(s.offset<=PIPEFS.BUCKET_BUFFER_SIZE);var l=PIPEFS.BUCKET_BUFFER_SIZE-s.offset;if(l>=u)return s.buffer.set(a,s.offset),s.offset+=u,u;l>0&&(s.buffer.set(a.subarray(0,l),s.offset),s.offset+=l,a=a.subarray(l,a.byteLength));for(var _=a.byteLength/PIPEFS.BUCKET_BUFFER_SIZE|0,c=a.byteLength%PIPEFS.BUCKET_BUFFER_SIZE,f=0;f<_;f++){var d={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:PIPEFS.BUCKET_BUFFER_SIZE,roffset:0};o.buckets.push(d),d.buffer.set(a.subarray(0,PIPEFS.BUCKET_BUFFER_SIZE)),a=a.subarray(PIPEFS.BUCKET_BUFFER_SIZE,a.byteLength)}if(c>0){d={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:a.byteLength,roffset:0};o.buckets.push(d),d.buffer.set(a)}return u},close:function(e){e.node.pipe.buckets=null}},nextname:function(){return PIPEFS.nextname.current||(PIPEFS.nextname.current=0),"pipe["+PIPEFS.nextname.current+++"]"}};function ___syscall42(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.get();if(0==r)throw new FS.ErrnoError(ERRNO_CODES.EFAULT);var n=PIPEFS.createPipe();return HEAP32[r>>2]=n.readable_fd,HEAP32[r+4>>2]=n.writable_fd,0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall5(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStr(),n=SYSCALLS.get(),i=SYSCALLS.get();return FS.open(r,n,i).fd}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall54(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get();switch(n){case 21509:case 21505:return r.tty?0:-ERRNO_CODES.ENOTTY;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!r.tty)return-ERRNO_CODES.ENOTTY;var i=SYSCALLS.get();return HEAP32[i>>2]=0,0;case 21520:return r.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:i=SYSCALLS.get();return FS.ioctl(r,n,i);case 21523:case 21524:return r.tty?0:-ERRNO_CODES.ENOTTY;default:abort("bad ioctl syscall "+n)}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall6(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD();return FS.close(r),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall75(e,t){SYSCALLS.varargs=t;try{return 0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall91(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.get(),n=SYSCALLS.get(),i=SYSCALLS.mappings[r];if(!i)return 0;if(n===i.len){var o=FS.getStream(i.fd);SYSCALLS.doMsync(r,o,n,i.flags),FS.munmap(o),SYSCALLS.mappings[r]=null,i.allocated&&_free(i.malloc)}return 0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___unlock(){}function _abort(){Module.abort()}function _emscripten_get_now(){abort()}function _emscripten_get_now_is_monotonic(){return ENVIRONMENT_IS_NODE||"undefined"!=typeof dateNow||(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self.performance&&self.performance.now}function _clock_gettime(e,t){var r;if(0===e)r=Date.now();else{if(1!==e||!_emscripten_get_now_is_monotonic())return ___setErrNo(ERRNO_CODES.EINVAL),-1;r=_emscripten_get_now()}return HEAP32[t>>2]=r/1e3|0,HEAP32[t+4>>2]=r%1e3*1e3*1e3|0,0}function _epoll_create(){err("missing function: epoll_create"),abort(-1)}function _epoll_ctl(){err("missing function: epoll_ctl"),abort(-1)}function _epoll_wait(){err("missing function: epoll_wait"),abort(-1)}function _getenv(e){return 0===e?0:(e=Pointer_stringify(e),ENV.hasOwnProperty(e)?(_getenv.ret&&_free(_getenv.ret),_getenv.ret=allocateUTF8(ENV[e]),_getenv.ret):0)}function _getpagesize(){return PAGE_SIZE}function _gettimeofday(e){var t=Date.now();return HEAP32[e>>2]=t/1e3|0,HEAP32[e+4>>2]=t%1e3*1e3|0,0}var ___tm_current=STATICTOP+=16;STATICTOP+=48;var ___tm_timezone=allocate(intArrayFromString("GMT"),"i8",ALLOC_STATIC);function _gmtime_r(e,t){var r=new Date(1e3*HEAP32[e>>2]);HEAP32[t>>2]=r.getUTCSeconds(),HEAP32[t+4>>2]=r.getUTCMinutes(),HEAP32[t+8>>2]=r.getUTCHours(),HEAP32[t+12>>2]=r.getUTCDate(),HEAP32[t+16>>2]=r.getUTCMonth(),HEAP32[t+20>>2]=r.getUTCFullYear()-1900,HEAP32[t+24>>2]=r.getUTCDay(),HEAP32[t+36>>2]=0,HEAP32[t+32>>2]=0;var n=Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0),i=(r.getTime()-n)/864e5|0;return HEAP32[t+28>>2]=i,HEAP32[t+40>>2]=___tm_timezone,t}function _gmtime(e){return _gmtime_r(e,___tm_current)}var _llvm_ceil_f64=Math_ceil;function _llvm_exp2_f32(e){return Math.pow(2,e)}function _llvm_exp2_f64(){return _llvm_exp2_f32.apply(null,arguments)}var _llvm_fabs_f32=Math_abs,_llvm_fabs_f64=Math_abs,_llvm_floor_f32=Math_floor,_llvm_floor_f64=Math_floor;function _llvm_log10_f32(e){return Math.log(e)/Math.LN10}function _llvm_log10_f64(){return _llvm_log10_f32.apply(null,arguments)}function _llvm_stackrestore(e){var t=_llvm_stacksave,r=t.LLVM_SAVEDSTACKS[e];t.LLVM_SAVEDSTACKS.splice(e,1),stackRestore(r)}function _llvm_stacksave(){var e=_llvm_stacksave;return e.LLVM_SAVEDSTACKS||(e.LLVM_SAVEDSTACKS=[]),e.LLVM_SAVEDSTACKS.push(stackSave()),e.LLVM_SAVEDSTACKS.length-1}function _llvm_trap(){abort("trap!")}function _emscripten_memcpy_big(e,t,r){return HEAPU8.set(HEAPU8.subarray(t,t+r),e),e}function _usleep(e){var t=e/1e3;if((ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self.performance&&self.performance.now)for(var r=self.performance.now();self.performance.now()-r<t;);else for(r=Date.now();Date.now()-r<t;);return 0}function _nanosleep(e,t){var r=HEAP32[e>>2],n=HEAP32[e+4>>2];return 0!==t&&(HEAP32[t>>2]=0,HEAP32[t+4>>2]=0),_usleep(1e6*r+n/1e3)}function _prctl(){err("missing function: prctl"),abort(-1)}function _pthread_attr_destroy(e){return 0}function _pthread_attr_init(e){return 0}function _pthread_attr_setdetachstate(){}function _pthread_attr_setstacksize(){}function _pthread_cancel(){}function _pthread_cond_destroy(){return 0}function _pthread_cond_init(){return 0}function _pthread_cond_timedwait(){return 0}function _pthread_cond_wait(){return 0}function _pthread_condattr_destroy(){return 0}function _pthread_condattr_init(){return 0}function _pthread_condattr_setclock(){return 0}function _pthread_create(){return 11}var PTHREAD_SPECIFIC={};function _pthread_getspecific(e){return PTHREAD_SPECIFIC[e]||0}function _pthread_join(){}var PTHREAD_SPECIFIC_NEXT_KEY=1;function _pthread_key_create(e,t){return 0==e?ERRNO_CODES.EINVAL:(HEAP32[e>>2]=PTHREAD_SPECIFIC_NEXT_KEY,PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0,PTHREAD_SPECIFIC_NEXT_KEY++,0)}function _pthread_key_delete(e){return e in PTHREAD_SPECIFIC?(delete PTHREAD_SPECIFIC[e],0):ERRNO_CODES.EINVAL}function _pthread_mutex_destroy(){}function _pthread_mutex_init(){}function _pthread_mutexattr_destroy(){}function _pthread_mutexattr_init(){}function _pthread_once(e,t){_pthread_once.seen||(_pthread_once.seen={}),e in _pthread_once.seen||(Module.dynCall_v(t),_pthread_once.seen[e]=1)}function _pthread_rwlock_destroy(){return 0}function _pthread_rwlock_init(){return 0}function _pthread_rwlock_rdlock(){return 0}function _pthread_rwlock_unlock(){return 0}function _pthread_rwlock_wrlock(){return 0}function _pthread_setcancelstate(){return 0}function _pthread_setcanceltype(){err("missing function: pthread_setcanceltype"),abort(-1)}function _pthread_setschedparam(){err("missing function: pthread_setschedparam"),abort(-1)}function _pthread_setspecific(e,t){return e in PTHREAD_SPECIFIC?(PTHREAD_SPECIFIC[e]=t,0):ERRNO_CODES.EINVAL}function _sched_get_priority_max(){err("missing function: sched_get_priority_max"),abort(-1)}function _sched_get_priority_min(){err("missing function: sched_get_priority_min"),abort(-1)}function _sched_setaffinity(){err("missing function: sched_setaffinity"),abort(-1)}function __isLeapYear(e){return e%4==0&&(e%100!=0||e%400==0)}function __arraySum(e,t){for(var r=0,n=0;n<=t;r+=e[n++]);return r}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31],__MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(e,t){for(var r=new Date(e.getTime());t>0;){var n=__isLeapYear(r.getFullYear()),i=r.getMonth(),o=(n?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[i];if(!(t>o-r.getDate()))return r.setDate(r.getDate()+t),r;t-=o-r.getDate()+1,r.setDate(1),i<11?r.setMonth(i+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}function _strftime(e,t,r,n){var i=HEAP32[n+40>>2],o={tm_sec:HEAP32[n>>2],tm_min:HEAP32[n+4>>2],tm_hour:HEAP32[n+8>>2],tm_mday:HEAP32[n+12>>2],tm_mon:HEAP32[n+16>>2],tm_year:HEAP32[n+20>>2],tm_wday:HEAP32[n+24>>2],tm_yday:HEAP32[n+28>>2],tm_isdst:HEAP32[n+32>>2],tm_gmtoff:HEAP32[n+36>>2],tm_zone:i?Pointer_stringify(i):""},a=Pointer_stringify(r),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var s in u)a=a.replace(new RegExp(s,"g"),u[s]);var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_=["January","February","March","April","May","June","July","August","September","October","November","December"];function c(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function f(e,t){return c(e,t,"0")}function d(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function E(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function S(e){var t=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),i=E(r),o=E(n);return d(i,t)<=0?d(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var m={"%a":function(e){return l[e.tm_wday].substring(0,3)},"%A":function(e){return l[e.tm_wday]},"%b":function(e){return _[e.tm_mon].substring(0,3)},"%B":function(e){return _[e.tm_mon]},"%C":function(e){return f((e.tm_year+1900)/100|0,2)},"%d":function(e){return f(e.tm_mday,2)},"%e":function(e){return c(e.tm_mday,2," ")},"%g":function(e){return S(e).toString().substring(2)},"%G":function(e){return S(e)},"%H":function(e){return f(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),f(t,2)},"%j":function(e){return f(e.tm_mday+__arraySum(__isLeapYear(e.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,e.tm_mon-1),3)},"%m":function(e){return f(e.tm_mon+1,2)},"%M":function(e){return f(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return f(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0).getDay()||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),r=0===t.getDay()?t:__addDays(t,7-t.getDay()),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(d(r,n)<0){var i=__arraySum(__isLeapYear(n.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,n.getMonth()-1)-31,a=31-r.getDate()+i+n.getDate();return f(Math.ceil(a/7),2)}return 0===d(r,t)?"01":"00"},"%V":function(e){var a,t=new Date(e.tm_year+1900,0,4),r=new Date(e.tm_year+1901,0,4),n=E(t),i=E(r),o=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday);return d(o,n)<0?"53":d(i,o)<=0?"01":(a=n.getFullYear()<e.tm_year+1900?e.tm_yday+32-n.getDate():e.tm_yday+1-n.getDate(),f(Math.ceil(a/7),2))},"%w":function(e){return new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0).getDay()},"%W":function(e){var t=new Date(e.tm_year,0,1),r=1===t.getDay()?t:__addDays(t,0===t.getDay()?1:7-t.getDay()+1),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(d(r,n)<0){var i=__arraySum(__isLeapYear(n.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,n.getMonth()-1)-31,a=31-r.getDate()+i+n.getDate();return f(Math.ceil(a/7),2)}return 0===d(r,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var s in m)a.indexOf(s)>=0&&(a=a.replace(new RegExp(s,"g"),m[s](o)));var p=intArrayFromString(a,!1);return p.length>t?0:(writeArrayToMemory(p,e),p.length-1)}function _strftime_l(e,t,r,n){return _strftime(e,t,r,n)}function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return HEAPU8.length/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}function _times(e){return 0!==e&&_memset(e,0,16),0}if(FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=require("fs"),NODEJS_PATH=require("path");NODEFS.staticInit()}__ATINIT__.push(function(){PIPEFS.root=FS.mount(PIPEFS,{},null)}),_emscripten_get_now=ENVIRONMENT_IS_NODE?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof self&&self.performance&&"function"==typeof self.performance.now?function(){return self.performance.now()}:"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,DYNAMICTOP_PTR=staticAlloc(4),DYNAMIC_BASE=alignMemory(STACK_MAX=(STACK_BASE=STACKTOP=alignMemory(STATICTOP))+TOTAL_STACK),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0;var ASSERTIONS=!1;function intArrayFromString(e,t,r){var n=r>0?r:lengthBytesUTF8(e)+1,i=new Array(n),o=stringToUTF8Array(e,i,0,i.length);return t&&(i.length=o),i}function invoke_fi(e,t){var r=stackSave();try{return Module.dynCall_fi(e,t)}catch(e){if(stackRestore(r),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_ii(e,t){var r=stackSave();try{return Module.dynCall_ii(e,t)}catch(e){if(stackRestore(r),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iif(e,t,r){var n=stackSave();try{return Module.dynCall_iif(e,t,r)}catch(e){if(stackRestore(n),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iii(e,t,r){var n=stackSave();try{return Module.dynCall_iii(e,t,r)}catch(e){if(stackRestore(n),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiif(e,t,r,n){var i=stackSave();try{return Module.dynCall_iiif(e,t,r,n)}catch(e){if(stackRestore(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiff(e,t,r,n,i){var o=stackSave();try{return Module.dynCall_iiiff(e,t,r,n,i)}catch(e){if(stackRestore(o),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiii(e,t,r,n){var i=stackSave();try{return Module.dynCall_iiii(e,t,r,n)}catch(e){if(stackRestore(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiifiii(e,t,r,n,i,o,a,u){var s=stackSave();try{return Module.dynCall_iiiifiii(e,t,r,n,i,o,a,u)}catch(e){if(stackRestore(s),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiii(e,t,r,n,i){var o=stackSave();try{return Module.dynCall_iiiii(e,t,r,n,i)}catch(e){if(stackRestore(o),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiid(e,t,r,n,i,o){var a=stackSave();try{return Module.dynCall_iiiiid(e,t,r,n,i,o)}catch(e){if(stackRestore(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiif(e,t,r,n,i,o){var a=stackSave();try{return Module.dynCall_iiiiif(e,t,r,n,i,o)}catch(e){if(stackRestore(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiifii(e,t,r,n,i,o,a,u){var s=stackSave();try{return Module.dynCall_iiiiifii(e,t,r,n,i,o,a,u)}catch(e){if(stackRestore(s),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiifiii(e,t,r,n,i,o,a,u,s){var l=stackSave();try{return Module.dynCall_iiiiifiii(e,t,r,n,i,o,a,u,s)}catch(e){if(stackRestore(l),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiii(e,t,r,n,i,o){var a=stackSave();try{return Module.dynCall_iiiiii(e,t,r,n,i,o)}catch(e){if(stackRestore(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiid(e,t,r,n,i,o,a){var u=stackSave();try{return Module.dynCall_iiiiiid(e,t,r,n,i,o,a)}catch(e){if(stackRestore(u),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiif(e,t,r,n,i,o,a){var u=stackSave();try{return Module.dynCall_iiiiiif(e,t,r,n,i,o,a)}catch(e){if(stackRestore(u),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiifii(e,t,r,n,i,o,a,u,s){var l=stackSave();try{return Module.dynCall_iiiiiifii(e,t,r,n,i,o,a,u,s)}catch(e){if(stackRestore(l),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiii(e,t,r,n,i,o,a){var u=stackSave();try{return Module.dynCall_iiiiiii(e,t,r,n,i,o,a)}catch(e){if(stackRestore(u),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiiif(e,t,r,n,i,o,a,u){var s=stackSave();try{return Module.dynCall_iiiiiiif(e,t,r,n,i,o,a,u)}catch(e){if(stackRestore(s),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiiii(e,t,r,n,i,o,a,u){var s=stackSave();try{return Module.dynCall_iiiiiiii(e,t,r,n,i,o,a,u)}catch(e){if(stackRestore(s),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiiiii(e,t,r,n,i,o,a,u,s){var l=stackSave();try{return Module.dynCall_iiiiiiiii(e,t,r,n,i,o,a,u,s)}catch(e){if(stackRestore(l),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiiiiiii(e,t,r,n,i,o,a,u,s,l,_){var c=stackSave();try{return Module.dynCall_iiiiiiiiiii(e,t,r,n,i,o,a,u,s,l,_)}catch(e){if(stackRestore(c),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiiiiiiii(e,t,r,n,i,o,a,u,s,l,_,c){var f=stackSave();try{return Module.dynCall_iiiiiiiiiiii(e,t,r,n,i,o,a,u,s,l,_,c)}catch(e){if(stackRestore(f),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiiiiiiiii(e,t,r,n,i,o,a,u,s,l,_,c,f){var d=stackSave();try{return Module.dynCall_iiiiiiiiiiiii(e,t,r,n,i,o,a,u,s,l,_,c,f)}catch(e){if(stackRestore(d),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiiijii(e,t,r,n,i,o,a,u,s,l){var _=stackSave();try{return Module.dynCall_iiiiiijii(e,t,r,n,i,o,a,u,s,l)}catch(e){if(stackRestore(_),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiij(e,t,r,n,i,o,a){var u=stackSave();try{return Module.dynCall_iiiiij(e,t,r,n,i,o,a)}catch(e){if(stackRestore(u),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiij(e,t,r,n,i){var o=stackSave();try{return Module.dynCall_iiij(e,t,r,n,i)}catch(e){if(stackRestore(o),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iij(e,t,r,n){var i=stackSave();try{return Module.dynCall_iij(e,t,r,n)}catch(e){if(stackRestore(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_ji(e,t){var r=stackSave();try{return Module.dynCall_ji(e,t)}catch(e){if(stackRestore(r),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_v(e){var t=stackSave();try{Module.dynCall_v(e)}catch(e){if(stackRestore(t),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vi(e,t){var r=stackSave();try{Module.dynCall_vi(e,t)}catch(e){if(stackRestore(r),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vii(e,t,r){var n=stackSave();try{Module.dynCall_vii(e,t,r)}catch(e){if(stackRestore(n),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viif(e,t,r,n){var i=stackSave();try{Module.dynCall_viif(e,t,r,n)}catch(e){if(stackRestore(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viii(e,t,r,n){var i=stackSave();try{Module.dynCall_viii(e,t,r,n)}catch(e){if(stackRestore(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiii(e,t,r,n,i){var o=stackSave();try{Module.dynCall_viiii(e,t,r,n,i)}catch(e){if(stackRestore(o),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiiii(e,t,r,n,i,o){var a=stackSave();try{Module.dynCall_viiiii(e,t,r,n,i,o)}catch(e){if(stackRestore(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiiiii(e,t,r,n,i,o,a){var u=stackSave();try{Module.dynCall_viiiiii(e,t,r,n,i,o,a)}catch(e){if(stackRestore(u),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiiiiii(e,t,r,n,i,o,a,u){var s=stackSave();try{Module.dynCall_viiiiiii(e,t,r,n,i,o,a,u)}catch(e){if(stackRestore(s),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiiiiiii(e,t,r,n,i,o,a,u,s){var l=stackSave();try{Module.dynCall_viiiiiiii(e,t,r,n,i,o,a,u,s)}catch(e){if(stackRestore(l),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiiiiiiii(e,t,r,n,i,o,a,u,s,l){var _=stackSave();try{Module.dynCall_viiiiiiiii(e,t,r,n,i,o,a,u,s,l)}catch(e){if(stackRestore(_),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viij(e,t,r,n,i){var o=stackSave();try{Module.dynCall_viij(e,t,r,n,i)}catch(e){if(stackRestore(o),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viijii(e,t,r,n,i,o,a){var u=stackSave();try{Module.dynCall_viijii(e,t,r,n,i,o,a)}catch(e){if(stackRestore(u),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vij(e,t,r,n){var i=stackSave();try{Module.dynCall_vij(e,t,r,n)}catch(e){if(stackRestore(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}Module.wasmTableSize=4559,Module.wasmMaxTableSize=4559,Module.asmGlobalArg={},Module.asmLibraryArg={abort:abort,assert:assert,enlargeMemory:enlargeMemory,getTotalMemory:getTotalMemory,abortOnCannotGrowMemory:abortOnCannotGrowMemory,invoke_fi:invoke_fi,invoke_ii:invoke_ii,invoke_iif:invoke_iif,invoke_iii:invoke_iii,invoke_iiif:invoke_iiif,invoke_iiiff:invoke_iiiff,invoke_iiii:invoke_iiii,invoke_iiiifiii:invoke_iiiifiii,invoke_iiiii:invoke_iiiii,invoke_iiiiid:invoke_iiiiid,invoke_iiiiif:invoke_iiiiif,invoke_iiiiifii:invoke_iiiiifii,invoke_iiiiifiii:invoke_iiiiifiii,invoke_iiiiii:invoke_iiiiii,invoke_iiiiiid:invoke_iiiiiid,invoke_iiiiiif:invoke_iiiiiif,invoke_iiiiiifii:invoke_iiiiiifii,invoke_iiiiiii:invoke_iiiiiii,invoke_iiiiiiif:invoke_iiiiiiif,invoke_iiiiiiii:invoke_iiiiiiii,invoke_iiiiiiiii:invoke_iiiiiiiii,invoke_iiiiiiiiiii:invoke_iiiiiiiiiii,invoke_iiiiiiiiiiii:invoke_iiiiiiiiiiii,invoke_iiiiiiiiiiiii:invoke_iiiiiiiiiiiii,invoke_iiiiiijii:invoke_iiiiiijii,invoke_iiiiij:invoke_iiiiij,invoke_iiij:invoke_iiij,invoke_iij:invoke_iij,invoke_ji:invoke_ji,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viif:invoke_viif,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii,invoke_viiiii:invoke_viiiii,invoke_viiiiii:invoke_viiiiii,invoke_viiiiiii:invoke_viiiiiii,invoke_viiiiiiii:invoke_viiiiiiii,invoke_viiiiiiiii:invoke_viiiiiiiii,invoke_viij:invoke_viij,invoke_viijii:invoke_viijii,invoke_vij:invoke_vij,___assert_fail:___assert_fail,___buildEnvironment:___buildEnvironment,___cxa_allocate_exception:___cxa_allocate_exception,___cxa_begin_catch:___cxa_begin_catch,___cxa_find_matching_catch:___cxa_find_matching_catch,___cxa_pure_virtual:___cxa_pure_virtual,___cxa_throw:___cxa_throw,___cxa_uncaught_exception:___cxa_uncaught_exception,___gxx_personality_v0:___gxx_personality_v0,___lock:___lock,___map_file:___map_file,___resumeException:___resumeException,___setErrNo:___setErrNo,___syscall140:___syscall140,___syscall145:___syscall145,___syscall146:___syscall146,___syscall168:___syscall168,___syscall183:___syscall183,___syscall191:___syscall191,___syscall195:___syscall195,___syscall221:___syscall221,___syscall3:___syscall3,___syscall340:___syscall340,___syscall4:___syscall4,___syscall42:___syscall42,___syscall5:___syscall5,___syscall54:___syscall54,___syscall6:___syscall6,___syscall75:___syscall75,___syscall91:___syscall91,___unlock:___unlock,__addDays:__addDays,__arraySum:__arraySum,__isLeapYear:__isLeapYear,_abort:_abort,_clock_gettime:_clock_gettime,_emscripten_asm_const_iii:_emscripten_asm_const_iii,_emscripten_asm_const_iiii:_emscripten_asm_const_iiii,_emscripten_asm_const_iiiiiiiii:_emscripten_asm_const_iiiiiiiii,_emscripten_get_now:_emscripten_get_now,_emscripten_get_now_is_monotonic:_emscripten_get_now_is_monotonic,_emscripten_memcpy_big:_emscripten_memcpy_big,_epoll_create:_epoll_create,_epoll_ctl:_epoll_ctl,_epoll_wait:_epoll_wait,_getenv:_getenv,_getpagesize:_getpagesize,_gettimeofday:_gettimeofday,_gmtime:_gmtime,_gmtime_r:_gmtime_r,_llvm_ceil_f64:_llvm_ceil_f64,_llvm_exp2_f32:_llvm_exp2_f32,_llvm_exp2_f64:_llvm_exp2_f64,_llvm_fabs_f32:_llvm_fabs_f32,_llvm_fabs_f64:_llvm_fabs_f64,_llvm_floor_f32:_llvm_floor_f32,_llvm_floor_f64:_llvm_floor_f64,_llvm_log10_f32:_llvm_log10_f32,_llvm_log10_f64:_llvm_log10_f64,_llvm_stackrestore:_llvm_stackrestore,_llvm_stacksave:_llvm_stacksave,_llvm_trap:_llvm_trap,_nanosleep:_nanosleep,_prctl:_prctl,_pthread_attr_destroy:_pthread_attr_destroy,_pthread_attr_init:_pthread_attr_init,_pthread_attr_setdetachstate:_pthread_attr_setdetachstate,_pthread_attr_setstacksize:_pthread_attr_setstacksize,_pthread_cancel:_pthread_cancel,_pthread_cond_destroy:_pthread_cond_destroy,_pthread_cond_init:_pthread_cond_init,_pthread_cond_timedwait:_pthread_cond_timedwait,_pthread_cond_wait:_pthread_cond_wait,_pthread_condattr_destroy:_pthread_condattr_destroy,_pthread_condattr_init:_pthread_condattr_init,_pthread_condattr_setclock:_pthread_condattr_setclock,_pthread_create:_pthread_create,_pthread_getspecific:_pthread_getspecific,_pthread_join:_pthread_join,_pthread_key_create:_pthread_key_create,_pthread_key_delete:_pthread_key_delete,_pthread_mutex_destroy:_pthread_mutex_destroy,_pthread_mutex_init:_pthread_mutex_init,_pthread_mutexattr_destroy:_pthread_mutexattr_destroy,_pthread_mutexattr_init:_pthread_mutexattr_init,_pthread_once:_pthread_once,_pthread_rwlock_destroy:_pthread_rwlock_destroy,_pthread_rwlock_init:_pthread_rwlock_init,_pthread_rwlock_rdlock:_pthread_rwlock_rdlock,_pthread_rwlock_unlock:_pthread_rwlock_unlock,_pthread_rwlock_wrlock:_pthread_rwlock_wrlock,_pthread_setcancelstate:_pthread_setcancelstate,_pthread_setcanceltype:_pthread_setcanceltype,_pthread_setschedparam:_pthread_setschedparam,_pthread_setspecific:_pthread_setspecific,_sched_get_priority_max:_sched_get_priority_max,_sched_get_priority_min:_sched_get_priority_min,_sched_setaffinity:_sched_setaffinity,_strftime:_strftime,_strftime_l:_strftime_l,_sysconf:_sysconf,_time:_time,_times:_times,_usleep:_usleep,DYNAMICTOP_PTR:DYNAMICTOP_PTR,tempDoublePtr:tempDoublePtr,ABORT:ABORT,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX};var asm=Module.asm(Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module.asm=asm;var initialStackTop,__Audio_Decode=Module.__Audio_Decode=function(){return Module.asm.__Audio_Decode.apply(null,arguments)},__Audio_Encode=Module.__Audio_Encode=function(){return Module.asm.__Audio_Encode.apply(null,arguments)},__Audio_Init=Module.__Audio_Init=function(){return Module.asm.__Audio_Init.apply(null,arguments)},__Audio_UnInit=Module.__Audio_UnInit=function(){return Module.asm.__Audio_UnInit.apply(null,arguments)},__GLOBAL__I_000101=Module.__GLOBAL__I_000101=function(){return Module.asm.__GLOBAL__I_000101.apply(null,arguments)},__GLOBAL__sub_I_auxi_cpp=Module.__GLOBAL__sub_I_auxi_cpp=function(){return Module.asm.__GLOBAL__sub_I_auxi_cpp.apply(null,arguments)},__GLOBAL__sub_I_iostream_cpp=Module.__GLOBAL__sub_I_iostream_cpp=function(){return Module.asm.__GLOBAL__sub_I_iostream_cpp.apply(null,arguments)},__GLOBAL__sub_I_log_cpp=Module.__GLOBAL__sub_I_log_cpp=function(){return Module.asm.__GLOBAL__sub_I_log_cpp.apply(null,arguments)},__GLOBAL__sub_I_singleton_cpp=Module.__GLOBAL__sub_I_singleton_cpp=function(){return Module.asm.__GLOBAL__sub_I_singleton_cpp.apply(null,arguments)},__GLOBAL__sub_I_text_stream_cpp=Module.__GLOBAL__sub_I_text_stream_cpp=function(){return Module.asm.__GLOBAL__sub_I_text_stream_cpp.apply(null,arguments)},__GLOBAL__sub_I_util_cpp=Module.__GLOBAL__sub_I_util_cpp=function(){return Module.asm.__GLOBAL__sub_I_util_cpp.apply(null,arguments)},__GLOBAL__sub_I_wcl_audio_cpp=Module.__GLOBAL__sub_I_wcl_audio_cpp=function(){return Module.asm.__GLOBAL__sub_I_wcl_audio_cpp.apply(null,arguments)},__Get_Aec_Delay=Module.__Get_Aec_Delay=function(){return Module.asm.__Get_Aec_Delay.apply(null,arguments)},__Get_Audio_Edition=Module.__Get_Audio_Edition=function(){return Module.asm.__Get_Audio_Edition.apply(null,arguments)},__Get_Mixed_Audio=Module.__Get_Mixed_Audio=function(){return Module.asm.__Get_Mixed_Audio.apply(null,arguments)},__Put_Pre_Aec_Data=Module.__Put_Pre_Aec_Data=function(){return Module.asm.__Put_Pre_Aec_Data.apply(null,arguments)},__ReSet_Aec=Module.__ReSet_Aec=function(){return Module.asm.__ReSet_Aec.apply(null,arguments)},__Set_Aec_Delay=Module.__Set_Aec_Delay=function(){return Module.asm.__Set_Aec_Delay.apply(null,arguments)},__ZSt18uncaught_exceptionv=Module.__ZSt18uncaught_exceptionv=function(){return Module.asm.__ZSt18uncaught_exceptionv.apply(null,arguments)},___cxa_can_catch=Module.___cxa_can_catch=function(){return Module.asm.___cxa_can_catch.apply(null,arguments)},___cxa_demangle=Module.___cxa_demangle=function(){return Module.asm.___cxa_demangle.apply(null,arguments)},___cxa_is_pointer_type=Module.___cxa_is_pointer_type=function(){return Module.asm.___cxa_is_pointer_type.apply(null,arguments)},___cxx_global_var_init_1=Module.___cxx_global_var_init_1=function(){return Module.asm.___cxx_global_var_init_1.apply(null,arguments)},___cxx_global_var_init_12=Module.___cxx_global_var_init_12=function(){return Module.asm.___cxx_global_var_init_12.apply(null,arguments)},___cxx_global_var_init_2=Module.___cxx_global_var_init_2=function(){return Module.asm.___cxx_global_var_init_2.apply(null,arguments)},___cxx_global_var_init_3=Module.___cxx_global_var_init_3=function(){return Module.asm.___cxx_global_var_init_3.apply(null,arguments)},___cxx_global_var_init_3_4611=Module.___cxx_global_var_init_3_4611=function(){return Module.asm.___cxx_global_var_init_3_4611.apply(null,arguments)},___cxx_global_var_init_4=Module.___cxx_global_var_init_4=function(){return Module.asm.___cxx_global_var_init_4.apply(null,arguments)},___cxx_global_var_init_4521=Module.___cxx_global_var_init_4521=function(){return Module.asm.___cxx_global_var_init_4521.apply(null,arguments)},___cxx_global_var_init_4552=Module.___cxx_global_var_init_4552=function(){return Module.asm.___cxx_global_var_init_4552.apply(null,arguments)},___cxx_global_var_init_4558=Module.___cxx_global_var_init_4558=function(){return Module.asm.___cxx_global_var_init_4558.apply(null,arguments)},___cxx_global_var_init_4563=Module.___cxx_global_var_init_4563=function(){return Module.asm.___cxx_global_var_init_4563.apply(null,arguments)},___cxx_global_var_init_4597=Module.___cxx_global_var_init_4597=function(){return Module.asm.___cxx_global_var_init_4597.apply(null,arguments)},___cxx_global_var_init_48=Module.___cxx_global_var_init_48=function(){return Module.asm.___cxx_global_var_init_48.apply(null,arguments)},___cxx_global_var_init_49=Module.___cxx_global_var_init_49=function(){return Module.asm.___cxx_global_var_init_49.apply(null,arguments)},___emscripten_environ_constructor=Module.___emscripten_environ_constructor=function(){return Module.asm.___emscripten_environ_constructor.apply(null,arguments)},___errno_location=Module.___errno_location=function(){return Module.asm.___errno_location.apply(null,arguments)},__get_daylight=Module.__get_daylight=function(){return Module.asm.__get_daylight.apply(null,arguments)},__get_environ=Module.__get_environ=function(){return Module.asm.__get_environ.apply(null,arguments)},__get_timezone=Module.__get_timezone=function(){return Module.asm.__get_timezone.apply(null,arguments)},__get_tzname=Module.__get_tzname=function(){return Module.asm.__get_tzname.apply(null,arguments)},_free=Module._free=function(){return Module.asm._free.apply(null,arguments)},_htonl=Module._htonl=function(){return Module.asm._htonl.apply(null,arguments)},_htons=Module._htons=function(){return Module.asm._htons.apply(null,arguments)},_llvm_bswap_i16=Module._llvm_bswap_i16=function(){return Module.asm._llvm_bswap_i16.apply(null,arguments)},_llvm_bswap_i32=Module._llvm_bswap_i32=function(){return Module.asm._llvm_bswap_i32.apply(null,arguments)},_malloc=Module._malloc=function(){return Module.asm._malloc.apply(null,arguments)},_memcpy=Module._memcpy=function(){return Module.asm._memcpy.apply(null,arguments)},_memmove=Module._memmove=function(){return Module.asm._memmove.apply(null,arguments)},_memset=Module._memset=function(){return Module.asm._memset.apply(null,arguments)},_ntohs=Module._ntohs=function(){return Module.asm._ntohs.apply(null,arguments)},_pthread_cond_broadcast=Module._pthread_cond_broadcast=function(){return Module.asm._pthread_cond_broadcast.apply(null,arguments)},_pthread_mutex_lock=Module._pthread_mutex_lock=function(){return Module.asm._pthread_mutex_lock.apply(null,arguments)},_pthread_mutex_unlock=Module._pthread_mutex_unlock=function(){return Module.asm._pthread_mutex_unlock.apply(null,arguments)},_sbrk=Module._sbrk=function(){return Module.asm._sbrk.apply(null,arguments)},establishStackSpace=Module.establishStackSpace=function(){return Module.asm.establishStackSpace.apply(null,arguments)},getTempRet0=Module.getTempRet0=function(){return Module.asm.getTempRet0.apply(null,arguments)},runPostSets=Module.runPostSets=function(){return Module.asm.runPostSets.apply(null,arguments)},setTempRet0=Module.setTempRet0=function(){return Module.asm.setTempRet0.apply(null,arguments)},setThrew=Module.setThrew=function(){return Module.asm.setThrew.apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return Module.asm.stackAlloc.apply(null,arguments)},stackRestore=Module.stackRestore=function(){return Module.asm.stackRestore.apply(null,arguments)},stackSave=Module.stackSave=function(){return Module.asm.stackSave.apply(null,arguments)},dynCall_fi=Module.dynCall_fi=function(){return Module.asm.dynCall_fi.apply(null,arguments)},dynCall_ii=Module.dynCall_ii=function(){return Module.asm.dynCall_ii.apply(null,arguments)},dynCall_iif=Module.dynCall_iif=function(){return Module.asm.dynCall_iif.apply(null,arguments)},dynCall_iii=Module.dynCall_iii=function(){return Module.asm.dynCall_iii.apply(null,arguments)},dynCall_iiif=Module.dynCall_iiif=function(){return Module.asm.dynCall_iiif.apply(null,arguments)},dynCall_iiiff=Module.dynCall_iiiff=function(){return Module.asm.dynCall_iiiff.apply(null,arguments)},dynCall_iiii=Module.dynCall_iiii=function(){return Module.asm.dynCall_iiii.apply(null,arguments)},dynCall_iiiifiii=Module.dynCall_iiiifiii=function(){return Module.asm.dynCall_iiiifiii.apply(null,arguments)},dynCall_iiiii=Module.dynCall_iiiii=function(){return Module.asm.dynCall_iiiii.apply(null,arguments)},dynCall_iiiiid=Module.dynCall_iiiiid=function(){return Module.asm.dynCall_iiiiid.apply(null,arguments)},dynCall_iiiiif=Module.dynCall_iiiiif=function(){return Module.asm.dynCall_iiiiif.apply(null,arguments)},dynCall_iiiiifii=Module.dynCall_iiiiifii=function(){return Module.asm.dynCall_iiiiifii.apply(null,arguments)},dynCall_iiiiifiii=Module.dynCall_iiiiifiii=function(){return Module.asm.dynCall_iiiiifiii.apply(null,arguments)},dynCall_iiiiii=Module.dynCall_iiiiii=function(){return Module.asm.dynCall_iiiiii.apply(null,arguments)},dynCall_iiiiiid=Module.dynCall_iiiiiid=function(){return Module.asm.dynCall_iiiiiid.apply(null,arguments)},dynCall_iiiiiif=Module.dynCall_iiiiiif=function(){return Module.asm.dynCall_iiiiiif.apply(null,arguments)},dynCall_iiiiiifii=Module.dynCall_iiiiiifii=function(){return Module.asm.dynCall_iiiiiifii.apply(null,arguments)},dynCall_iiiiiii=Module.dynCall_iiiiiii=function(){return Module.asm.dynCall_iiiiiii.apply(null,arguments)},dynCall_iiiiiiif=Module.dynCall_iiiiiiif=function(){return Module.asm.dynCall_iiiiiiif.apply(null,arguments)},dynCall_iiiiiiii=Module.dynCall_iiiiiiii=function(){return Module.asm.dynCall_iiiiiiii.apply(null,arguments)},dynCall_iiiiiiiii=Module.dynCall_iiiiiiiii=function(){return Module.asm.dynCall_iiiiiiiii.apply(null,arguments)},dynCall_iiiiiiiiiii=Module.dynCall_iiiiiiiiiii=function(){return Module.asm.dynCall_iiiiiiiiiii.apply(null,arguments)},dynCall_iiiiiiiiiiii=Module.dynCall_iiiiiiiiiiii=function(){return Module.asm.dynCall_iiiiiiiiiiii.apply(null,arguments)},dynCall_iiiiiiiiiiiii=Module.dynCall_iiiiiiiiiiiii=function(){return Module.asm.dynCall_iiiiiiiiiiiii.apply(null,arguments)},dynCall_iiiiiijii=Module.dynCall_iiiiiijii=function(){return Module.asm.dynCall_iiiiiijii.apply(null,arguments)},dynCall_iiiiij=Module.dynCall_iiiiij=function(){return Module.asm.dynCall_iiiiij.apply(null,arguments)},dynCall_iiij=Module.dynCall_iiij=function(){return Module.asm.dynCall_iiij.apply(null,arguments)},dynCall_iij=Module.dynCall_iij=function(){return Module.asm.dynCall_iij.apply(null,arguments)},dynCall_ji=Module.dynCall_ji=function(){return Module.asm.dynCall_ji.apply(null,arguments)},dynCall_v=Module.dynCall_v=function(){return Module.asm.dynCall_v.apply(null,arguments)},dynCall_vi=Module.dynCall_vi=function(){return Module.asm.dynCall_vi.apply(null,arguments)},dynCall_vii=Module.dynCall_vii=function(){return Module.asm.dynCall_vii.apply(null,arguments)},dynCall_viif=Module.dynCall_viif=function(){return Module.asm.dynCall_viif.apply(null,arguments)},dynCall_viii=Module.dynCall_viii=function(){return Module.asm.dynCall_viii.apply(null,arguments)},dynCall_viiii=Module.dynCall_viiii=function(){return Module.asm.dynCall_viiii.apply(null,arguments)},dynCall_viiiii=Module.dynCall_viiiii=function(){return Module.asm.dynCall_viiiii.apply(null,arguments)},dynCall_viiiiii=Module.dynCall_viiiiii=function(){return Module.asm.dynCall_viiiiii.apply(null,arguments)},dynCall_viiiiiii=Module.dynCall_viiiiiii=function(){return Module.asm.dynCall_viiiiiii.apply(null,arguments)},dynCall_viiiiiiii=Module.dynCall_viiiiiiii=function(){return Module.asm.dynCall_viiiiiiii.apply(null,arguments)},dynCall_viiiiiiiii=Module.dynCall_viiiiiiiii=function(){return Module.asm.dynCall_viiiiiiiii.apply(null,arguments)},dynCall_viij=Module.dynCall_viij=function(){return Module.asm.dynCall_viij.apply(null,arguments)},dynCall_viijii=Module.dynCall_viijii=function(){return Module.asm.dynCall_viijii.apply(null,arguments)},dynCall_vij=Module.dynCall_vij=function(){return Module.asm.dynCall_vij.apply(null,arguments)};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),postRun()))}e=e||Module.arguments,runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function abort(e){throw Module.onAbort&&Module.onAbort(e),void 0!==e?(out(e),err(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(Module.asm=asm,Module.cwrap=cwrap,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus,dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.run=run,Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();Module.noExitRuntime=!0,run();const UNLOCKED=0,LOCKED_NO_WAITERS=1,LOCKED_POSSIBLE_WAITERS=2,NUMINTS=1;class Lock{constructor(e,t){if(!(e instanceof Int32Array&&t|0===t&&t>=0&&t+NUMINTS<=e.length))throw new Error(`Bad arguments to Lock constructor: ${e} ${t}`);this.iab=e,this.ibase=t}static initialize(e,t){if(!(e instanceof Int32Array&&t|0===t&&t>=0&&t+NUMINTS<=e.length))throw new Error(`Bad arguments to Lock constructor: ${e} ${t}`);return Atomics.store(e,t,UNLOCKED),t}lock(){const e=this.iab,t=this.ibase;var r;if((r=Atomics.compareExchange(e,t,UNLOCKED,LOCKED_NO_WAITERS))!==UNLOCKED)do{r!==LOCKED_POSSIBLE_WAITERS&&Atomics.compareExchange(e,t,LOCKED_NO_WAITERS,LOCKED_POSSIBLE_WAITERS)===UNLOCKED||Atomics.wait(e,t,LOCKED_POSSIBLE_WAITERS,Number.POSITIVE_INFINITY)}while((r=Atomics.compareExchange(e,t,UNLOCKED,LOCKED_POSSIBLE_WAITERS))!==UNLOCKED)}tryLock(){const e=this.iab,t=this.ibase;return Atomics.compareExchange(e,t,UNLOCKED,LOCKED_NO_WAITERS)===UNLOCKED}unlock(){const e=this.iab,t=this.ibase;Atomics.sub(e,t,1)!==LOCKED_NO_WAITERS&&(Atomics.store(e,t,UNLOCKED),Atomics.wake(e,t,1))}toString(){return"Lock:{ibase:"+this.ibase+"}"}}function Queue(){this.a=[],this.b=0,this.residue=null}function JsSocket_Log(e){}Queue.prototype.getLength=function(){return this.a.length-this.b},Queue.prototype.isEmpty=function(){return 0==this.a.length},Queue.prototype.enqueue=function(e){this.a.push(e)},Queue.prototype.dequeue=function(){if(0!=this.a.length){var e=this.a[this.b];return 2*++this.b>=this.a.length&&(this.a=this.a.slice(this.b),this.b=0),e}return null},Queue.prototype.peek=function(){return 0<this.a.length?this.a[this.b]:void 0};var audio_init=Module.cwrap("_Audio_Init","number",null),audio_uninit=Module.cwrap("_Audio_UnInit","number",["number"]),audio_encode=Module.cwrap("_Audio_Encode","number",["number","array","number","number","number"]),audio_decode=Module.cwrap("_Audio_Decode","number",["number","number","array","number"]),get_mixed_Audio=Module.cwrap("_Get_Mixed_Audio","number",["number","number","number","number"]),put_pre_aec_audio=Module.cwrap("_Put_Pre_Aec_Data","number",["number","array","number","number","number"]),get_aec_delay=Module.cwrap("_Get_Aec_Delay","number",["number"]),set_aec_delay=Module.cwrap("_Set_Aec_Delay","number",["number","number"]),reset_aec=Module.cwrap("_ReSet_Aec","number",["number"]),audio_handle=null,audio_websocket=null,audio_multi_websocket=null,switch_websocket=!1,audio_sample_rate=null,audio_decode_interval=null,audio_encode_interval=null,int16Array=null,int32Array=null,jump=0,ringbuf=null,logon=!1,RingBuffer=function(){function e(e){this.wpos=0,this.rpos=0,this.remaining_write_data=null,this.buf=e}return e.prototype.append=function(e){var t=this;return function(r,n){if(t.remaining_write_data)n();else{var i=t._append_some(e);i!=e.length?t.remaining_write_data=[e.subarray(i),r]:r()}}},e.prototype.read_some=function(e){var t=this._read_some(e);return this.remaining_write_data&&(this._append_remaining_data(),t<e.length&&(t+=this._read_some(e.subarray(t)))),t},e.prototype._append_some=function(e){var t=Math.min(e.length,this.available());if(0==t)return 0;var r=this.wpos%this.buf.length,n=Math.min(t,this.buf.length-r);return this.buf.set(e.subarray(0,n),r),n<t&&this.buf.set(e.subarray(n,t),0),this.wpos+=t,t},e.prototype._append_remaining_data=function(){var e=this.remaining_write_data[0],t=this.remaining_write_data[1];this.remaining_write_data=null;var r=this._append_some(e);r==e.length?t():this.remaining_write_data=[e.subarray(r),t]},e.prototype._read_some=function(e){var t=Math.min(e.length,this.size());if(t<e.length)return 0;if(0==t)return 0;var r=this.rpos%this.buf.length,n=Math.min(t,this.buf.length-r);return e.set(this.buf.subarray(r,r+n),0),n<t&&e.set(this.buf.subarray(0,t-n),n),this.rpos+=t,t},e.prototype.clear=function(){this.rpos=this.wpos=0,this.remaining_write_data=null},e.prototype.capacity=function(){return this.buf.length},e.prototype.size=function(){return this.wpos-this.rpos},e.prototype.available=function(){return this.capacity()-this.size()},e.MAX_POS=65536,e}();function Channel_Agent(){this.socket=null,this.onopen=null,this.onmessage=null,this.onerror=null,this.onclose=null,this.websocketaddress=null,this.startwebsocketreconnecttime=null,this.reconnect=null,this.activeclosewebsocket=!1,this.init=function(e,t,r,n,i){this.websocketaddress=e,this.onopen=t,this.onmessage=r,this.onerror=n,this.onclose=i},this.connect=function(e,t,r,n,i){var o=this;o.init(e,t,r,n,i),o.socket=new WebSocket(o.websocketaddress),o.socket.binaryType="arraybuffer",o.reconnect=function(){o.startwebsocketreconnecttime=null,o.socket=new WebSocket(this.websocketaddress),o.socket.binaryType="arraybuffer",o.socket.onopen=function(e){o.startwebsocketreconnecttime=(new Date).getTime()/1e3,o.onopen(e)},o.socket.onmessage=function(e){o.onmessage(e)},o.socket.onerror=function(e){JsSocket_Log("in function onerror"),null===o.startwebsocketreconnecttime?JsSocket_Log("In Reconnect Context, Reconnect is unnecessary"):(new Date).getTime()/1e3-o.startwebsocketreconnecttime>30?(JsSocket_Log(">>>30s"),setTimeout(function(){o.reconnect()},1e3)):(postMessage({status:Audio_Dec_WebSocket_FAILED}),JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!"))},o.socket.onclose=function(e){JsSocket_Log("in function onclose"+o.startwebsocketreconnecttime),null===o.startwebsocketreconnecttime?JsSocket_Log("In Reconnect Context, Reconnect is unnecessary"):(new Date).getTime()/1e3-o.startwebsocketreconnecttime>30?(JsSocket_Log(">>>30s"),setTimeout(function(){o.reconnect()},1e3)):(postMessage({status:Audio_Dec_WebSocket_FAILED}),JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!"))}},o.socket.onopen=function(e){postMessage({status:Audio_Dec_WebSocket_OK}),o.startwebsocketreconnecttime=(new Date).getTime()/1e3,o.onopen(e)},o.socket.onmessage=function(e){o.onmessage(e)},o.socket.onerror=function(e){JsSocket_Log("in function onerror"),o.activeclosewebsocket||(o.startwebsocketreconnecttime?(new Date).getTime()/1e3-o.startwebsocketreconnecttime>30?(JsSocket_Log(">>>30s"),setTimeout(function(){o.reconnect()},1e3)):(postMessage({status:Audio_Dec_WebSocket_FAILED}),JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")):(postMessage({status:Audio_Dec_WebSocket_FAILED}),JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary")))},this.socket.onclose=function(e){JsSocket_Log("in function onclose"+o.startwebsocketreconnecttime),o.activeclosewebsocket||(null===o.startwebsocketreconnecttime?(postMessage({status:Audio_Dec_WebSocket_FAILED}),JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary")):(new Date).getTime()/1e3-o.startwebsocketreconnecttime>30?(JsSocket_Log(">>>30s"),setTimeout(function(){o.reconnect()},1e3)):(postMessage({status:Audio_Dec_WebSocket_FAILED}),JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")))}},this.send=function(e){1===this.socket.readyState&&this.socket.send(e)},this.close=function(){this.activeclosewebsocket=!0,this.socket.close()}}function Open_Audio_WebSocket_Connect(e,t,r,n,i){JsSocket_Log("Open_Audio_WebSocket_Connect");var o=new Channel_Agent;return o.connect(e,t,r,n,i),o}function audio_websocket_on_open(){}function audio_websocket_on_message(e){if(null!==audio_handle){var t=new Uint8Array(e.data);audio_decode(audio_handle,0,t,t.length)}}function audio_websocket_on_close(e){}function audio_websocket_on_error(e){}function Put_Audio_Frame_Buffer(e){if(g_SetDelay&&0==g_AudioFrame&&(g_Delay||(g_Delay=50),audio_handle&&set_aec_delay(audio_handle,g_Delay)),++g_AudioFrame==Number.MAX_SAFE_INTEGER&&(g_AudioFrame=21),g_SetDelay&&g_AudioFrame%8e3==0){var t=get_aec_delay(audio_handle);t>0&&postMessage({status:AUDIO_DELAY,delay:t})}if(audio_handle){if(int16Array&&int16Array.length==e.length||(int16Array=new Int16Array(e.length)),++g_audioTestMuteFlag%g_audioTestMuteTotalCount==0){int32Array=new Int32Array(e.buffer);for(var r=0;r<int32Array.length;r++)if(0!=int32Array[r]){g_audioMuteCount=0;break}r==int32Array.length&&++g_audioMuteCount==g_audioTestMuteTotalCount&&(postMessage({status:Audio_Mute}),g_audioMuteCount=0)}for(let t=0;t<e.length;t++)null==int16Array&&(int16Array=new Int16Array(e.length)),e[t]=32768*e[t],e[t]>32767?e[t]=32767:e[t]<-32768&&(e[t]=-32768),int16Array[t]=e[t];var n=new Uint8Array(int16Array.buffer);if(audio_handle)ringbuf.append(n)(function(){},function(e){})}}function frame_aec_callback(e,t,r,n){var i=new Uint8Array(2*n),o=Module.HEAP8.subarray(e+0,e+2*n);i.set(o,0,2*n),put_aec_data({data:i,channels:r,sampleHZ:t})}function frame_callback(e,t,r,n,i,o,a,u){var s=new Uint8Array(t),l=Module.HEAP8.subarray(e+0,e+t);s.set(l,0,t);var _=new Uint8Array(2*u),c=Module.HEAP8.subarray(i+0,i+2*u);if(_.set(c,0,2*u),0!=n){var f=new Uint8Array(n),d=Module.HEAP8.subarray(r+0,r+n);f.set(d,0,n),audioDecodePort?audioDecodePort.postMessage({status:0,data:s,time:f,aec:_,channels:a,sampleHz:o,ssrc:currentSSRC},[s.buffer,f.buffer,_.buffer]):postMessage({status:0,data:s,time:f,aec:_,channels:a,sampleHz:o,ssrc:currentSSRC},[s.buffer,f.buffer,_.buffer])}else audioDecodePort?audioDecodePort.postMessage({status:0,data:s,aec:_,channels:a,sampleHz:o},[s.buffer,_.buffer]):postMessage({status:0,data:s,aec:_,channels:a,sampleHz:o},[s.buffer,_.buffer])}function audio_encode_frame_callback(e,t){var r=new Uint8Array(t),n=Module.HEAP8.subarray(e+0,e+t);r.set(n,0,t),null!==audio_websocket&&1===audio_websocket.socket.readyState&&1==g_mute&&g_AudioFrame>20&&0==switch_websocket?(switch_websocket=!0,audio_websocket.send(r),r.length):null!==audio_multi_websocket&&1===audio_multi_websocket.socket.readyState&&1==g_mute&&g_AudioFrame>20&&1==switch_websocket&&(switch_websocket=!1,audio_multi_websocket.send(r),r.length)}var g_dbObject,audioDecodePort,audioEncodePort,g_starttime=null,g_count=0,g_second=!1,g_testOver=!1,g_lock=null,g_sharbuffer=null,g_bAec=!1,g_mute=-1,g_shareBufferSampleNumb=30,g_audioTestMuteFlag=0,g_audioMuteCount=0,g_audioTestMuteTotalCount=100,g_SetDelay=!1,g_Delay=0,g_AudioFrame=0,preTime=null,periodCount=0,periodStart=null,periodTotalCount=9,total_count=0,total_Start_Time=0,aec_buffer=new Queue,isEdge=!1,currentSSRC=0;function Get_Mixed_Audio_Interval(){if(periodStart||(periodStart=(new Date).getTime()),g_starttime||(g_starttime=(new Date).getTime()),total_Start_Time||(total_Start_Time=(new Date).getTime()),g_count++,periodCount++,null!==audio_handle)if(jump>0)jump--;else{if(periodCount>=periodTotalCount){let e=(new Date).getTime();(isEdge||1==periodTotalCount||e-periodStart>10*periodCount)&&(g_second=!0),periodCount=0,periodStart=null}if(total_count++,get_mixed_Audio(audio_handle,audio_sample_rate/100,0,audio_sample_rate),g_second&&(total_count++,get_mixed_Audio(audio_handle,audio_sample_rate/100,0,audio_sample_rate)),g_second=!1,g_count>=1e3){var t=(new Date).getTime()-g_starttime;if(g_starttime=null,t>1e4&&t<2e4){let e=10*g_count/(t-1e4);periodTotalCount=Math.floor(e)}else periodTotalCount=9;g_count=0}}}function Encode_Audio_Data(e){for(var t=0;t<e&&ringbuf.read_some(local_data_)>0;){if(g_sharbuffer&&g_lock){var r=new Uint16Array(g_sharbuffer);if(g_lock.lock(),g_bAec){if(0!=r[2])for(var n=r[2],i=3;n>0;){n--,r[2]--;let e=r[i],t=i+2;i+=r[i+1],i+=2;let o=new Uint16Array(r.subarray(t,i)),a=new Uint8Array(o.buffer);audio_handle&&put_pre_aec_audio(audio_handle,a,e,1,o.length)}}else r[2]=0,g_bAec=!0;g_lock.unlock()}for(;aec_buffer.getLength()>0;){var o=aec_buffer.dequeue();put_pre_aec_audio(audio_handle,o.data,o.sampleHz,1,o.data.length/2)}t++,audio_encode(audio_handle,local_data_,audio_sample_rate/100,0,audio_sample_rate)}}function send_data(e,t){var r=new Uint8Array(t),n=Module.HEAP8.subarray(e+0,e+t);r.set(n,0,t),audio_websocket&&1===audio_websocket.socket.readyState&&audio_websocket.send(r),audio_multi_websocket&&1===audio_multi_websocket.socket.readyState&&audio_multi_websocket.send(r)}function put_aec_data(e){if(-1!=g_mute&&2!=g_mute&&g_sharbuffer&&g_lock&&null!=e&&!(e.data.length>960)){var t=new Uint16Array(g_sharbuffer);if(g_lock.lock(),t[2]<g_shareBufferSampleNumb){for(var n=3,i=t[2];i>0;)i--,n+=t[n+1],n+=2;if(e){var o=new Uint16Array(e.data.buffer);t[2]++,t[n]=e.sampleHZ,t[n+1]=o.length,n+=2,t.set(o,n)}}else t[2]=0;g_lock.unlock()}}function Get_ExternalRecord(e,t,r){}self.addEventListener("message",function(e){var t=e.data;switch(t.command){case"startMedia":try{null==audio_handle&&(audio_sample_rate=t.sampleRate,ringbuf=new RingBuffer(new Uint8Array(2*audio_sample_rate*10*4/100)),audio_handle=audio_init(t.userid),local_data_=new Uint8Array(audio_sample_rate/50),null==audio_handle?postMessage({status:-2}):(postMessage({status:2}),t.decode&&(audio_decode_interval=setInterval(Get_Mixed_Audio_Interval,9),isEdge=t.isEdge),t.encode&&(audio_encode_interval=setInterval(function(){Encode_Audio_Data(20)},20)),audio_websocket=Open_Audio_WebSocket_Connect(t.websocket_ip_address,audio_websocket_on_open,audio_websocket_on_message,audio_websocket_on_error,audio_websocket_on_close),audio_multi_websocket=Open_Audio_WebSocket_Connect(t.websocket_ip_address,audio_websocket_on_open,audio_websocket_on_message,audio_websocket_on_error,audio_websocket_on_close)))}catch(e){}break;case"EncodedAudioFrame":audio_websocket&&1===audio_websocket.socket.readyState&&audio_websocket.send(t.data);break;case"closeMedia":audio_websocket&&audio_websocket.close(),audio_multi_websocket&&audio_multi_websocket.close(),audio_encode_interval&&g_AudioFrame>4e3&&(r=get_aec_delay(audio_handle))>0&&postMessage({status:AUDIO_DELAY,delay:r}),clearInterval(audio_decode_interval),clearInterval(audio_encode_interval),audio_uninit(audio_handle),audio_handle=null,audio_decode_interval=null,audio_encode_interval=null,audio_websocket=null,audio_multi_websocket=null,close();break;case"delay":jump++;break;case"failover":audio_websocket&&(audio_websocket.close(),audio_websocket=Open_Audio_WebSocket_Connect(t.websocket_ip_address,audio_websocket_on_open,audio_websocket_on_message,audio_websocket_on_error,audio_websocket_on_close)),audio_multi_websocket&&(audio_multi_websocket.close(),audio_multi_websocket=Open_Audio_WebSocket_Connect(t.websocket_ip_address,audio_websocket_on_open,audio_websocket_on_message,audio_websocket_on_error,audio_websocket_on_close));break;case"EncodeAudioFrame":var r;if(g_SetDelay&&0==g_AudioFrame&&(g_Delay||(g_Delay=50),audio_handle&&set_aec_delay(audio_handle,g_Delay)),++g_AudioFrame==Number.MAX_SAFE_INTEGER&&(g_AudioFrame=21),g_SetDelay&&g_AudioFrame%8e3==0&&(r=get_aec_delay(audio_handle))>0&&postMessage({status:AUDIO_DELAY,delay:r}),audio_handle){if(int16Array&&int16Array.length==t.data.length||(int16Array=new Int16Array(t.data.length)),++g_audioTestMuteFlag%g_audioTestMuteTotalCount==0){int32Array=new Int32Array(t.data.buffer);for(var n=0;n<int32Array.length;n++)if(0!=int32Array[n]){g_audioMuteCount=0;break}n==int32Array.length&&++g_audioMuteCount==g_audioTestMuteTotalCount&&(postMessage({status:Audio_Mute}),g_audioMuteCount=0)}for(let e=0;e<t.data.length;e++)null==int16Array&&(int16Array=new Int16Array(t.data.length)),t.data[e]=32768*t.data[e],t.data[e]>32767?t.data[e]=32767:t.data[e]<-32768&&(t.data[e]=-32768),int16Array[e]=t.data[e];var i=new Uint8Array(int16Array.buffer);audio_handle&&ringbuf.append(i)(function(){},function(e){})}break;case"sharedBuffer":{const e=t.data;g_sharbuffer=e,g_lock=new Lock(new Int32Array(g_sharbuffer),0)}break;case"modifySampleRate":ringbuf.clear(),ringbuf=null,ringbuf=new RingBuffer(new Uint8Array(2*t.sampleRate*10*4/100)),local_data_=null,local_data_=new Uint8Array(t.sampleRate/50),audio_sample_rate=null,audio_sample_rate=t.sampleRate;break;case"mute":g_mute=t.bOn;break;case"resetAec":audio_handle&&reset_aec(audio_handle),g_AudioFrame=0;break;case"SetAECDelay":g_SetDelay=!0,g_Delay=t.delay;break;case"EchoCancel":if(audio_handle){if(-1==g_mute||2==g_mute)return;aec_buffer.enqueue({data:t.data,sampleHz:t.sampleHz})}break;case"decodeAudioPort":audioDecodePort&&audioDecodePort.close(),(audioDecodePort=e.ports[0]).onmessage=function(e){switch(e.data.status){case"delay":jump++}};break;case"encodeAudioPort":audioEncodePort&&audioEncodePort.close(),(audioEncodePort=e.ports[0]).onmessage=function(e){switch(e.data.command){case"EncodeAudioFrame":Put_Audio_Frame_Buffer(e.data.data);break;case"EchoCancel":if(audio_handle){if(-1==g_mute||2==g_mute)return;aec_buffer.enqueue({data:e.data.data,sampleHz:e.data.sampleHz})}}};break;case"updateCurrentSSRC":currentSSRC=t.SSRC}});